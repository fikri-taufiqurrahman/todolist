function gA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ep(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var V0={exports:{}},Ku={},F0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=Symbol.for("react.element"),yA=Symbol.for("react.portal"),vA=Symbol.for("react.fragment"),_A=Symbol.for("react.strict_mode"),wA=Symbol.for("react.profiler"),EA=Symbol.for("react.provider"),IA=Symbol.for("react.context"),TA=Symbol.for("react.forward_ref"),SA=Symbol.for("react.suspense"),AA=Symbol.for("react.memo"),CA=Symbol.for("react.lazy"),gy=Symbol.iterator;function PA(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B0=Object.assign,$0={};function To(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||U0}To.prototype.isReactComponent={};To.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};To.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j0(){}j0.prototype=To.prototype;function tp(t,e,n){this.props=t,this.context=e,this.refs=$0,this.updater=n||U0}var np=tp.prototype=new j0;np.constructor=tp;B0(np,To.prototype);np.isPureReactComponent=!0;var yy=Array.isArray,z0=Object.prototype.hasOwnProperty,rp={current:null},W0={key:!0,ref:!0,__self:!0,__source:!0};function G0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)z0.call(e,r)&&!W0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ya,type:t,key:o,ref:s,props:i,_owner:rp.current}}function RA(t,e){return{$$typeof:ya,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ip(t){return typeof t=="object"&&t!==null&&t.$$typeof===ya}function bA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vy=/\/+/g;function Dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bA(""+t.key):e.toString(36)}function bl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ya:case yA:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Dd(s,0):r,yy(i)?(n="",t!=null&&(n=t.replace(vy,"$&/")+"/"),bl(i,e,n,"",function(c){return c})):i!=null&&(ip(i)&&(i=RA(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(vy,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",yy(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+Dd(o,a);s+=bl(o,e,n,u,i)}else if(u=PA(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+Dd(o,a++),s+=bl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function nl(t,e,n){if(t==null)return t;var r=[],i=0;return bl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},xl={transition:null},DA={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:xl,ReactCurrentOwner:rp};function H0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:nl,forEach:function(t,e,n){nl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nl(t,function(){e++}),e},toArray:function(t){return nl(t,function(e){return e})||[]},only:function(t){if(!ip(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=To;ne.Fragment=vA;ne.Profiler=wA;ne.PureComponent=tp;ne.StrictMode=_A;ne.Suspense=SA;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DA;ne.act=H0;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=B0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)z0.call(e,u)&&!W0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ya,type:t.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(t){return t={$$typeof:IA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EA,_context:t},t.Consumer=t};ne.createElement=G0;ne.createFactory=function(t){var e=G0.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:TA,render:t}};ne.isValidElement=ip;ne.lazy=function(t){return{$$typeof:CA,_payload:{_status:-1,_result:t},_init:xA}};ne.memo=function(t,e){return{$$typeof:AA,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=xl.transition;xl.transition={};try{t()}finally{xl.transition=e}};ne.unstable_act=H0;ne.useCallback=function(t,e){return _t.current.useCallback(t,e)};ne.useContext=function(t){return _t.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};ne.useEffect=function(t,e){return _t.current.useEffect(t,e)};ne.useId=function(){return _t.current.useId()};ne.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return _t.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};ne.useRef=function(t){return _t.current.useRef(t)};ne.useState=function(t){return _t.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return _t.current.useTransition()};ne.version="18.3.1";F0.exports=ne;var N=F0.exports;const te=ep(N),kA=gA({__proto__:null,default:te},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA=N,OA=Symbol.for("react.element"),LA=Symbol.for("react.fragment"),MA=Object.prototype.hasOwnProperty,VA=NA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FA={key:!0,ref:!0,__self:!0,__source:!0};function q0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)MA.call(e,r)&&!FA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OA,type:t,key:o,ref:s,props:i,_owner:VA.current}}Ku.Fragment=LA;Ku.jsx=q0;Ku.jsxs=q0;V0.exports=Ku;var F=V0.exports,Ph={},K0={exports:{}},jt={},Q0={exports:{}},Y0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Q){var J=z.length;z.push(Q);e:for(;0<J;){var pe=J-1>>>1,ue=z[pe];if(0<i(ue,Q))z[pe]=Q,z[J]=ue,J=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],J=z.pop();if(J!==Q){z[0]=J;e:for(var pe=0,ue=z.length,me=ue>>>1;pe<me;){var Gt=2*(pe+1)-1,xt=z[Gt],Dt=Gt+1,Ht=z[Dt];if(0>i(xt,J))Dt<ue&&0>i(Ht,xt)?(z[pe]=Ht,z[Dt]=J,pe=Dt):(z[pe]=xt,z[Gt]=J,pe=Gt);else if(Dt<ue&&0>i(Ht,J))z[pe]=Ht,z[Dt]=J,pe=Dt;else break e}}return Q}function i(z,Q){var J=z.sortIndex-Q.sortIndex;return J!==0?J:z.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,h=null,p=3,g=!1,w=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(z){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=z)r(c),Q.sortIndex=Q.expirationTime,e(u,Q);else break;Q=n(c)}}function D(z){if(T=!1,C(z),!w)if(n(u)!==null)w=!0,Yn(L);else{var Q=n(c);Q!==null&&bt(D,Q.startTime-z)}}function L(z,Q){w=!1,T&&(T=!1,E(y),y=-1),g=!0;var J=p;try{for(C(Q),h=n(u);h!==null&&(!(h.expirationTime>Q)||z&&!b());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var ue=pe(h.expirationTime<=Q);Q=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(u)&&r(u),C(Q)}else r(u);h=n(u)}if(h!==null)var me=!0;else{var Gt=n(c);Gt!==null&&bt(D,Gt.startTime-Q),me=!1}return me}finally{h=null,p=J,g=!1}}var M=!1,S=null,y=-1,I=5,A=-1;function b(){return!(t.unstable_now()-A<I)}function x(){if(S!==null){var z=t.unstable_now();A=z;var Q=!0;try{Q=S(!0,z)}finally{Q?R():(M=!1,S=null)}}else M=!1}var R;if(typeof _=="function")R=function(){_(x)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,$e=Te.port2;Te.port1.onmessage=x,R=function(){$e.postMessage(null)}}else R=function(){P(x,0)};function Yn(z){S=z,M||(M=!0,R())}function bt(z,Q){y=P(function(){z(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Yn(L))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var J=p;p=Q;try{return z()}finally{p=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=p;p=z;try{return Q()}finally{p=J}},t.unstable_scheduleCallback=function(z,Q,J){var pe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?pe+J:pe):J=pe,z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=J+ue,z={id:d++,callback:Q,priorityLevel:z,startTime:J,expirationTime:ue,sortIndex:-1},J>pe?(z.sortIndex=J,e(c,z),n(u)===null&&z===n(c)&&(T?(E(y),y=-1):T=!0,bt(D,J-pe))):(z.sortIndex=ue,e(u,z),w||g||(w=!0,Yn(L))),z},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(z){var Q=p;return function(){var J=p;p=Q;try{return z.apply(this,arguments)}finally{p=J}}}})(Y0);Q0.exports=Y0;var UA=Q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA=N,$t=UA;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X0=new Set,Ls={};function wi(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Ls[t]=e,t=0;t<e.length;t++)X0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rh=Object.prototype.hasOwnProperty,$A=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_y={},wy={};function jA(t){return Rh.call(wy,t)?!0:Rh.call(_y,t)?!1:$A.test(t)?wy[t]=!0:(_y[t]=!0,!1)}function zA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WA(t,e,n,r){if(e===null||typeof e>"u"||zA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var op=/[\-:]([a-z])/g;function sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(op,sp);tt[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(op,sp);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(op,sp);tt[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ap(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WA(e,n,i,r)&&(n=null),r||i===null?jA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qn=BA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),J0=Symbol.for("react.provider"),Z0=Symbol.for("react.context"),up=Symbol.for("react.forward_ref"),xh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),cp=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),ew=Symbol.for("react.offscreen"),Ey=Symbol.iterator;function Jo(t){return t===null||typeof t!="object"?null:(t=Ey&&t[Ey]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,kd;function cs(t){if(kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kd=e&&e[1]||""}return`
`+kd+t}var Nd=!1;function Od(t,e){if(!t||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cs(t):""}function GA(t){switch(t.tag){case 5:return cs(t.type);case 16:return cs("Lazy");case 13:return cs("Suspense");case 19:return cs("SuspenseList");case 0:case 2:case 15:return t=Od(t.type,!1),t;case 11:return t=Od(t.type.render,!1),t;case 1:return t=Od(t.type,!0),t;default:return""}}function kh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case Ni:return"Portal";case bh:return"Profiler";case lp:return"StrictMode";case xh:return"Suspense";case Dh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z0:return(t.displayName||"Context")+".Consumer";case J0:return(t._context.displayName||"Context")+".Provider";case up:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cp:return e=t.displayName||null,e!==null?e:kh(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return kh(t(e))}catch{}}return null}function HA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kh(e);case 8:return e===lp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qA(t){var e=tw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function il(t){t._valueTracker||(t._valueTracker=qA(t))}function nw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=tw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nh(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Iy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rw(t,e){e=e.checked,e!=null&&ap(t,"checked",e,!1)}function Oh(t,e){rw(t,e);var n=xr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lh(t,e.type,xr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ty(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lh(t,e,n){(e!=="number"||Jl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ds=Array.isArray;function Gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Mh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(ds(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xr(n)}}function iw(t,e){var n=xr(e.value),r=xr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ay(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ow(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ow(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ol,sw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ol.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ms(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _s={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KA=["Webkit","ms","Moz","O"];Object.keys(_s).forEach(function(t){KA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_s[e]=_s[t]})});function aw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_s.hasOwnProperty(t)&&_s[t]?(""+e).trim():e+"px"}function lw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=aw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QA=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fh(t,e){if(e){if(QA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Uh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function dp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $h=null,Hi=null,qi=null;function Cy(t){if(t=wa(t)){if(typeof $h!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Zu(e),$h(t.stateNode,t.type,e))}}function uw(t){Hi?qi?qi.push(t):qi=[t]:Hi=t}function cw(){if(Hi){var t=Hi,e=qi;if(qi=Hi=null,Cy(t),e)for(t=0;t<e.length;t++)Cy(e[t])}}function dw(t,e){return t(e)}function hw(){}var Ld=!1;function fw(t,e,n){if(Ld)return t(e,n);Ld=!0;try{return dw(t,e,n)}finally{Ld=!1,(Hi!==null||qi!==null)&&(hw(),cw())}}function Vs(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var jh=!1;if(Bn)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{jh=!1}function YA(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ws=!1,Zl=null,eu=!1,zh=null,XA={onError:function(t){ws=!0,Zl=t}};function JA(t,e,n,r,i,o,s,a,u){ws=!1,Zl=null,YA.apply(XA,arguments)}function ZA(t,e,n,r,i,o,s,a,u){if(JA.apply(this,arguments),ws){if(ws){var c=Zl;ws=!1,Zl=null}else throw Error(B(198));eu||(eu=!0,zh=c)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Py(t){if(Ei(t)!==t)throw Error(B(188))}function eC(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Py(i),t;if(o===r)return Py(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function mw(t){return t=eC(t),t!==null?gw(t):null}function gw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gw(t);if(e!==null)return e;t=t.sibling}return null}var yw=$t.unstable_scheduleCallback,Ry=$t.unstable_cancelCallback,tC=$t.unstable_shouldYield,nC=$t.unstable_requestPaint,De=$t.unstable_now,rC=$t.unstable_getCurrentPriorityLevel,hp=$t.unstable_ImmediatePriority,vw=$t.unstable_UserBlockingPriority,tu=$t.unstable_NormalPriority,iC=$t.unstable_LowPriority,_w=$t.unstable_IdlePriority,Qu=null,En=null;function oC(t){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Qu,t,void 0,(t.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:lC,sC=Math.log,aC=Math.LN2;function lC(t){return t>>>=0,t===0?32:31-(sC(t)/aC|0)|0}var sl=64,al=4194304;function hs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=hs(a):(o&=s,o!==0&&(r=hs(o)))}else s=n&~i,s!==0?r=hs(s):o!==0&&(r=hs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-hn(e),i=1<<n,r|=t[n],e&=~i;return r}function uC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-hn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=uC(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function Wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ww(){var t=sl;return sl<<=1,!(sl&4194240)&&(sl=64),t}function Md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function va(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hn(e),t[e]=n}function dC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-hn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function fp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-hn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function Ew(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Iw,pp,Tw,Sw,Aw,Gh=!1,ll=[],pr=null,mr=null,gr=null,Fs=new Map,Us=new Map,or=[],hC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function by(t,e){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Fs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Us.delete(e.pointerId)}}function es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=wa(e),e!==null&&pp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fC(t,e,n,r,i){switch(e){case"focusin":return pr=es(pr,t,e,n,r,i),!0;case"dragenter":return mr=es(mr,t,e,n,r,i),!0;case"mouseover":return gr=es(gr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Fs.set(o,es(Fs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Us.set(o,es(Us.get(o)||null,t,e,n,r,i)),!0}return!1}function Cw(t){var e=Xr(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=pw(n),e!==null){t.blockedOn=e,Aw(t.priority,function(){Tw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bh=r,n.target.dispatchEvent(r),Bh=null}else return e=wa(n),e!==null&&pp(e),t.blockedOn=n,!1;e.shift()}return!0}function xy(t,e,n){Dl(t)&&n.delete(e)}function pC(){Gh=!1,pr!==null&&Dl(pr)&&(pr=null),mr!==null&&Dl(mr)&&(mr=null),gr!==null&&Dl(gr)&&(gr=null),Fs.forEach(xy),Us.forEach(xy)}function ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Gh||(Gh=!0,$t.unstable_scheduleCallback($t.unstable_NormalPriority,pC)))}function Bs(t){function e(i){return ts(i,t)}if(0<ll.length){ts(ll[0],t);for(var n=1;n<ll.length;n++){var r=ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pr!==null&&ts(pr,t),mr!==null&&ts(mr,t),gr!==null&&ts(gr,t),Fs.forEach(e),Us.forEach(e),n=0;n<or.length;n++)r=or[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<or.length&&(n=or[0],n.blockedOn===null);)Cw(n),n.blockedOn===null&&or.shift()}var Ki=qn.ReactCurrentBatchConfig,ru=!0;function mC(t,e,n,r){var i=de,o=Ki.transition;Ki.transition=null;try{de=1,mp(t,e,n,r)}finally{de=i,Ki.transition=o}}function gC(t,e,n,r){var i=de,o=Ki.transition;Ki.transition=null;try{de=4,mp(t,e,n,r)}finally{de=i,Ki.transition=o}}function mp(t,e,n,r){if(ru){var i=Hh(t,e,n,r);if(i===null)Hd(t,e,r,iu,n),by(t,r);else if(fC(i,t,e,n,r))r.stopPropagation();else if(by(t,r),e&4&&-1<hC.indexOf(t)){for(;i!==null;){var o=wa(i);if(o!==null&&Iw(o),o=Hh(t,e,n,r),o===null&&Hd(t,e,r,iu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hd(t,e,r,null,n)}}var iu=null;function Hh(t,e,n,r){if(iu=null,t=dp(r),t=Xr(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iu=t,null}function Pw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rC()){case hp:return 1;case vw:return 4;case tu:case iC:return 16;case _w:return 536870912;default:return 16}default:return 16}}var cr=null,gp=null,kl=null;function Rw(){if(kl)return kl;var t,e=gp,n=e.length,r,i="value"in cr?cr.value:cr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return kl=i.slice(t,1<r?1-r:void 0)}function Nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ul(){return!0}function Dy(){return!1}function zt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ul:Dy,this.isPropagationStopped=Dy,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),e}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=zt(So),_a=Pe({},So,{view:0,detail:0}),yC=zt(_a),Vd,Fd,ns,Yu=Pe({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ns&&(ns&&t.type==="mousemove"?(Vd=t.screenX-ns.screenX,Fd=t.screenY-ns.screenY):Fd=Vd=0,ns=t),Vd)},movementY:function(t){return"movementY"in t?t.movementY:Fd}}),ky=zt(Yu),vC=Pe({},Yu,{dataTransfer:0}),_C=zt(vC),wC=Pe({},_a,{relatedTarget:0}),Ud=zt(wC),EC=Pe({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=zt(EC),TC=Pe({},So,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SC=zt(TC),AC=Pe({},So,{data:0}),Ny=zt(AC),CC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RC[t])?!!e[t]:!1}function vp(){return bC}var xC=Pe({},_a,{key:function(t){if(t.key){var e=CC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),DC=zt(xC),kC=Pe({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oy=zt(kC),NC=Pe({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),OC=zt(NC),LC=Pe({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),MC=zt(LC),VC=Pe({},Yu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FC=zt(VC),UC=[9,13,27,32],_p=Bn&&"CompositionEvent"in window,Es=null;Bn&&"documentMode"in document&&(Es=document.documentMode);var BC=Bn&&"TextEvent"in window&&!Es,bw=Bn&&(!_p||Es&&8<Es&&11>=Es),Ly=" ",My=!1;function xw(t,e){switch(t){case"keyup":return UC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function $C(t,e){switch(t){case"compositionend":return Dw(e);case"keypress":return e.which!==32?null:(My=!0,Ly);case"textInput":return t=e.data,t===Ly&&My?null:t;default:return null}}function jC(t,e){if(Li)return t==="compositionend"||!_p&&xw(t,e)?(t=Rw(),kl=gp=cr=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bw&&e.locale!=="ko"?null:e.data;default:return null}}var zC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zC[t.type]:e==="textarea"}function kw(t,e,n,r){uw(r),e=ou(e,"onChange"),0<e.length&&(n=new yp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Is=null,$s=null;function WC(t){zw(t,0)}function Xu(t){var e=Fi(t);if(nw(e))return t}function GC(t,e){if(t==="change")return e}var Nw=!1;if(Bn){var Bd;if(Bn){var $d="oninput"in document;if(!$d){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),$d=typeof Fy.oninput=="function"}Bd=$d}else Bd=!1;Nw=Bd&&(!document.documentMode||9<document.documentMode)}function Uy(){Is&&(Is.detachEvent("onpropertychange",Ow),$s=Is=null)}function Ow(t){if(t.propertyName==="value"&&Xu($s)){var e=[];kw(e,$s,t,dp(t)),fw(WC,e)}}function HC(t,e,n){t==="focusin"?(Uy(),Is=e,$s=n,Is.attachEvent("onpropertychange",Ow)):t==="focusout"&&Uy()}function qC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu($s)}function KC(t,e){if(t==="click")return Xu(e)}function QC(t,e){if(t==="input"||t==="change")return Xu(e)}function YC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:YC;function js(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rh.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function By(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $y(t,e){var n=By(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=By(n)}}function Lw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Lw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Mw(){for(var t=window,e=Jl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jl(t.document)}return e}function wp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XC(t){var e=Mw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Lw(n.ownerDocument.documentElement,n)){if(r!==null&&wp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$y(n,o);var s=$y(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JC=Bn&&"documentMode"in document&&11>=document.documentMode,Mi=null,qh=null,Ts=null,Kh=!1;function jy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kh||Mi==null||Mi!==Jl(r)||(r=Mi,"selectionStart"in r&&wp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ts&&js(Ts,r)||(Ts=r,r=ou(qh,"onSelect"),0<r.length&&(e=new yp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionend:cl("Transition","TransitionEnd")},jd={},Vw={};Bn&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Ju(t){if(jd[t])return jd[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vw)return jd[t]=e[n];return t}var Fw=Ju("animationend"),Uw=Ju("animationiteration"),Bw=Ju("animationstart"),$w=Ju("transitionend"),jw=new Map,zy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(t,e){jw.set(t,e),wi(e,[t])}for(var zd=0;zd<zy.length;zd++){var Wd=zy[zd],ZC=Wd.toLowerCase(),eP=Wd[0].toUpperCase()+Wd.slice(1);Mr(ZC,"on"+eP)}Mr(Fw,"onAnimationEnd");Mr(Uw,"onAnimationIteration");Mr(Bw,"onAnimationStart");Mr("dblclick","onDoubleClick");Mr("focusin","onFocus");Mr("focusout","onBlur");Mr($w,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tP=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function Wy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZA(r,e,void 0,t),t.currentTarget=null}function zw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Wy(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Wy(i,a,c),o=u}}}if(eu)throw t=zh,eu=!1,zh=null,t}function we(t,e){var n=e[Zh];n===void 0&&(n=e[Zh]=new Set);var r=t+"__bubble";n.has(r)||(Ww(e,t,2,!1),n.add(r))}function Gd(t,e,n){var r=0;e&&(r|=4),Ww(n,t,r,e)}var dl="_reactListening"+Math.random().toString(36).slice(2);function zs(t){if(!t[dl]){t[dl]=!0,X0.forEach(function(n){n!=="selectionchange"&&(tP.has(n)||Gd(n,!1,t),Gd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dl]||(e[dl]=!0,Gd("selectionchange",!1,e))}}function Ww(t,e,n,r){switch(Pw(e)){case 1:var i=mC;break;case 4:i=gC;break;default:i=mp}n=i.bind(null,e,n,t),i=void 0,!jh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Xr(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}fw(function(){var c=o,d=dp(n),h=[];e:{var p=jw.get(t);if(p!==void 0){var g=yp,w=t;switch(t){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":g=DC;break;case"focusin":w="focus",g=Ud;break;case"focusout":w="blur",g=Ud;break;case"beforeblur":case"afterblur":g=Ud;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ky;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=_C;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OC;break;case Fw:case Uw:case Bw:g=IC;break;case $w:g=MC;break;case"scroll":g=yC;break;case"wheel":g=FC;break;case"copy":case"cut":case"paste":g=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Oy}var T=(e&4)!==0,P=!T&&t==="scroll",E=T?p!==null?p+"Capture":null:p;T=[];for(var _=c,C;_!==null;){C=_;var D=C.stateNode;if(C.tag===5&&D!==null&&(C=D,E!==null&&(D=Vs(_,E),D!=null&&T.push(Ws(_,D,C)))),P)break;_=_.return}0<T.length&&(p=new g(p,w,null,n,d),h.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==Bh&&(w=n.relatedTarget||n.fromElement)&&(Xr(w)||w[$n]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Xr(w):null,w!==null&&(P=Ei(w),w!==P||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(T=ky,D="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=Oy,D="onPointerLeave",E="onPointerEnter",_="pointer"),P=g==null?p:Fi(g),C=w==null?p:Fi(w),p=new T(D,_+"leave",g,n,d),p.target=P,p.relatedTarget=C,D=null,Xr(d)===c&&(T=new T(E,_+"enter",w,n,d),T.target=C,T.relatedTarget=P,D=T),P=D,g&&w)t:{for(T=g,E=w,_=0,C=T;C;C=bi(C))_++;for(C=0,D=E;D;D=bi(D))C++;for(;0<_-C;)T=bi(T),_--;for(;0<C-_;)E=bi(E),C--;for(;_--;){if(T===E||E!==null&&T===E.alternate)break t;T=bi(T),E=bi(E)}T=null}else T=null;g!==null&&Gy(h,p,g,T,!1),w!==null&&P!==null&&Gy(h,P,w,T,!0)}}e:{if(p=c?Fi(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var L=GC;else if(Vy(p))if(Nw)L=QC;else{L=qC;var M=HC}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(L=KC);if(L&&(L=L(t,c))){kw(h,L,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Lh(p,"number",p.value)}switch(M=c?Fi(c):window,t){case"focusin":(Vy(M)||M.contentEditable==="true")&&(Mi=M,qh=c,Ts=null);break;case"focusout":Ts=qh=Mi=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,jy(h,n,d);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":jy(h,n,d)}var S;if(_p)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Li?xw(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(bw&&n.locale!=="ko"&&(Li||y!=="onCompositionStart"?y==="onCompositionEnd"&&Li&&(S=Rw()):(cr=d,gp="value"in cr?cr.value:cr.textContent,Li=!0)),M=ou(c,y),0<M.length&&(y=new Ny(y,t,null,n,d),h.push({event:y,listeners:M}),S?y.data=S:(S=Dw(n),S!==null&&(y.data=S)))),(S=BC?$C(t,n):jC(t,n))&&(c=ou(c,"onBeforeInput"),0<c.length&&(d=new Ny("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=S))}zw(h,e)})}function Ws(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Vs(t,n),o!=null&&r.unshift(Ws(t,o,i)),o=Vs(t,e),o!=null&&r.push(Ws(t,o,i))),t=t.return}return r}function bi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gy(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=Vs(n,o),u!=null&&s.unshift(Ws(n,u,a))):i||(u=Vs(n,o),u!=null&&s.push(Ws(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var nP=/\r\n?/g,rP=/\u0000|\uFFFD/g;function Hy(t){return(typeof t=="string"?t:""+t).replace(nP,`
`).replace(rP,"")}function hl(t,e,n){if(e=Hy(e),Hy(t)!==e&&n)throw Error(B(425))}function su(){}var Qh=null,Yh=null;function Xh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,iP=typeof clearTimeout=="function"?clearTimeout:void 0,qy=typeof Promise=="function"?Promise:void 0,oP=typeof queueMicrotask=="function"?queueMicrotask:typeof qy<"u"?function(t){return qy.resolve(null).then(t).catch(sP)}:Jh;function sP(t){setTimeout(function(){throw t})}function qd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bs(e)}function yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ky(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=Math.random().toString(36).slice(2),wn="__reactFiber$"+Ao,Gs="__reactProps$"+Ao,$n="__reactContainer$"+Ao,Zh="__reactEvents$"+Ao,aP="__reactListeners$"+Ao,lP="__reactHandles$"+Ao;function Xr(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ky(t);t!==null;){if(n=t[wn])return n;t=Ky(t)}return e}t=n,n=t.parentNode}return null}function wa(t){return t=t[wn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Zu(t){return t[Gs]||null}var ef=[],Ui=-1;function Vr(t){return{current:t}}function Ie(t){0>Ui||(t.current=ef[Ui],ef[Ui]=null,Ui--)}function ye(t,e){Ui++,ef[Ui]=t.current,t.current=e}var Dr={},ht=Vr(Dr),Ct=Vr(!1),si=Dr;function no(t,e){var n=t.type.contextTypes;if(!n)return Dr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pt(t){return t=t.childContextTypes,t!=null}function au(){Ie(Ct),Ie(ht)}function Qy(t,e,n){if(ht.current!==Dr)throw Error(B(168));ye(ht,e),ye(Ct,n)}function Gw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,HA(t)||"Unknown",i));return Pe({},n,r)}function lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,si=ht.current,ye(ht,t),ye(Ct,Ct.current),!0}function Yy(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Gw(t,e,si),r.__reactInternalMemoizedMergedChildContext=t,Ie(Ct),Ie(ht),ye(ht,t)):Ie(Ct),ye(Ct,n)}var Dn=null,ec=!1,Kd=!1;function Hw(t){Dn===null?Dn=[t]:Dn.push(t)}function uP(t){ec=!0,Hw(t)}function Fr(){if(!Kd&&Dn!==null){Kd=!0;var t=0,e=de;try{var n=Dn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,ec=!1}catch(i){throw Dn!==null&&(Dn=Dn.slice(t+1)),yw(hp,Fr),i}finally{de=e,Kd=!1}}return null}var Bi=[],$i=0,uu=null,cu=0,Kt=[],Qt=0,ai=null,Nn=1,On="";function qr(t,e){Bi[$i++]=cu,Bi[$i++]=uu,uu=t,cu=e}function qw(t,e,n){Kt[Qt++]=Nn,Kt[Qt++]=On,Kt[Qt++]=ai,ai=t;var r=Nn;t=On;var i=32-hn(r)-1;r&=~(1<<i),n+=1;var o=32-hn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Nn=1<<32-hn(e)+i|n<<i|r,On=o+t}else Nn=1<<o|n<<i|r,On=t}function Ep(t){t.return!==null&&(qr(t,1),qw(t,1,0))}function Ip(t){for(;t===uu;)uu=Bi[--$i],Bi[$i]=null,cu=Bi[--$i],Bi[$i]=null;for(;t===ai;)ai=Kt[--Qt],Kt[Qt]=null,On=Kt[--Qt],Kt[Qt]=null,Nn=Kt[--Qt],Kt[Qt]=null}var Vt=null,Ot=null,Se=!1,un=null;function Kw(t,e){var n=Yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Ot=yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ai!==null?{id:Nn,overflow:On}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Ot=null,!0):!1;default:return!1}}function tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function nf(t){if(Se){var e=Ot;if(e){var n=e;if(!Xy(t,e)){if(tf(t))throw Error(B(418));e=yr(n.nextSibling);var r=Vt;e&&Xy(t,e)?Kw(r,n):(t.flags=t.flags&-4097|2,Se=!1,Vt=t)}}else{if(tf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Se=!1,Vt=t}}}function Jy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function fl(t){if(t!==Vt)return!1;if(!Se)return Jy(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xh(t.type,t.memoizedProps)),e&&(e=Ot)){if(tf(t))throw Qw(),Error(B(418));for(;e;)Kw(t,e),e=yr(e.nextSibling)}if(Jy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ot=yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ot=null}}else Ot=Vt?yr(t.stateNode.nextSibling):null;return!0}function Qw(){for(var t=Ot;t;)t=yr(t.nextSibling)}function ro(){Ot=Vt=null,Se=!1}function Tp(t){un===null?un=[t]:un.push(t)}var cP=qn.ReactCurrentBatchConfig;function rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function pl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zy(t){var e=t._init;return e(t._payload)}function Yw(t){function e(E,_){if(t){var C=E.deletions;C===null?(E.deletions=[_],E.flags|=16):C.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=Er(E,_),E.index=0,E.sibling=null,E}function o(E,_,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<_?(E.flags|=2,_):C):(E.flags|=2,_)):(E.flags|=1048576,_)}function s(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,C,D){return _===null||_.tag!==6?(_=th(C,E.mode,D),_.return=E,_):(_=i(_,C),_.return=E,_)}function u(E,_,C,D){var L=C.type;return L===Oi?d(E,_,C.props.children,D,C.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===rr&&Zy(L)===_.type)?(D=i(_,C.props),D.ref=rs(E,_,C),D.return=E,D):(D=Bl(C.type,C.key,C.props,null,E.mode,D),D.ref=rs(E,_,C),D.return=E,D)}function c(E,_,C,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=nh(C,E.mode,D),_.return=E,_):(_=i(_,C.children||[]),_.return=E,_)}function d(E,_,C,D,L){return _===null||_.tag!==7?(_=ri(C,E.mode,D,L),_.return=E,_):(_=i(_,C),_.return=E,_)}function h(E,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=th(""+_,E.mode,C),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rl:return C=Bl(_.type,_.key,_.props,null,E.mode,C),C.ref=rs(E,null,_),C.return=E,C;case Ni:return _=nh(_,E.mode,C),_.return=E,_;case rr:var D=_._init;return h(E,D(_._payload),C)}if(ds(_)||Jo(_))return _=ri(_,E.mode,C,null),_.return=E,_;pl(E,_)}return null}function p(E,_,C,D){var L=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return L!==null?null:a(E,_,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rl:return C.key===L?u(E,_,C,D):null;case Ni:return C.key===L?c(E,_,C,D):null;case rr:return L=C._init,p(E,_,L(C._payload),D)}if(ds(C)||Jo(C))return L!==null?null:d(E,_,C,D,null);pl(E,C)}return null}function g(E,_,C,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return E=E.get(C)||null,a(_,E,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case rl:return E=E.get(D.key===null?C:D.key)||null,u(_,E,D,L);case Ni:return E=E.get(D.key===null?C:D.key)||null,c(_,E,D,L);case rr:var M=D._init;return g(E,_,C,M(D._payload),L)}if(ds(D)||Jo(D))return E=E.get(C)||null,d(_,E,D,L,null);pl(_,D)}return null}function w(E,_,C,D){for(var L=null,M=null,S=_,y=_=0,I=null;S!==null&&y<C.length;y++){S.index>y?(I=S,S=null):I=S.sibling;var A=p(E,S,C[y],D);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(E,S),_=o(A,_,y),M===null?L=A:M.sibling=A,M=A,S=I}if(y===C.length)return n(E,S),Se&&qr(E,y),L;if(S===null){for(;y<C.length;y++)S=h(E,C[y],D),S!==null&&(_=o(S,_,y),M===null?L=S:M.sibling=S,M=S);return Se&&qr(E,y),L}for(S=r(E,S);y<C.length;y++)I=g(S,E,y,C[y],D),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),_=o(I,_,y),M===null?L=I:M.sibling=I,M=I);return t&&S.forEach(function(b){return e(E,b)}),Se&&qr(E,y),L}function T(E,_,C,D){var L=Jo(C);if(typeof L!="function")throw Error(B(150));if(C=L.call(C),C==null)throw Error(B(151));for(var M=L=null,S=_,y=_=0,I=null,A=C.next();S!==null&&!A.done;y++,A=C.next()){S.index>y?(I=S,S=null):I=S.sibling;var b=p(E,S,A.value,D);if(b===null){S===null&&(S=I);break}t&&S&&b.alternate===null&&e(E,S),_=o(b,_,y),M===null?L=b:M.sibling=b,M=b,S=I}if(A.done)return n(E,S),Se&&qr(E,y),L;if(S===null){for(;!A.done;y++,A=C.next())A=h(E,A.value,D),A!==null&&(_=o(A,_,y),M===null?L=A:M.sibling=A,M=A);return Se&&qr(E,y),L}for(S=r(E,S);!A.done;y++,A=C.next())A=g(S,E,y,A.value,D),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?y:A.key),_=o(A,_,y),M===null?L=A:M.sibling=A,M=A);return t&&S.forEach(function(x){return e(E,x)}),Se&&qr(E,y),L}function P(E,_,C,D){if(typeof C=="object"&&C!==null&&C.type===Oi&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case rl:e:{for(var L=C.key,M=_;M!==null;){if(M.key===L){if(L=C.type,L===Oi){if(M.tag===7){n(E,M.sibling),_=i(M,C.props.children),_.return=E,E=_;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===rr&&Zy(L)===M.type){n(E,M.sibling),_=i(M,C.props),_.ref=rs(E,M,C),_.return=E,E=_;break e}n(E,M);break}else e(E,M);M=M.sibling}C.type===Oi?(_=ri(C.props.children,E.mode,D,C.key),_.return=E,E=_):(D=Bl(C.type,C.key,C.props,null,E.mode,D),D.ref=rs(E,_,C),D.return=E,E=D)}return s(E);case Ni:e:{for(M=C.key;_!==null;){if(_.key===M)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(E,_.sibling),_=i(_,C.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=nh(C,E.mode,D),_.return=E,E=_}return s(E);case rr:return M=C._init,P(E,_,M(C._payload),D)}if(ds(C))return w(E,_,C,D);if(Jo(C))return T(E,_,C,D);pl(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,C),_.return=E,E=_):(n(E,_),_=th(C,E.mode,D),_.return=E,E=_),s(E)):n(E,_)}return P}var io=Yw(!0),Xw=Yw(!1),du=Vr(null),hu=null,ji=null,Sp=null;function Ap(){Sp=ji=hu=null}function Cp(t){var e=du.current;Ie(du),t._currentValue=e}function rf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){hu=t,Sp=ji=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(Sp!==t)if(t={context:t,memoizedValue:e,next:null},ji===null){if(hu===null)throw Error(B(308));ji=t,hu.dependencies={lanes:0,firstContext:t}}else ji=ji.next=t;return e}var Jr=null;function Pp(t){Jr===null?Jr=[t]:Jr.push(t)}function Jw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pp(e)):(n.next=i.next,i.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ir=!1;function Rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jn(t,n)}return i=r.interleaved,i===null?(e.next=e,Pp(r)):(e.next=i.next,i.next=e),r.interleaved=e,jn(t,n)}function Ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fp(t,n)}}function ev(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fu(t,e,n,r){var i=t.updateQueue;ir=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;s=0,d=c=u=null,a=o;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(p=e,g=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){h=w.call(g,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,p=typeof w=="function"?w.call(g,h,p):w,p==null)break e;h=Pe({},h,p);break e;case 2:ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=h):d=d.next=g,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ui|=s,t.lanes=s,t.memoizedState=h}}function tv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Ea={},In=Vr(Ea),Hs=Vr(Ea),qs=Vr(Ea);function Zr(t){if(t===Ea)throw Error(B(174));return t}function bp(t,e){switch(ye(qs,e),ye(Hs,t),ye(In,Ea),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vh(e,t)}Ie(In),ye(In,e)}function oo(){Ie(In),Ie(Hs),Ie(qs)}function eE(t){Zr(qs.current);var e=Zr(In.current),n=Vh(e,t.type);e!==n&&(ye(Hs,t),ye(In,n))}function xp(t){Hs.current===t&&(Ie(In),Ie(Hs))}var Ae=Vr(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qd=[];function Dp(){for(var t=0;t<Qd.length;t++)Qd[t]._workInProgressVersionPrimary=null;Qd.length=0}var Ll=qn.ReactCurrentDispatcher,Yd=qn.ReactCurrentBatchConfig,li=0,Ce=null,Ve=null,ze=null,mu=!1,Ss=!1,Ks=0,dP=0;function st(){throw Error(B(321))}function kp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Np(t,e,n,r,i,o){if(li=o,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ll.current=t===null||t.memoizedState===null?mP:gP,t=n(r,i),Ss){o=0;do{if(Ss=!1,Ks=0,25<=o)throw Error(B(301));o+=1,ze=Ve=null,e.updateQueue=null,Ll.current=yP,t=n(r,i)}while(Ss)}if(Ll.current=gu,e=Ve!==null&&Ve.next!==null,li=0,ze=Ve=Ce=null,mu=!1,e)throw Error(B(300));return t}function Op(){var t=Ks!==0;return Ks=0,t}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ce.memoizedState=ze=t:ze=ze.next=t,ze}function tn(){if(Ve===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=ze===null?Ce.memoizedState:ze.next;if(e!==null)ze=e,Ve=t;else{if(t===null)throw Error(B(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},ze===null?Ce.memoizedState=ze=t:ze=ze.next=t}return ze}function Qs(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=tn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ve,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((li&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,s=r):u=u.next=h,Ce.lanes|=d,ui|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,gn(r,e.memoizedState)||(At=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ce.lanes|=o,ui|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=tn(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gn(o,e.memoizedState)||(At=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function tE(){}function nE(t,e){var n=Ce,r=tn(),i=e(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,At=!0),r=r.queue,Lp(oE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Ys(9,iE.bind(null,n,r,i,e),void 0,null),We===null)throw Error(B(349));li&30||rE(n,e,i)}return i}function rE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iE(t,e,n,r){e.value=n,e.getSnapshot=r,sE(e)&&aE(t)}function oE(t,e,n){return n(function(){sE(e)&&aE(t)})}function sE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function aE(t){var e=jn(t,1);e!==null&&fn(e,t,1,-1)}function nv(t){var e=_n();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},e.queue=t,t=t.dispatch=pP.bind(null,Ce,t),[e.memoizedState,t]}function Ys(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lE(){return tn().memoizedState}function Ml(t,e,n,r){var i=_n();Ce.flags|=t,i.memoizedState=Ys(1|e,n,void 0,r===void 0?null:r)}function tc(t,e,n,r){var i=tn();r=r===void 0?null:r;var o=void 0;if(Ve!==null){var s=Ve.memoizedState;if(o=s.destroy,r!==null&&kp(r,s.deps)){i.memoizedState=Ys(e,n,o,r);return}}Ce.flags|=t,i.memoizedState=Ys(1|e,n,o,r)}function rv(t,e){return Ml(8390656,8,t,e)}function Lp(t,e){return tc(2048,8,t,e)}function uE(t,e){return tc(4,2,t,e)}function cE(t,e){return tc(4,4,t,e)}function dE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,n){return n=n!=null?n.concat([t]):null,tc(4,4,dE.bind(null,e,t),n)}function Mp(){}function fE(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function pE(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mE(t,e,n){return li&21?(gn(n,e)||(n=ww(),Ce.lanes|=n,ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=n)}function hP(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Yd.transition;Yd.transition={};try{t(!1),e()}finally{de=n,Yd.transition=r}}function gE(){return tn().memoizedState}function fP(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yE(t))vE(e,n);else if(n=Jw(t,e,n,r),n!==null){var i=vt();fn(n,t,r,i),_E(n,e,r)}}function pP(t,e,n){var r=wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yE(t))vE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,s)){var u=e.interleaved;u===null?(i.next=i,Pp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Jw(t,e,i,r),n!==null&&(i=vt(),fn(n,t,r,i),_E(n,e,r))}}function yE(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function vE(t,e){Ss=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _E(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fp(t,n)}}var gu={readContext:en,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},mP={readContext:en,useCallback:function(t,e){return _n().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ml(4194308,4,dE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ml(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ml(4,2,t,e)},useMemo:function(t,e){var n=_n();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=_n();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=fP.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=_n();return t={current:t},e.memoizedState=t},useState:nv,useDebugValue:Mp,useDeferredValue:function(t){return _n().memoizedState=t},useTransition:function(){var t=nv(!1),e=t[0];return t=hP.bind(null,t[1]),_n().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=_n();if(Se){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),We===null)throw Error(B(349));li&30||rE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,rv(oE.bind(null,r,o,t),[t]),r.flags|=2048,Ys(9,iE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=_n(),e=We.identifierPrefix;if(Se){var n=On,r=Nn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ks++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gP={readContext:en,useCallback:fE,useContext:en,useEffect:Lp,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:Xd,useRef:lE,useState:function(){return Xd(Qs)},useDebugValue:Mp,useDeferredValue:function(t){var e=tn();return mE(e,Ve.memoizedState,t)},useTransition:function(){var t=Xd(Qs)[0],e=tn().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1},yP={readContext:en,useCallback:fE,useContext:en,useEffect:Lp,useImperativeHandle:hE,useInsertionEffect:uE,useLayoutEffect:cE,useMemo:pE,useReducer:Jd,useRef:lE,useState:function(){return Jd(Qs)},useDebugValue:Mp,useDeferredValue:function(t){var e=tn();return Ve===null?e.memoizedState=t:mE(e,Ve.memoizedState,t)},useTransition:function(){var t=Jd(Qs)[0],e=tn().memoizedState;return[t,e]},useMutableSource:tE,useSyncExternalStore:nE,useId:gE,unstable_isNewReconciler:!1};function an(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function of(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nc={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=wr(t),o=Fn(r,i);o.payload=e,n!=null&&(o.callback=n),e=vr(t,o,i),e!==null&&(fn(e,t,i,r),Ol(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=wr(t),o=Fn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vr(t,o,i),e!==null&&(fn(e,t,i,r),Ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=wr(t),i=Fn(n,r);i.tag=2,e!=null&&(i.callback=e),e=vr(t,i,r),e!==null&&(fn(e,t,r,n),Ol(e,t,r))}};function iv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!js(n,r)||!js(i,o):!0}function wE(t,e,n){var r=!1,i=Dr,o=e.contextType;return typeof o=="object"&&o!==null?o=en(o):(i=Pt(e)?si:ht.current,r=e.contextTypes,o=(r=r!=null)?no(t,i):Dr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function ov(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nc.enqueueReplaceState(e,e.state,null)}function sf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Rp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=en(o):(o=Pt(e)?si:ht.current,i.context=no(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(of(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nc.enqueueReplaceState(i,i.state,null),fu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function so(t,e){try{var n="",r=e;do n+=GA(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function af(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vP=typeof WeakMap=="function"?WeakMap:Map;function EE(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vu||(vu=!0,yf=r),af(t,e)},n}function IE(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){af(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){af(t,e),typeof r!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function sv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kP.bind(null,t,e,n),e.then(t,t))}function av(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,vr(n,e,1))),n.lanes|=1),t)}var _P=qn.ReactCurrentOwner,At=!1;function yt(t,e,n,r){e.child=t===null?Xw(e,null,n,r):io(e,t.child,n,r)}function uv(t,e,n,r,i){n=n.render;var o=e.ref;return Qi(e,i),r=Np(t,e,n,r,o,i),n=Op(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(Se&&n&&Ep(e),e.flags|=1,yt(t,e,r,i),e.child)}function cv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Wp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,TE(t,e,o,r,i)):(t=Bl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:js,n(s,r)&&t.ref===e.ref)return zn(t,e,i)}return e.flags|=1,t=Er(o,r),t.ref=e.ref,t.return=e,e.child=t}function TE(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(js(o,r)&&t.ref===e.ref)if(At=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,zn(t,e,i)}return lf(t,e,n,r,i)}function SE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Wi,Nt),Nt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Wi,Nt),Nt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ye(Wi,Nt),Nt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ye(Wi,Nt),Nt|=r;return yt(t,e,i,n),e.child}function AE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lf(t,e,n,r,i){var o=Pt(n)?si:ht.current;return o=no(e,o),Qi(e,i),n=Np(t,e,n,r,o,i),r=Op(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zn(t,e,i)):(Se&&r&&Ep(e),e.flags|=1,yt(t,e,n,i),e.child)}function dv(t,e,n,r,i){if(Pt(n)){var o=!0;lu(e)}else o=!1;if(Qi(e,i),e.stateNode===null)Vl(t,e),wE(e,n,r),sf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=en(c):(c=Pt(n)?si:ht.current,c=no(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ov(e,s,r,c),ir=!1;var p=e.memoizedState;s.state=p,fu(e,r,s,i),u=e.memoizedState,a!==r||p!==u||Ct.current||ir?(typeof d=="function"&&(of(e,n,d,r),u=e.memoizedState),(a=ir||iv(e,n,a,r,p,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Zw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:an(e.type,a),s.props=c,h=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=en(u):(u=Pt(n)?si:ht.current,u=no(e,u));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==u)&&ov(e,s,r,u),ir=!1,p=e.memoizedState,s.state=p,fu(e,r,s,i);var w=e.memoizedState;a!==h||p!==w||Ct.current||ir?(typeof g=="function"&&(of(e,n,g,r),w=e.memoizedState),(c=ir||iv(e,n,c,r,p,w,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return uf(t,e,n,r,o,i)}function uf(t,e,n,r,i,o){AE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Yy(e,n,!1),zn(t,e,o);r=e.stateNode,_P.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=io(e,t.child,null,o),e.child=io(e,null,a,o)):yt(t,e,a,o),e.memoizedState=r.state,i&&Yy(e,n,!0),e.child}function CE(t){var e=t.stateNode;e.pendingContext?Qy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qy(t,e.context,!1),bp(t,e.containerInfo)}function hv(t,e,n,r,i){return ro(),Tp(i),e.flags|=256,yt(t,e,n,r),e.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function df(t){return{baseLanes:t,cachePool:null,transitions:null}}function PE(t,e,n){var r=e.pendingProps,i=Ae.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(Ae,i&1),t===null)return nf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=oc(s,r,0,null),t=ri(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=df(n),e.memoizedState=cf,t):Vp(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return wP(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Er(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Er(a,o):(o=ri(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?df(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=cf,r}return o=t.child,t=o.sibling,r=Er(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vp(t,e){return e=oc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ml(t,e,n,r){return r!==null&&Tp(r),io(e,t.child,null,n),t=Vp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wP(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Zd(Error(B(422))),ml(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=oc({mode:"visible",children:r.children},i,0,null),o=ri(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&io(e,t.child,null,s),e.child.memoizedState=df(s),e.memoizedState=cf,o);if(!(e.mode&1))return ml(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=Zd(o,r,void 0),ml(t,e,s,r)}if(a=(s&t.childLanes)!==0,At||a){if(r=We,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jn(t,i),fn(r,t,i,-1))}return zp(),r=Zd(Error(B(421))),ml(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=NP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ot=yr(i.nextSibling),Vt=e,Se=!0,un=null,t!==null&&(Kt[Qt++]=Nn,Kt[Qt++]=On,Kt[Qt++]=ai,Nn=t.id,On=t.overflow,ai=e),e=Vp(e,r.children),e.flags|=4096,e)}function fv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rf(t.return,e,n)}function eh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function RE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(yt(t,e,r.children,n),r=Ae.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fv(t,n,e);else if(t.tag===19)fv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ae,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eh(e,!0,n,null,o);break;case"together":eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function EP(t,e,n){switch(e.tag){case 3:CE(e),ro();break;case 5:eE(e);break;case 1:Pt(e.type)&&lu(e);break;case 4:bp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(du,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ae,Ae.current&1),e.flags|=128,null):n&e.child.childLanes?PE(t,e,n):(ye(Ae,Ae.current&1),t=zn(t,e,n),t!==null?t.sibling:null);ye(Ae,Ae.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(Ae,Ae.current),r)break;return null;case 22:case 23:return e.lanes=0,SE(t,e,n)}return zn(t,e,n)}var bE,hf,xE,DE;bE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hf=function(){};xE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zr(In.current);var o=null;switch(n){case"input":i=Nh(t,i),r=Nh(t,r),o=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":i=Mh(t,i),r=Mh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=su)}Fh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ls.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&we("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};DE=function(t,e,n,r){n!==r&&(e.flags|=4)};function is(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IP(t,e,n){var r=e.pendingProps;switch(Ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return Pt(e.type)&&au(),at(e),null;case 3:return r=e.stateNode,oo(),Ie(Ct),Ie(ht),Dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,un!==null&&(wf(un),un=null))),hf(t,e),at(e),null;case 5:xp(e);var i=Zr(qs.current);if(n=e.type,t!==null&&e.stateNode!=null)xE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return at(e),null}if(t=Zr(In.current),fl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[wn]=e,r[Gs]=o,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)we(fs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":Iy(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":Sy(r,o),we("invalid",r)}Fh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&hl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&hl(r.textContent,a,t),i=["children",""+a]):Ls.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":il(r),Ty(r,o,!0);break;case"textarea":il(r),Ay(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=su)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ow(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[wn]=e,t[Gs]=r,bE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Uh(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)we(fs[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":Iy(t,r),i=Nh(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),we("invalid",t);break;case"textarea":Sy(t,r),i=Mh(t,r),we("invalid",t);break;default:i=r}Fh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?lw(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&sw(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ms(t,u):typeof u=="number"&&Ms(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ls.hasOwnProperty(o)?u!=null&&o==="onScroll"&&we("scroll",t):u!=null&&ap(t,o,u,s))}switch(n){case"input":il(t),Ty(t,r,!1);break;case"textarea":il(t),Ay(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)DE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Zr(qs.current),Zr(In.current),fl(e)){if(r=e.stateNode,n=e.memoizedProps,r[wn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:hl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return at(e),null;case 13:if(Ie(Ae),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Ot!==null&&e.mode&1&&!(e.flags&128))Qw(),ro(),e.flags|=98560,o=!1;else if(o=fl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[wn]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else un!==null&&(wf(un),un=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ae.current&1?Fe===0&&(Fe=3):zp())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return oo(),hf(t,e),t===null&&zs(e.stateNode.containerInfo),at(e),null;case 10:return Cp(e.type._context),at(e),null;case 17:return Pt(e.type)&&au(),at(e),null;case 19:if(Ie(Ae),o=e.memoizedState,o===null)return at(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)is(o,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=pu(t),s!==null){for(e.flags|=128,is(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ae,Ae.current&1|2),e.child}t=t.sibling}o.tail!==null&&De()>ao&&(e.flags|=128,r=!0,is(o,!1),e.lanes=4194304)}else{if(!r)if(t=pu(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),is(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Se)return at(e),null}else 2*De()-o.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,is(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=De(),e.sibling=null,n=Ae.current,ye(Ae,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return jp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function TP(t,e){switch(Ip(e),e.tag){case 1:return Pt(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oo(),Ie(Ct),Ie(ht),Dp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xp(e),null;case 13:if(Ie(Ae),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Ae),null;case 4:return oo(),null;case 10:return Cp(e.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var gl=!1,ct=!1,SP=typeof WeakSet=="function"?WeakSet:Set,W=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function ff(t,e,n){try{n()}catch(r){xe(t,e,r)}}var pv=!1;function AP(t,e){if(Qh=ru,t=Mw(),wp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var g;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(g=h.firstChild)!==null;)p=h,h=g;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(u=s),(g=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yh={focusedElem:t,selectionRange:n},ru=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,P=w.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:an(e.type,T),P);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){xe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return w=pv,pv=!1,w}function As(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ff(e,n,o)}i=i.next}while(i!==r)}}function rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kE(t){var e=t.alternate;e!==null&&(t.alternate=null,kE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[Gs],delete e[Zh],delete e[aP],delete e[lP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NE(t){return t.tag===5||t.tag===3||t.tag===4}function mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=su));else if(r!==4&&(t=t.child,t!==null))for(mf(t,e,n),t=t.sibling;t!==null;)mf(t,e,n),t=t.sibling}function gf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gf(t,e,n),t=t.sibling;t!==null;)gf(t,e,n),t=t.sibling}var Qe=null,ln=!1;function tr(t,e,n){for(n=n.child;n!==null;)OE(t,e,n),n=n.sibling}function OE(t,e,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Qu,n)}catch{}switch(n.tag){case 5:ct||zi(n,e);case 6:var r=Qe,i=ln;Qe=null,tr(t,e,n),Qe=r,ln=i,Qe!==null&&(ln?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(ln?(t=Qe,n=n.stateNode,t.nodeType===8?qd(t.parentNode,n):t.nodeType===1&&qd(t,n),Bs(t)):qd(Qe,n.stateNode));break;case 4:r=Qe,i=ln,Qe=n.stateNode.containerInfo,ln=!0,tr(t,e,n),Qe=r,ln=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ff(n,e,s),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!ct&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,tr(t,e,n),ct=r):tr(t,e,n);break;default:tr(t,e,n)}}function gv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SP),e.forEach(function(r){var i=OP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function sn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,ln=!1;break e;case 3:Qe=a.stateNode.containerInfo,ln=!0;break e;case 4:Qe=a.stateNode.containerInfo,ln=!0;break e}a=a.return}if(Qe===null)throw Error(B(160));OE(o,s,i),Qe=null,ln=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){xe(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LE(e,t),e=e.sibling}function LE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(sn(e,t),vn(t),r&4){try{As(3,t,t.return),rc(3,t)}catch(T){xe(t,t.return,T)}try{As(5,t,t.return)}catch(T){xe(t,t.return,T)}}break;case 1:sn(e,t),vn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(sn(e,t),vn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{Ms(i,"")}catch(T){xe(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&rw(i,o),Uh(a,s);var c=Uh(a,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];d==="style"?lw(i,h):d==="dangerouslySetInnerHTML"?sw(i,h):d==="children"?Ms(i,h):ap(i,d,h,c)}switch(a){case"input":Oh(i,o);break;case"textarea":iw(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Gi(i,!!o.multiple,g,!1):p!==!!o.multiple&&(o.defaultValue!=null?Gi(i,!!o.multiple,o.defaultValue,!0):Gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Gs]=o}catch(T){xe(t,t.return,T)}}break;case 6:if(sn(e,t),vn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){xe(t,t.return,T)}}break;case 3:if(sn(e,t),vn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bs(e.containerInfo)}catch(T){xe(t,t.return,T)}break;case 4:sn(e,t),vn(t);break;case 13:sn(e,t),vn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bp=De())),r&4&&gv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||d,sn(e,t),ct=c):sn(e,t),vn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(h=W=d;W!==null;){switch(p=W,g=p.child,p.tag){case 0:case 11:case 14:case 15:As(4,p,p.return);break;case 1:zi(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){xe(r,n,T)}}break;case 5:zi(p,p.return);break;case 22:if(p.memoizedState!==null){vv(h);continue}}g!==null?(g.return=p,W=g):vv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=aw("display",s))}catch(T){xe(t,t.return,T)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(T){xe(t,t.return,T)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:sn(e,t),vn(t),r&4&&gv(t);break;case 21:break;default:sn(e,t),vn(t)}}function vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ms(i,""),r.flags&=-33);var o=mv(t);gf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mv(t);mf(t,a,s);break;default:throw Error(B(161))}}catch(u){xe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CP(t,e,n){W=t,ME(t)}function ME(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||gl;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||ct;a=gl;var c=ct;if(gl=s,(ct=u)&&!c)for(W=i;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?_v(i):u!==null?(u.return=s,W=u):_v(i);for(;o!==null;)W=o,ME(o),o=o.sibling;W=i,gl=a,ct=c}yv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):yv(t)}}function yv(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:an(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&tv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}tv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ct||e.flags&512&&pf(e)}catch(p){xe(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function vv(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function _v(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rc(4,e)}catch(u){xe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){xe(e,i,u)}}var o=e.return;try{pf(e)}catch(u){xe(e,o,u)}break;case 5:var s=e.return;try{pf(e)}catch(u){xe(e,s,u)}}}catch(u){xe(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var PP=Math.ceil,yu=qn.ReactCurrentDispatcher,Fp=qn.ReactCurrentOwner,Jt=qn.ReactCurrentBatchConfig,ae=0,We=null,Le=null,Ze=0,Nt=0,Wi=Vr(0),Fe=0,Xs=null,ui=0,ic=0,Up=0,Cs=null,Tt=null,Bp=0,ao=1/0,xn=null,vu=!1,yf=null,_r=null,yl=!1,dr=null,_u=0,Ps=0,vf=null,Fl=-1,Ul=0;function vt(){return ae&6?De():Fl!==-1?Fl:Fl=De()}function wr(t){return t.mode&1?ae&2&&Ze!==0?Ze&-Ze:cP.transition!==null?(Ul===0&&(Ul=ww()),Ul):(t=de,t!==0||(t=window.event,t=t===void 0?16:Pw(t.type)),t):1}function fn(t,e,n,r){if(50<Ps)throw Ps=0,vf=null,Error(B(185));va(t,n,r),(!(ae&2)||t!==We)&&(t===We&&(!(ae&2)&&(ic|=n),Fe===4&&sr(t,Ze)),Rt(t,r),n===1&&ae===0&&!(e.mode&1)&&(ao=De()+500,ec&&Fr()))}function Rt(t,e){var n=t.callbackNode;cC(t,e);var r=nu(t,t===We?Ze:0);if(r===0)n!==null&&Ry(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ry(n),e===1)t.tag===0?uP(wv.bind(null,t)):Hw(wv.bind(null,t)),oP(function(){!(ae&6)&&Fr()}),n=null;else{switch(Ew(r)){case 1:n=hp;break;case 4:n=vw;break;case 16:n=tu;break;case 536870912:n=_w;break;default:n=tu}n=WE(n,VE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function VE(t,e){if(Fl=-1,Ul=0,ae&6)throw Error(B(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=nu(t,t===We?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wu(t,r);else{e=r;var i=ae;ae|=2;var o=UE();(We!==t||Ze!==e)&&(xn=null,ao=De()+500,ni(t,e));do try{xP();break}catch(a){FE(t,a)}while(!0);Ap(),yu.current=o,ae=i,Le!==null?e=0:(We=null,Ze=0,e=Fe)}if(e!==0){if(e===2&&(i=Wh(t),i!==0&&(r=i,e=_f(t,i))),e===1)throw n=Xs,ni(t,0),sr(t,r),Rt(t,De()),n;if(e===6)sr(t,r);else{if(i=t.current.alternate,!(r&30)&&!RP(i)&&(e=wu(t,r),e===2&&(o=Wh(t),o!==0&&(r=o,e=_f(t,o))),e===1))throw n=Xs,ni(t,0),sr(t,r),Rt(t,De()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Kr(t,Tt,xn);break;case 3:if(sr(t,r),(r&130023424)===r&&(e=Bp+500-De(),10<e)){if(nu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jh(Kr.bind(null,t,Tt,xn),e);break}Kr(t,Tt,xn);break;case 4:if(sr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-hn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PP(r/1960))-r,10<r){t.timeoutHandle=Jh(Kr.bind(null,t,Tt,xn),r);break}Kr(t,Tt,xn);break;case 5:Kr(t,Tt,xn);break;default:throw Error(B(329))}}}return Rt(t,De()),t.callbackNode===n?VE.bind(null,t):null}function _f(t,e){var n=Cs;return t.current.memoizedState.isDehydrated&&(ni(t,e).flags|=256),t=wu(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&wf(e)),t}function wf(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function RP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sr(t,e){for(e&=~Up,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hn(e),r=1<<n;t[n]=-1,e&=~r}}function wv(t){if(ae&6)throw Error(B(327));Yi();var e=nu(t,0);if(!(e&1))return Rt(t,De()),null;var n=wu(t,e);if(t.tag!==0&&n===2){var r=Wh(t);r!==0&&(e=r,n=_f(t,r))}if(n===1)throw n=Xs,ni(t,0),sr(t,e),Rt(t,De()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,Tt,xn),Rt(t,De()),null}function $p(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(ao=De()+500,ec&&Fr())}}function ci(t){dr!==null&&dr.tag===0&&!(ae&6)&&Yi();var e=ae;ae|=1;var n=Jt.transition,r=de;try{if(Jt.transition=null,de=1,t)return t()}finally{de=r,Jt.transition=n,ae=e,!(ae&6)&&Fr()}}function jp(){Nt=Wi.current,Ie(Wi)}function ni(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,iP(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(Ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:oo(),Ie(Ct),Ie(ht),Dp();break;case 5:xp(r);break;case 4:oo();break;case 13:Ie(Ae);break;case 19:Ie(Ae);break;case 10:Cp(r.type._context);break;case 22:case 23:jp()}n=n.return}if(We=t,Le=t=Er(t.current,null),Ze=Nt=e,Fe=0,Xs=null,Up=ic=ui=0,Tt=Cs=null,Jr!==null){for(e=0;e<Jr.length;e++)if(n=Jr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Jr=null}return t}function FE(t,e){do{var n=Le;try{if(Ap(),Ll.current=gu,mu){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mu=!1}if(li=0,ze=Ve=Ce=null,Ss=!1,Ks=0,Fp.current=null,n===null||n.return===null){Fe=1,Xs=e,Le=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Ze,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=av(s);if(g!==null){g.flags&=-257,lv(g,s,a,o,e),g.mode&1&&sv(o,c,e),e=g,u=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(u),e.updateQueue=T}else w.add(u);break e}else{if(!(e&1)){sv(o,c,e),zp();break e}u=Error(B(426))}}else if(Se&&a.mode&1){var P=av(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),lv(P,s,a,o,e),Tp(so(u,a));break e}}o=u=so(u,a),Fe!==4&&(Fe=2),Cs===null?Cs=[o]:Cs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=EE(o,u,e);ev(o,E);break e;case 1:a=u;var _=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(_r===null||!_r.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=IE(o,a,e);ev(o,D);break e}}o=o.return}while(o!==null)}$E(n)}catch(L){e=L,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function UE(){var t=yu.current;return yu.current=gu,t===null?gu:t}function zp(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),We===null||!(ui&268435455)&&!(ic&268435455)||sr(We,Ze)}function wu(t,e){var n=ae;ae|=2;var r=UE();(We!==t||Ze!==e)&&(xn=null,ni(t,e));do try{bP();break}catch(i){FE(t,i)}while(!0);if(Ap(),ae=n,yu.current=r,Le!==null)throw Error(B(261));return We=null,Ze=0,Fe}function bP(){for(;Le!==null;)BE(Le)}function xP(){for(;Le!==null&&!tC();)BE(Le)}function BE(t){var e=zE(t.alternate,t,Nt);t.memoizedProps=t.pendingProps,e===null?$E(t):Le=e,Fp.current=null}function $E(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TP(n,e),n!==null){n.flags&=32767,Le=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,Le=null;return}}else if(n=IP(n,e,Nt),n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Fe===0&&(Fe=5)}function Kr(t,e,n){var r=de,i=Jt.transition;try{Jt.transition=null,de=1,DP(t,e,n,r)}finally{Jt.transition=i,de=r}return null}function DP(t,e,n,r){do Yi();while(dr!==null);if(ae&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(dC(t,o),t===We&&(Le=We=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yl||(yl=!0,WE(tu,function(){return Yi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Jt.transition,Jt.transition=null;var s=de;de=1;var a=ae;ae|=4,Fp.current=null,AP(t,n),LE(n,t),XC(Yh),ru=!!Qh,Yh=Qh=null,t.current=n,CP(n),nC(),ae=a,de=s,Jt.transition=o}else t.current=n;if(yl&&(yl=!1,dr=t,_u=i),o=t.pendingLanes,o===0&&(_r=null),oC(n.stateNode),Rt(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vu)throw vu=!1,t=yf,yf=null,t;return _u&1&&t.tag!==0&&Yi(),o=t.pendingLanes,o&1?t===vf?Ps++:(Ps=0,vf=t):Ps=0,Fr(),null}function Yi(){if(dr!==null){var t=Ew(_u),e=Jt.transition,n=de;try{if(Jt.transition=null,de=16>t?16:t,dr===null)var r=!1;else{if(t=dr,dr=null,_u=0,ae&6)throw Error(B(331));var i=ae;for(ae|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:As(8,d,o)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var p=d.sibling,g=d.return;if(kE(d),d===c){W=null;break}if(p!==null){p.return=g,W=p;break}W=g}}}var w=o.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:As(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,W=E;break e}W=o.return}}var _=t.current;for(W=_;W!==null;){s=W;var C=s.child;if(s.subtreeFlags&2064&&C!==null)C.return=s,W=C;else e:for(s=_;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rc(9,a)}}catch(L){xe(a,a.return,L)}if(a===s){W=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,W=D;break e}W=a.return}}if(ae=i,Fr(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Qu,t)}catch{}r=!0}return r}finally{de=n,Jt.transition=e}}return!1}function Ev(t,e,n){e=so(n,e),e=EE(t,e,1),t=vr(t,e,1),e=vt(),t!==null&&(va(t,1,e),Rt(t,e))}function xe(t,e,n){if(t.tag===3)Ev(t,t,n);else for(;e!==null;){if(e.tag===3){Ev(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_r===null||!_r.has(r))){t=so(n,t),t=IE(e,t,1),e=vr(e,t,1),t=vt(),e!==null&&(va(e,1,t),Rt(e,t));break}}e=e.return}}function kP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(Ze&n)===n&&(Fe===4||Fe===3&&(Ze&130023424)===Ze&&500>De()-Bp?ni(t,0):Up|=n),Rt(t,e)}function jE(t,e){e===0&&(t.mode&1?(e=al,al<<=1,!(al&130023424)&&(al=4194304)):e=1);var n=vt();t=jn(t,e),t!==null&&(va(t,e,n),Rt(t,n))}function NP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jE(t,n)}function OP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),jE(t,n)}var zE;zE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ct.current)At=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return At=!1,EP(t,e,n);At=!!(t.flags&131072)}else At=!1,Se&&e.flags&1048576&&qw(e,cu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vl(t,e),t=e.pendingProps;var i=no(e,ht.current);Qi(e,n),i=Np(null,e,r,t,i,n);var o=Op();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(o=!0,lu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rp(e),i.updater=nc,e.stateNode=i,i._reactInternals=e,sf(e,r,t,n),e=uf(null,e,r,!0,o,n)):(e.tag=0,Se&&o&&Ep(e),yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=MP(r),t=an(r,t),i){case 0:e=lf(null,e,r,t,n);break e;case 1:e=dv(null,e,r,t,n);break e;case 11:e=uv(null,e,r,t,n);break e;case 14:e=cv(null,e,r,an(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),lf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),dv(t,e,r,i,n);case 3:e:{if(CE(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Zw(t,e),fu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=so(Error(B(423)),e),e=hv(t,e,r,n,i);break e}else if(r!==i){i=so(Error(B(424)),e),e=hv(t,e,r,n,i);break e}else for(Ot=yr(e.stateNode.containerInfo.firstChild),Vt=e,Se=!0,un=null,n=Xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=zn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return eE(e),t===null&&nf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Xh(r,i)?s=null:o!==null&&Xh(r,o)&&(e.flags|=32),AE(t,e),yt(t,e,s,n),e.child;case 6:return t===null&&nf(e),null;case 13:return PE(t,e,n);case 4:return bp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),uv(t,e,r,i,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ye(du,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!Ct.current){e=zn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Fn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),rf(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),rf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qi(e,n),i=en(i),r=r(i),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,i=an(r,e.pendingProps),i=an(r.type,i),cv(t,e,r,i,n);case 15:return TE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:an(r,i),Vl(t,e),e.tag=1,Pt(r)?(t=!0,lu(e)):t=!1,Qi(e,n),wE(e,r,i),sf(e,r,i,n),uf(null,e,r,!0,t,n);case 19:return RE(t,e,n);case 22:return SE(t,e,n)}throw Error(B(156,e.tag))};function WE(t,e){return yw(t,e)}function LP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(t,e,n,r){return new LP(t,e,n,r)}function Wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MP(t){if(typeof t=="function")return Wp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===up)return 11;if(t===cp)return 14}return 2}function Er(t,e){var n=t.alternate;return n===null?(n=Yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Wp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Oi:return ri(n.children,i,o,e);case lp:s=8,i|=8;break;case bh:return t=Yt(12,n,e,i|2),t.elementType=bh,t.lanes=o,t;case xh:return t=Yt(13,n,e,i),t.elementType=xh,t.lanes=o,t;case Dh:return t=Yt(19,n,e,i),t.elementType=Dh,t.lanes=o,t;case ew:return oc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J0:s=10;break e;case Z0:s=9;break e;case up:s=11;break e;case cp:s=14;break e;case rr:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Yt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ri(t,e,n,r){return t=Yt(7,t,r,e),t.lanes=n,t}function oc(t,e,n,r){return t=Yt(22,t,r,e),t.elementType=ew,t.lanes=n,t.stateNode={isHidden:!1},t}function th(t,e,n){return t=Yt(6,t,null,e),t.lanes=n,t}function nh(t,e,n){return e=Yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gp(t,e,n,r,i,o,s,a,u){return t=new VP(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Yt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(o),t}function FP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GE(t){if(!t)return Dr;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Pt(n))return Gw(t,n,e)}return e}function HE(t,e,n,r,i,o,s,a,u){return t=Gp(n,r,!0,t,i,o,s,a,u),t.context=GE(null),n=t.current,r=vt(),i=wr(n),o=Fn(r,i),o.callback=e??null,vr(n,o,i),t.current.lanes=i,va(t,i,r),Rt(t,r),t}function sc(t,e,n,r){var i=e.current,o=vt(),s=wr(i);return n=GE(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vr(i,e,s),t!==null&&(fn(t,i,s,o),Ol(t,i,s)),s}function Eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hp(t,e){Iv(t,e),(t=t.alternate)&&Iv(t,e)}function UP(){return null}var qE=typeof reportError=="function"?reportError:function(t){console.error(t)};function qp(t){this._internalRoot=t}ac.prototype.render=qp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));sc(t,e,null,null)};ac.prototype.unmount=qp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ci(function(){sc(null,t,null,null)}),e[$n]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=Sw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<or.length&&e!==0&&e<or[n].priority;n++);or.splice(n,0,t),n===0&&Cw(t)}};function Kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tv(){}function BP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Eu(s);o.call(c)}}var s=HE(e,r,t,0,null,!1,!1,"",Tv);return t._reactRootContainer=s,t[$n]=s.current,zs(t.nodeType===8?t.parentNode:t),ci(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Eu(u);a.call(c)}}var u=Gp(t,0,!1,null,null,!1,!1,"",Tv);return t._reactRootContainer=u,t[$n]=u.current,zs(t.nodeType===8?t.parentNode:t),ci(function(){sc(e,u,n,r)}),u}function uc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Eu(s);a.call(u)}}sc(e,s,t,i)}else s=BP(n,e,t,i,r);return Eu(s)}Iw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hs(e.pendingLanes);n!==0&&(fp(e,n|1),Rt(e,De()),!(ae&6)&&(ao=De()+500,Fr()))}break;case 13:ci(function(){var r=jn(t,1);if(r!==null){var i=vt();fn(r,t,1,i)}}),Hp(t,1)}};pp=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=vt();fn(e,t,134217728,n)}Hp(t,134217728)}};Tw=function(t){if(t.tag===13){var e=wr(t),n=jn(t,e);if(n!==null){var r=vt();fn(n,t,e,r)}Hp(t,e)}};Sw=function(){return de};Aw=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};$h=function(t,e,n){switch(e){case"input":if(Oh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error(B(90));nw(r),Oh(r,i)}}}break;case"textarea":iw(t,n);break;case"select":e=n.value,e!=null&&Gi(t,!!n.multiple,e,!1)}};dw=$p;hw=ci;var $P={usingClientEntryPoint:!1,Events:[wa,Fi,Zu,uw,cw,$p]},os={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jP={bundleType:os.bundleType,version:os.version,rendererPackageName:os.rendererPackageName,rendererConfig:os.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mw(t),t===null?null:t.stateNode},findFiberByHostInstance:os.findFiberByHostInstance||UP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Qu=vl.inject(jP),En=vl}catch{}}jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$P;jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kp(e))throw Error(B(200));return FP(t,e,null,n)};jt.createRoot=function(t,e){if(!Kp(t))throw Error(B(299));var n=!1,r="",i=qE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gp(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,zs(t.nodeType===8?t.parentNode:t),new qp(e)};jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=mw(e),t=t===null?null:t.stateNode,t};jt.flushSync=function(t){return ci(t)};jt.hydrate=function(t,e,n){if(!lc(e))throw Error(B(200));return uc(null,t,e,!0,n)};jt.hydrateRoot=function(t,e,n){if(!Kp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=qE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=HE(e,null,t,1,n??null,i,!1,o,s),t[$n]=e.current,zs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ac(e)};jt.render=function(t,e,n){if(!lc(e))throw Error(B(200));return uc(null,t,e,!1,n)};jt.unmountComponentAtNode=function(t){if(!lc(t))throw Error(B(40));return t._reactRootContainer?(ci(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};jt.unstable_batchedUpdates=$p;jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return uc(t,e,n,!1,r)};jt.version="18.3.1-next-f1338f8080-20240426";function KE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KE)}catch(t){console.error(t)}}KE(),K0.exports=jt;var Ia=K0.exports;const zP=ep(Ia);var Sv=Ia;Ph.createRoot=Sv.createRoot,Ph.hydrateRoot=Sv.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Js.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const Av="popstate";function WP(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Ef("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:YE(i)}return HP(e,n,null,t)}function Ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function QE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GP(){return Math.random().toString(36).substr(2,8)}function Cv(t,e){return{usr:t.state,key:t.key,idx:e}}function Ef(t,e,n,r){return n===void 0&&(n=null),Js({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:n,key:e&&e.key||r||GP()})}function YE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Co(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=hr.Pop,u=null,c=d();c==null&&(c=0,s.replaceState(Js({},s.state,{idx:c}),""));function d(){return(s.state||{idx:null}).idx}function h(){a=hr.Pop;let P=d(),E=P==null?null:P-c;c=P,u&&u({action:a,location:T.location,delta:E})}function p(P,E){a=hr.Push;let _=Ef(T.location,P,E);c=d()+1;let C=Cv(_,c),D=T.createHref(_);try{s.pushState(C,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}o&&u&&u({action:a,location:T.location,delta:1})}function g(P,E){a=hr.Replace;let _=Ef(T.location,P,E);c=d();let C=Cv(_,c),D=T.createHref(_);s.replaceState(C,"",D),o&&u&&u({action:a,location:T.location,delta:0})}function w(P){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof P=="string"?P:YE(P);return _=_.replace(/ $/,"%20"),Ue(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let T={get action(){return a},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Av,h),u=P,()=>{i.removeEventListener(Av,h),u=null}},createHref(P){return e(i,P)},createURL:w,encodeLocation(P){let E=w(P);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(P){return s.go(P)}};return T}var Pv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pv||(Pv={}));function qP(t,e,n){return n===void 0&&(n="/"),KP(t,e,n,!1)}function KP(t,e,n,r){let i=typeof e=="string"?Co(e):e,o=ZE(i.pathname||"/",n);if(o==null)return null;let s=XE(t);QP(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=sR(o);a=iR(s[u],c,r)}return a}function XE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Ue(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=ii([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Ue(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XE(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:nR(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of JE(o.path))i(o,s,u)}),e}function JE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=JE(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function QP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:rR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YP=/^:[\w-]+$/,XP=3,JP=2,ZP=1,eR=10,tR=-2,Rv=t=>t==="*";function nR(t,e){let n=t.split("/"),r=n.length;return n.some(Rv)&&(r+=tR),e&&(r+=JP),n.filter(i=>!Rv(i)).reduce((i,o)=>i+(YP.test(o)?XP:o===""?ZP:eR),r)}function rR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function iR(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",h=bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),p=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=bv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ii([o,h.pathname]),pathnameBase:hR(ii([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=ii([o,h.pathnameBase]))}return s}function bv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=oR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:p,isOptional:g}=d;if(p==="*"){let T=a[h]||"";s=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[h];return g&&!w?c[p]=void 0:c[p]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function oR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),QE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function sR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return QE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ZE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function aR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Co(t):t;return{pathname:n?n.startsWith("/")?n:lR(n,e):e,search:fR(r),hash:pR(i)}}function lR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function rh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cR(t,e){let n=uR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dR(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Co(t):(i=Js({},t),Ue(!i.pathname||!i.pathname.includes("?"),rh("?","pathname","search",i)),Ue(!i.pathname||!i.pathname.includes("#"),rh("#","pathname","hash",i)),Ue(!i.search||!i.search.includes("#"),rh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let u=aR(i,a),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ii=t=>t.join("/").replace(/\/\/+/g,"/"),hR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const eI=["post","put","patch","delete"];new Set(eI);const gR=["get",...eI];new Set(gR);/**
 * React Router v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zs.apply(this,arguments)}const Qp=N.createContext(null),yR=N.createContext(null),cc=N.createContext(null),dc=N.createContext(null),Po=N.createContext({outlet:null,matches:[],isDataRoute:!1}),tI=N.createContext(null);function hc(){return N.useContext(dc)!=null}function nI(){return hc()||Ue(!1),N.useContext(dc).location}function rI(t){N.useContext(cc).static||N.useLayoutEffect(t)}function Yp(){let{isDataRoute:t}=N.useContext(Po);return t?xR():vR()}function vR(){hc()||Ue(!1);let t=N.useContext(Qp),{basename:e,future:n,navigator:r}=N.useContext(cc),{matches:i}=N.useContext(Po),{pathname:o}=nI(),s=JSON.stringify(cR(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return rI(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=dR(c,JSON.parse(s),o,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ii([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,s,o,t])}function _R(t,e){return wR(t,e)}function wR(t,e,n,r){hc()||Ue(!1);let{navigator:i}=N.useContext(cc),{matches:o}=N.useContext(Po),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=nI(),d;if(e){var h;let P=typeof e=="string"?Co(e):e;u==="/"||(h=P.pathname)!=null&&h.startsWith(u)||Ue(!1),d=P}else d=c;let p=d.pathname||"/",g=p;if(u!=="/"){let P=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(P.length).join("/")}let w=qP(t,{pathname:g}),T=AR(w&&w.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:ii([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:ii([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&T?N.createElement(dc.Provider,{value:{location:Zs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hr.Pop}},T):T}function ER(){let t=bR(),e=mR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const IR=N.createElement(ER,null);class TR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Po.Provider,{value:this.props.routeContext},N.createElement(tI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SR(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(Qp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Po.Provider,{value:e},r)}function AR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ue(!1),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:g}=n,w=h.route.loader&&p[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||w){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,h,p)=>{let g,w=!1,T=null,P=null;n&&(g=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||IR,u&&(c<0&&p===0?(w=!0,P=null):c===p&&(w=!0,P=h.route.hydrateFallbackElement||null)));let E=e.concat(s.slice(0,p+1)),_=()=>{let C;return g?C=T:w?C=P:h.route.Component?C=N.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,N.createElement(SR,{match:h,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:C})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(TR,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var iI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iI||{}),Iu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Iu||{});function CR(t){let e=N.useContext(Qp);return e||Ue(!1),e}function PR(t){let e=N.useContext(yR);return e||Ue(!1),e}function RR(t){let e=N.useContext(Po);return e||Ue(!1),e}function oI(t){let e=RR(),n=e.matches[e.matches.length-1];return n.route.id||Ue(!1),n.route.id}function bR(){var t;let e=N.useContext(tI),n=PR(Iu.UseRouteError),r=oI(Iu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function xR(){let{router:t}=CR(iI.UseNavigateStable),e=oI(Iu.UseNavigateStable),n=N.useRef(!1);return rI(()=>{n.current=!0}),N.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zs({fromRouteId:e},o)))},[t,e])}function $l(t){Ue(!1)}function DR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hr.Pop,navigator:o,static:s=!1,future:a}=t;hc()&&Ue(!1);let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:o,static:s,future:Zs({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=Co(r));let{pathname:d="/",search:h="",hash:p="",state:g=null,key:w="default"}=r,T=N.useMemo(()=>{let P=ZE(d,u);return P==null?null:{location:{pathname:P,search:h,hash:p,state:g,key:w},navigationType:i}},[u,d,h,p,g,w,i]);return T==null?null:N.createElement(cc.Provider,{value:c},N.createElement(dc.Provider,{children:n,value:T}))}function kR(t){let{children:e,location:n}=t;return _R(If(e),n)}new Promise(()=>{});function If(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let o=[...e,i];if(r.type===N.Fragment){n.push.apply(n,If(r.props.children,o));return}r.type!==$l&&Ue(!1),!r.props.index||!r.props.children||Ue(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=If(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.25.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const NR="6";try{window.__reactRouterVersion=NR}catch{}const OR="startTransition",xv=kA[OR];function LR(t){let{basename:e,children:n,future:r,window:i}=t,o=N.useRef();o.current==null&&(o.current=WP({window:i,v5Compat:!0}));let s=o.current,[a,u]=N.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},d=N.useCallback(h=>{c&&xv?xv(()=>u(h)):u(h)},[u,c]);return N.useLayoutEffect(()=>s.listen(d),[s,d]),N.createElement(DR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var Dv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Dv||(Dv={}));var kv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kv||(kv={}));var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},MR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},aI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(p=64)),r.push(n[d],n[h],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new VR;const p=o<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FR=function(t){const e=sI(t);return aI.encodeByteArray(e,!0)},Tu=function(t){return FR(t).replace(/\./g,"")},lI=function(t){try{return aI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=()=>UR().__FIREBASE_DEFAULTS__,$R=()=>{if(typeof process>"u"||typeof Nv>"u")return;const t=Nv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lI(t[1]);return e&&JSON.parse(e)},fc=()=>{try{return BR()||$R()||jR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uI=t=>{var e,n;return(n=(e=fc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zR=t=>{const e=uI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},cI=()=>{var t;return(t=fc())===null||t===void 0?void 0:t.config},dI=t=>{var e;return(e=fc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tu(JSON.stringify(n)),Tu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nt())}function qR(){var t;const e=(t=fc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const t=nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function XR(){return!qR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="FirebaseError";class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eb,Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ta.prototype.create)}}class Ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tb(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kn(i,a,r)}}function tb(t,e){return t.replace(nb,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nb=/\{\$([^}]+)}/g;function rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Su(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Ov(o)&&Ov(s)){if(!Su(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ov(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ps(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ms(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ib(t,e){const n=new ob(t,e);return n.subscribe.bind(n)}class ob{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sb(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ih),i.error===void 0&&(i.error=ih),i.complete===void 0&&(i.complete=ih);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sb(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ih(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ab=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ub(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function lb(t){return t===Qr?void 0:t}function ub(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ab(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const db={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},hb=ie.INFO,fb={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},pb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fb[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=hb,this._logHandler=pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const mb=(t,e)=>e.some(n=>t instanceof n);let Lv,Mv;function gb(){return Lv||(Lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yb(){return Mv||(Mv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hI=new WeakMap,Tf=new WeakMap,fI=new WeakMap,oh=new WeakMap,Jp=new WeakMap;function vb(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hI.set(n,t)}).catch(()=>{}),Jp.set(e,t),e}function _b(t){if(Tf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Tf.set(t,e)}let Sf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wb(t){Sf=t(Sf)}function Eb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sh(this),e,...n);return fI.set(r,e.sort?e.sort():[e]),Ir(r)}:yb().includes(t)?function(...e){return t.apply(sh(this),e),Ir(hI.get(this))}:function(...e){return Ir(t.apply(sh(this),e))}}function Ib(t){return typeof t=="function"?Eb(t):(t instanceof IDBTransaction&&_b(t),mb(t,gb())?new Proxy(t,Sf):t)}function Ir(t){if(t instanceof IDBRequest)return vb(t);if(oh.has(t))return oh.get(t);const e=Ib(t);return e!==t&&(oh.set(t,e),Jp.set(e,t)),e}const sh=t=>Jp.get(t);function Tb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ir(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ir(s.result),u.oldVersion,u.newVersion,Ir(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Sb=["get","getKey","getAll","getAllKeys","count"],Ab=["put","add","delete","clear"],ah=new Map;function Vv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ah.get(e))return ah.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ab.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Sb.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return ah.set(e,o),o}wb(t=>({...t,get:(e,n,r)=>Vv(e,n)||t.get(e,n,r),has:(e,n)=>!!Vv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Pb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Pb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Af="@firebase/app",Fv="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Xp("@firebase/app"),Rb="@firebase/app-compat",bb="@firebase/analytics-compat",xb="@firebase/analytics",Db="@firebase/app-check-compat",kb="@firebase/app-check",Nb="@firebase/auth",Ob="@firebase/auth-compat",Lb="@firebase/database",Mb="@firebase/database-compat",Vb="@firebase/functions",Fb="@firebase/functions-compat",Ub="@firebase/installations",Bb="@firebase/installations-compat",$b="@firebase/messaging",jb="@firebase/messaging-compat",zb="@firebase/performance",Wb="@firebase/performance-compat",Gb="@firebase/remote-config",Hb="@firebase/remote-config-compat",qb="@firebase/storage",Kb="@firebase/storage-compat",Qb="@firebase/firestore",Yb="@firebase/vertexai-preview",Xb="@firebase/firestore-compat",Jb="firebase",Zb="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="[DEFAULT]",ex={[Af]:"fire-core",[Rb]:"fire-core-compat",[xb]:"fire-analytics",[bb]:"fire-analytics-compat",[kb]:"fire-app-check",[Db]:"fire-app-check-compat",[Nb]:"fire-auth",[Ob]:"fire-auth-compat",[Lb]:"fire-rtdb",[Mb]:"fire-rtdb-compat",[Vb]:"fire-fn",[Fb]:"fire-fn-compat",[Ub]:"fire-iid",[Bb]:"fire-iid-compat",[$b]:"fire-fcm",[jb]:"fire-fcm-compat",[zb]:"fire-perf",[Wb]:"fire-perf-compat",[Gb]:"fire-rc",[Hb]:"fire-rc-compat",[qb]:"fire-gcs",[Kb]:"fire-gcs-compat",[Qb]:"fire-fst",[Xb]:"fire-fst-compat",[Yb]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,tx=new Map,Pf=new Map;function Uv(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lo(t){const e=t.name;if(Pf.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Pf.set(e,t);for(const n of Au.values())Uv(n,t);for(const n of tx.values())Uv(n,t);return!0}function Zp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new Ta("app","Firebase",nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=Zb;function pI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(n||(n=cI()),!n)throw Tr.create("no-options");const o=Au.get(i);if(o){if(Su(n,o.options)&&Su(r,o.config))return o;throw Tr.create("duplicate-app",{appName:i})}const s=new cb(i);for(const u of Pf.values())s.addComponent(u);const a=new rx(n,r,s);return Au.set(i,a),a}function mI(t=Cf){const e=Au.get(t);if(!e&&t===Cf&&cI())return pI();if(!e)throw Tr.create("no-app",{appName:t});return e}function Sr(t,e,n){var r;let i=(r=ex[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}lo(new di(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firebase-heartbeat-database",ox=1,ea="firebase-heartbeat-store";let lh=null;function gI(){return lh||(lh=Tb(ix,ox,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw Tr.create("idb-open",{originalErrorMessage:t.message})})),lh}async function sx(t){try{const n=(await gI()).transaction(ea),r=await n.objectStore(ea).get(yI(t));return await n.done,r}catch(e){if(e instanceof Kn)hi.warn(e.message);else{const n=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function Bv(t,e){try{const r=(await gI()).transaction(ea,"readwrite");await r.objectStore(ea).put(e,yI(t)),await r.done}catch(n){if(n instanceof Kn)hi.warn(n.message);else{const r=Tr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function yI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=1024,lx=30*24*60*60*1e3;class ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=$v();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=lx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$v(),{heartbeatsToSend:r,unsentEntries:i}=cx(this._heartbeatsCache.heartbeats),o=Tu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function $v(){return new Date().toISOString().substring(0,10)}function cx(t,e=ax){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jv(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jv(t){return Tu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){lo(new di("platform-logger",e=>new Cb(e),"PRIVATE")),lo(new di("heartbeat",e=>new ux(e),"PRIVATE")),Sr(Af,Fv,t),Sr(Af,Fv,"esm2017"),Sr("fire-js","")}hx("");var fx="firebase",px="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(fx,px,"app");function em(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mx=vI,_I=new Ta("auth","Firebase",vI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cu=new Xp("@firebase/auth");function gx(t,...e){Cu.logLevel<=ie.WARN&&Cu.warn(`Auth (${Ro}): ${t}`,...e)}function jl(t,...e){Cu.logLevel<=ie.ERROR&&Cu.error(`Auth (${Ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,...e){throw nm(t,...e)}function pn(t,...e){return nm(t,...e)}function tm(t,e,n){const r=Object.assign(Object.assign({},mx()),{[e]:n});return new Ta("auth","Firebase",r).create(e,{appName:t.name})}function Un(t){return tm(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&nn(t,"argument-error"),tm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _I.create(t,...e)}function Y(t,e,...n){if(!t)throw nm(e,...n)}function Ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jl(e),new Error(e)}function Wn(t,e){t||Ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vx(){return zv()==="http:"||zv()==="https:"}function zv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vx()||KR()||"connection"in navigator)?navigator.onLine:!0}function wx(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wn(n>e,"Short delay should be less than long delay!"),this.isMobile=HR()||QR()}get(){return _x()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(t,e){Wn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Aa(3e4,6e4);function Ur(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qn(t,e,n,r,i={}){return EI(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Sa(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),wI.fetch()(II(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function EI(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ex),e);try{const i=new Sx(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw _l(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _l(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw _l(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tm(t,d,c);nn(t,d)}}catch(i){if(i instanceof Kn)throw i;nn(t,"network-request-failed",{message:String(i)})}}async function Ca(t,e,n,r,i={}){const o=await Qn(t,e,n,r,i);return"mfaPendingCredential"in o&&nn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function II(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rm(t.config,i):`${t.config.apiScheme}://${i}`}function Tx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Sx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),Ix.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _l(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pn(t,e,r);return i.customData._tokenResponse=n,i}function Wv(t){return t!==void 0&&t.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Tx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Cx(t,e){return Qn(t,"GET","/v2/recaptchaConfig",Ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e){return Qn(t,"POST","/v1/accounts:delete",e)}async function TI(t,e){return Qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Rx(t,e=!1){const n=Be(t),r=await n.getIdToken(e),i=im(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rs(uh(i.auth_time)),issuedAtTime:Rs(uh(i.iat)),expirationTime:Rs(uh(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function uh(t){return Number(t)*1e3}function im(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jl("JWT malformed, contained fewer than 3 sections"),null;try{const i=lI(n);return i?JSON.parse(i):(jl("Failed to decode base64 JWT payload"),null)}catch(i){return jl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Gv(t){const e=im(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kn&&bx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rs(this.lastLoginAt),this.creationTime=Rs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uo(t,TI(n,{idToken:r}));Y(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SI(o.providerUserInfo):[],a=kx(t.providerData,s),u=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=u?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bf(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Dx(t){const e=Be(t);await Pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SI(t){return t.map(e=>{var{providerId:n}=e,r=em(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(t,e){const n=await EI(t,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=II(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wI.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ox(t,e){return Qn(t,"POST","/v2/accounts:revokeToken",Ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");const n=Gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Nx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xi;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xi,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bf(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uo(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Rx(this,e)}reload(){return Dx(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cn(this.auth.app))return Promise.reject(Un(this.auth));const e=await this.getIdToken();return await uo(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:C,emailVerified:D,isAnonymous:L,providerData:M,stsTokenManager:S}=n;Y(C&&S,e,"internal-error");const y=Xi.fromJSON(this.name,S);Y(typeof C=="string",e,"internal-error"),nr(h,e.name),nr(p,e.name),Y(typeof D=="boolean",e,"internal-error"),Y(typeof L=="boolean",e,"internal-error"),nr(g,e.name),nr(w,e.name),nr(T,e.name),nr(P,e.name),nr(E,e.name),nr(_,e.name);const I=new Mn({uid:C,auth:e,email:p,emailVerified:D,displayName:h,isAnonymous:L,photoURL:w,phoneNumber:g,tenantId:T,stsTokenManager:y,createdAt:E,lastLoginAt:_});return M&&Array.isArray(M)&&(I.providerData=M.map(A=>Object.assign({},A))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xi;i.updateFromServerResponse(n);const o=new Mn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pu(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Y(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?SI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Xi;a.updateFromIdToken(r);const u=new Mn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;function Vn(t){Wn(t instanceof Function,"Expected a class definition");let e=Hv.get(t);return e?(Wn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AI.type="NONE";const qv=AI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t,e,n){return`firebase:${t}:${e}:${n}`}class Ji{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=zl(this.userKey,i.apiKey,o),this.fullPersistenceKey=zl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ji(Vn(qv),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Vn(qv);const s=zl(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(s);if(d){const h=Mn._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ji(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Ji(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xI(e))return"Blackberry";if(DI(e))return"Webos";if(om(e))return"Safari";if((e.includes("chrome/")||PI(e))&&!e.includes("edge/"))return"Chrome";if(bI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CI(t=nt()){return/firefox\//i.test(t)}function om(t=nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PI(t=nt()){return/crios\//i.test(t)}function RI(t=nt()){return/iemobile/i.test(t)}function bI(t=nt()){return/android/i.test(t)}function xI(t=nt()){return/blackberry/i.test(t)}function DI(t=nt()){return/webos/i.test(t)}function pc(t=nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Lx(t=nt()){var e;return pc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Mx(){return YR()&&document.documentMode===10}function kI(t=nt()){return pc(t)||bI(t)||DI(t)||xI(t)||/windows phone/i.test(t)||RI(t)}function Vx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e=[]){let n;switch(t){case"Browser":n=Kv(nt());break;case"Worker":n=`${Kv(nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(t,e={}){return Qn(t,"GET","/v2/passwordPolicy",Ur(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=6;class $x{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Bx,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qv(this),this.idTokenSubscription=new Qv(this),this.beforeStateQueue=new Fx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_I,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ji.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await TI(this,{idToken:e}),r=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cn(this.app))return Promise.reject(Un(this));const n=e?Be(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cn(this.app)?Promise.reject(Un(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cn(this.app)?Promise.reject(Un(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ux(this),n=new $x(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ox(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vn(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=await Ji.create(this,[Vn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Br(t){return Be(t)}class Qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=ib(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zx(t){mc=t}function OI(t){return mc.loadJS(t)}function Wx(){return mc.recaptchaEnterpriseScript}function Gx(){return mc.gapiScript}function Hx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const qx="recaptcha-enterprise",Kx="NO_RECAPTCHA";class Qx{constructor(e){this.type=qx,this.auth=Br(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{Cx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ax(u);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){const u=window.grecaptcha;Wv(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Kx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&Wv(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Wx();u.length!==0&&(u+=a),OI(u).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function Yv(t,e,n,r=!1){const i=new Qx(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function xf(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Yv(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Yv(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){const n=Zp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Su(o,e??{}))return i;nn(i,"already-initialized")}return n.initialize({options:e})}function Xx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Jx(t,e,n){const r=Br(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=LI(e),{host:s,port:a}=Zx(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),eD()}function LI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Zx(t){const e=LI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Xv(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Xv(s)}}}function Xv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function eD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function tD(t,e){return Qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return Ca(t,"POST","/v1/accounts:signInWithPassword",Ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(t,e){return Ca(t,"POST","/v1/accounts:signInWithEmailLink",Ur(t,e))}async function iD(t,e){return Ca(t,"POST","/v1/accounts:signInWithEmailLink",Ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends sm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ta(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ta(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xf(e,n,"signInWithPassword",nD);case"emailLink":return rD(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xf(e,r,"signUpPassword",tD);case"emailLink":return iD(e,{idToken:n,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zi(t,e){return Ca(t,"POST","/v1/accounts:signInWithIdp",Ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="http://localhost";class fi extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=em(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new fi(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Zi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zi(e,n)}buildRequest(){const e={requestUri:oD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aD(t){const e=ps(ms(t)).link,n=e?ps(ms(e)).deep_link_id:null,r=ps(ms(t)).deep_link_id;return(r?ps(ms(r)).link:null)||r||n||e||t}class am{constructor(e){var n,r,i,o,s,a;const u=ps(ms(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,d=(r=u.oobCode)!==null&&r!==void 0?r:null,h=sD((i=u.mode)!==null&&i!==void 0?i:null);Y(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=aD(e);try{return new am(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return ta._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=am.parseLink(n);return Y(r,"argument-error"),ta._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends lm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Pa{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return kn.credential(n,r)}catch{return null}}}kn.GOOGLE_SIGN_IN_METHOD="google.com";kn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Pa{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Pa{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t,e){return Ca(t,"POST","/v1/accounts:signUp",Ur(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Mn._fromIdTokenResponse(e,r,i),s=Jv(r);return new pi({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Jv(r);return new pi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Jv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Kn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ru.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ru(e,n,r,i)}}function MI(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ru._fromErrorAndOperation(t,o,e,r):o})}async function uD(t,e,n=!1){const r=await uo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e,n=!1){const{auth:r}=t;if(cn(r.app))return Promise.reject(Un(r));const i="reauthenticate";try{const o=await uo(t,MI(r,i,e,t),n);Y(o.idToken,r,"internal-error");const s=im(o.idToken);Y(s,r,"internal-error");const{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),pi._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(t,e,n=!1){if(cn(t.app))return Promise.reject(Un(t));const r="signIn",i=await MI(t,r,e),o=await pi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function dD(t,e){return VI(Br(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(t){const e=Br(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hD(t,e,n){if(cn(t.app))return Promise.reject(Un(t));const r=Br(t),s=await xf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lD).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&FI(t),u}),a=await pi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function fD(t,e,n){return cn(t.app)?Promise.reject(Un(t)):dD(Be(t),bo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FI(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t,e){return Qn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Be(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await uo(r,pD(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function gD(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function yD(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function vD(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function _D(t){return Be(t).signOut()}const bu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){const t=nt();return om(t)||pc(t)}const ED=1e3,ID=10;class BI extends UI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wD()&&Vx(),this.fallbackToPolling=kI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Mx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ID):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BI.type="LOCAL";const TD=BI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I extends UI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$I.type="SESSION";const jI=$I;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),u=await SD(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const c=um("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(p.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function CD(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function PD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bD(){return zI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firebaseLocalStorageDb",xD=1,xu="firebaseLocalStorage",GI="fbase_key";class Ra{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yc(t,e){return t.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function DD(){const t=indexedDB.deleteDatabase(WI);return new Ra(t).toPromise()}function Df(){const t=indexedDB.open(WI,xD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xu,{keyPath:GI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xu)?e(r):(r.close(),await DD(),e(await Df()))})})}async function Zv(t,e,n){const r=yc(t,!0).put({[GI]:e,value:n});return new Ra(r).toPromise()}async function kD(t,e){const n=yc(t,!1).get(e),r=await new Ra(n).toPromise();return r===void 0?null:r.value}function e_(t,e){const n=yc(t,!0).delete(e);return new Ra(n).toPromise()}const ND=800,OD=3;class HI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Df(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(bD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PD(),!this.activeServiceWorker)return;this.sender=new AD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Df();return await Zv(e,bu,"1"),await e_(e,bu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=yc(i,!1).getAll();return new Ra(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ND)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HI.type="LOCAL";const LD=HI;new Aa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t,e){return e?Vn(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm extends sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MD(t){return VI(t.auth,new cm(t),t.bypassAuthState)}function VD(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),cD(n,new cm(t),t.bypassAuthState)}async function FD(t){const{auth:e,user:n}=t;return Y(n,e,"internal-error"),uD(n,new cm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MD;case"linkViaPopup":case"linkViaRedirect":return FD;case"reauthViaPopup":case"reauthViaRedirect":return VD;default:nn(this.auth,"internal-error")}}resolve(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new Aa(2e3,1e4);async function BD(t,e,n){if(cn(t.app))return Promise.reject(pn(t,"operation-not-supported-in-this-environment"));const r=Br(t);yx(t,e,lm);const i=qI(r,n);return new ei(r,"signInViaPopup",e,i).executeNotNull()}class ei extends KI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ei.currentPopupAction&&ei.currentPopupAction.cancel(),ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Y(e,this.auth,"internal-error"),e}async onExecution(){Wn(this.filter.length===1,"Popup operations only handle one event");const e=um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UD.get())};e()}}ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="pendingRedirect",Wl=new Map;class jD extends KI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wl.get(this.auth._key());if(!e){try{const r=await zD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zD(t,e){const n=HD(e),r=GD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WD(t,e){Wl.set(t._key(),e)}function GD(t){return Vn(t._redirectPersistence)}function HD(t){return zl($D,t.config.apiKey,t.name)}async function qD(t,e,n=!1){if(cn(t.app))return Promise.reject(Un(t));const r=Br(t),i=qI(r,e),s=await new jD(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=10*60*1e3;class QD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KD&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(e))}saveEventToCache(e){this.cachedEventUids.add(t_(e)),this.lastProcessedEventTime=Date.now()}}function t_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t,e={}){return Qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZD=/^https?/;async function ek(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XD(t);for(const n of e)try{if(tk(n))return}catch{}nn(t,"unauthorized-domain")}function tk(t){const e=Rf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ZD.test(n))return!1;if(JD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Aa(3e4,6e4);function n_(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rk(t){return new Promise((e,n)=>{var r,i,o;function s(){n_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n_(),n(pn(t,"network-request-failed"))},timeout:nk.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Tn().gapi)===null||o===void 0)&&o.load)s();else{const a=Hx("iframefcb");return Tn()[a]=()=>{gapi.load?s():n(pn(t,"network-request-failed"))},OI(`${Gx()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Gl=null,e})}let Gl=null;function ik(t){return Gl=Gl||rk(t),Gl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Aa(5e3,15e3),sk="__/auth/iframe",ak="emulator/auth/iframe",lk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ck(t){const e=t.config;Y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rm(e,ak):`https://${t.config.authDomain}/${sk}`,r={apiKey:e.apiKey,appName:t.name,v:Ro},i=uk.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Sa(r).slice(1)}`}async function dk(t){const e=await ik(t),n=Tn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:ck(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lk,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=pn(t,"network-request-failed"),a=Tn().setTimeout(()=>{o(s)},ok.get());function u(){Tn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fk=500,pk=600,mk="_blank",gk="http://localhost";class r_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yk(t,e,n,r=fk,i=pk){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},hk),{width:r.toString(),height:i.toString(),top:o,left:s}),c=nt().toLowerCase();n&&(a=PI(c)?mk:n),CI(c)&&(e=e||gk,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[g,w])=>`${p}${g}=${w},`,"");if(Lx(c)&&a!=="_self")return vk(e||"",a),new r_(null);const h=window.open(e||"",a,d);Y(h,t,"popup-blocked");try{h.focus()}catch{}return new r_(h)}function vk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k="__/auth/handler",wk="emulator/auth/handler",Ek=encodeURIComponent("fac");async function i_(t,e,n,r,i,o){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ro,eventId:i};if(e instanceof lm){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))s[d]=h}if(e instanceof Pa){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const u=await t._getAppCheckToken(),c=u?`#${Ek}=${encodeURIComponent(u)}`:"";return`${Ik(t)}?${Sa(a).slice(1)}${c}`}function Ik({config:t}){return t.emulator?rm(t,wk):`https://${t.authDomain}/${_k}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="webStorageSupport";class Tk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jI,this._completeRedirectFn=qD,this._overrideRedirectResult=WD}async _openPopup(e,n,r,i){var o;Wn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await i_(e,n,r,Rf(),i);return yk(e,s,um())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await i_(e,n,r,Rf(),i);return CD(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Wn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dk(e),r=new QD(e);return n.register("authEvent",i=>(Y(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ch,{type:ch},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[ch];s!==void 0&&n(!!s),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ek(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kI()||om()||pc()}}const Sk=Tk;var o_="@firebase/auth",s_="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pk(t){lo(new di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NI(t)},c=new jx(r,i,o,u);return Xx(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lo(new di("auth-internal",e=>{const n=Br(e.getProvider("auth").getImmediate());return(r=>new Ak(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sr(o_,s_,Ck(t)),Sr(o_,s_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=5*60,bk=dI("authIdTokenMaxAge")||Rk;let a_=null;const xk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bk)return;const i=n==null?void 0:n.token;a_!==i&&(a_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Dk(t=mI()){const e=Zp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Yx(t,{popupRedirectResolver:Sk,persistence:[LD,TD,jI]}),r=dI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=xk(o.toString());yD(n,s,()=>s(n.currentUser)),gD(n,a=>s(a))}}const i=uI("auth");return i&&Jx(n,`http://${i}`),n}function kk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zx({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=pn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pk("Browser");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,YI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function I(){}I.prototype=y.prototype,S.D=y.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(A,b,x){for(var R=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)R[Te-2]=arguments[Te];return y.prototype[b].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,I){I||(I=0);var A=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)A[b]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(b=0;16>b;++b)A[b]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=S.g[0],I=S.g[1],b=S.g[2];var x=S.g[3],R=y+(x^I&(b^x))+A[0]+3614090360&4294967295;y=I+(R<<7&4294967295|R>>>25),R=x+(b^y&(I^b))+A[1]+3905402710&4294967295,x=y+(R<<12&4294967295|R>>>20),R=b+(I^x&(y^I))+A[2]+606105819&4294967295,b=x+(R<<17&4294967295|R>>>15),R=I+(y^b&(x^y))+A[3]+3250441966&4294967295,I=b+(R<<22&4294967295|R>>>10),R=y+(x^I&(b^x))+A[4]+4118548399&4294967295,y=I+(R<<7&4294967295|R>>>25),R=x+(b^y&(I^b))+A[5]+1200080426&4294967295,x=y+(R<<12&4294967295|R>>>20),R=b+(I^x&(y^I))+A[6]+2821735955&4294967295,b=x+(R<<17&4294967295|R>>>15),R=I+(y^b&(x^y))+A[7]+4249261313&4294967295,I=b+(R<<22&4294967295|R>>>10),R=y+(x^I&(b^x))+A[8]+1770035416&4294967295,y=I+(R<<7&4294967295|R>>>25),R=x+(b^y&(I^b))+A[9]+2336552879&4294967295,x=y+(R<<12&4294967295|R>>>20),R=b+(I^x&(y^I))+A[10]+4294925233&4294967295,b=x+(R<<17&4294967295|R>>>15),R=I+(y^b&(x^y))+A[11]+2304563134&4294967295,I=b+(R<<22&4294967295|R>>>10),R=y+(x^I&(b^x))+A[12]+1804603682&4294967295,y=I+(R<<7&4294967295|R>>>25),R=x+(b^y&(I^b))+A[13]+4254626195&4294967295,x=y+(R<<12&4294967295|R>>>20),R=b+(I^x&(y^I))+A[14]+2792965006&4294967295,b=x+(R<<17&4294967295|R>>>15),R=I+(y^b&(x^y))+A[15]+1236535329&4294967295,I=b+(R<<22&4294967295|R>>>10),R=y+(b^x&(I^b))+A[1]+4129170786&4294967295,y=I+(R<<5&4294967295|R>>>27),R=x+(I^b&(y^I))+A[6]+3225465664&4294967295,x=y+(R<<9&4294967295|R>>>23),R=b+(y^I&(x^y))+A[11]+643717713&4294967295,b=x+(R<<14&4294967295|R>>>18),R=I+(x^y&(b^x))+A[0]+3921069994&4294967295,I=b+(R<<20&4294967295|R>>>12),R=y+(b^x&(I^b))+A[5]+3593408605&4294967295,y=I+(R<<5&4294967295|R>>>27),R=x+(I^b&(y^I))+A[10]+38016083&4294967295,x=y+(R<<9&4294967295|R>>>23),R=b+(y^I&(x^y))+A[15]+3634488961&4294967295,b=x+(R<<14&4294967295|R>>>18),R=I+(x^y&(b^x))+A[4]+3889429448&4294967295,I=b+(R<<20&4294967295|R>>>12),R=y+(b^x&(I^b))+A[9]+568446438&4294967295,y=I+(R<<5&4294967295|R>>>27),R=x+(I^b&(y^I))+A[14]+3275163606&4294967295,x=y+(R<<9&4294967295|R>>>23),R=b+(y^I&(x^y))+A[3]+4107603335&4294967295,b=x+(R<<14&4294967295|R>>>18),R=I+(x^y&(b^x))+A[8]+1163531501&4294967295,I=b+(R<<20&4294967295|R>>>12),R=y+(b^x&(I^b))+A[13]+2850285829&4294967295,y=I+(R<<5&4294967295|R>>>27),R=x+(I^b&(y^I))+A[2]+4243563512&4294967295,x=y+(R<<9&4294967295|R>>>23),R=b+(y^I&(x^y))+A[7]+1735328473&4294967295,b=x+(R<<14&4294967295|R>>>18),R=I+(x^y&(b^x))+A[12]+2368359562&4294967295,I=b+(R<<20&4294967295|R>>>12),R=y+(I^b^x)+A[5]+4294588738&4294967295,y=I+(R<<4&4294967295|R>>>28),R=x+(y^I^b)+A[8]+2272392833&4294967295,x=y+(R<<11&4294967295|R>>>21),R=b+(x^y^I)+A[11]+1839030562&4294967295,b=x+(R<<16&4294967295|R>>>16),R=I+(b^x^y)+A[14]+4259657740&4294967295,I=b+(R<<23&4294967295|R>>>9),R=y+(I^b^x)+A[1]+2763975236&4294967295,y=I+(R<<4&4294967295|R>>>28),R=x+(y^I^b)+A[4]+1272893353&4294967295,x=y+(R<<11&4294967295|R>>>21),R=b+(x^y^I)+A[7]+4139469664&4294967295,b=x+(R<<16&4294967295|R>>>16),R=I+(b^x^y)+A[10]+3200236656&4294967295,I=b+(R<<23&4294967295|R>>>9),R=y+(I^b^x)+A[13]+681279174&4294967295,y=I+(R<<4&4294967295|R>>>28),R=x+(y^I^b)+A[0]+3936430074&4294967295,x=y+(R<<11&4294967295|R>>>21),R=b+(x^y^I)+A[3]+3572445317&4294967295,b=x+(R<<16&4294967295|R>>>16),R=I+(b^x^y)+A[6]+76029189&4294967295,I=b+(R<<23&4294967295|R>>>9),R=y+(I^b^x)+A[9]+3654602809&4294967295,y=I+(R<<4&4294967295|R>>>28),R=x+(y^I^b)+A[12]+3873151461&4294967295,x=y+(R<<11&4294967295|R>>>21),R=b+(x^y^I)+A[15]+530742520&4294967295,b=x+(R<<16&4294967295|R>>>16),R=I+(b^x^y)+A[2]+3299628645&4294967295,I=b+(R<<23&4294967295|R>>>9),R=y+(b^(I|~x))+A[0]+4096336452&4294967295,y=I+(R<<6&4294967295|R>>>26),R=x+(I^(y|~b))+A[7]+1126891415&4294967295,x=y+(R<<10&4294967295|R>>>22),R=b+(y^(x|~I))+A[14]+2878612391&4294967295,b=x+(R<<15&4294967295|R>>>17),R=I+(x^(b|~y))+A[5]+4237533241&4294967295,I=b+(R<<21&4294967295|R>>>11),R=y+(b^(I|~x))+A[12]+1700485571&4294967295,y=I+(R<<6&4294967295|R>>>26),R=x+(I^(y|~b))+A[3]+2399980690&4294967295,x=y+(R<<10&4294967295|R>>>22),R=b+(y^(x|~I))+A[10]+4293915773&4294967295,b=x+(R<<15&4294967295|R>>>17),R=I+(x^(b|~y))+A[1]+2240044497&4294967295,I=b+(R<<21&4294967295|R>>>11),R=y+(b^(I|~x))+A[8]+1873313359&4294967295,y=I+(R<<6&4294967295|R>>>26),R=x+(I^(y|~b))+A[15]+4264355552&4294967295,x=y+(R<<10&4294967295|R>>>22),R=b+(y^(x|~I))+A[6]+2734768916&4294967295,b=x+(R<<15&4294967295|R>>>17),R=I+(x^(b|~y))+A[13]+1309151649&4294967295,I=b+(R<<21&4294967295|R>>>11),R=y+(b^(I|~x))+A[4]+4149444226&4294967295,y=I+(R<<6&4294967295|R>>>26),R=x+(I^(y|~b))+A[11]+3174756917&4294967295,x=y+(R<<10&4294967295|R>>>22),R=b+(y^(x|~I))+A[2]+718787259&4294967295,b=x+(R<<15&4294967295|R>>>17),R=I+(x^(b|~y))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+b&4294967295,S.g[3]=S.g[3]+x&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var I=y-this.blockSize,A=this.B,b=this.h,x=0;x<y;){if(b==0)for(;x<=I;)i(this,S,x),x+=this.blockSize;if(typeof S=="string"){for(;x<y;)if(A[b++]=S.charCodeAt(x++),b==this.blockSize){i(this,A),b=0;break}}else for(;x<y;)if(A[b++]=S[x++],b==this.blockSize){i(this,A),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var I=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=I&255,I/=256;for(this.u(S),S=Array(16),y=I=0;4>y;++y)for(var A=0;32>A;A+=8)S[I++]=this.g[y]>>>A&255;return S};function o(S,y){var I=a;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=y(S)}function s(S,y){this.h=y;for(var I=[],A=!0,b=S.length-1;0<=b;b--){var x=S[b]|0;A&&x==y||(I[b]=x,A=!1)}this.g=I}var a={};function u(S){return-128<=S&&128>S?o(S,function(y){return new s([y|0],0>y?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return P(c(-S));for(var y=[],I=1,A=0;S>=I;A++)y[A]=S/I|0,I*=4294967296;return new s(y,0)}function d(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return P(d(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),A=h,b=0;b<S.length;b+=8){var x=Math.min(8,S.length-b),R=parseInt(S.substring(b,b+x),y);8>x?(x=c(Math.pow(y,x)),A=A.j(x).add(c(R))):(A=A.j(I),A=A.add(c(R)))}return A}var h=u(0),p=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(T(this))return-P(this).m();for(var S=0,y=1,I=0;I<this.g.length;I++){var A=this.i(I);S+=(0<=A?A:4294967296+A)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(T(this))return"-"+P(this).toString(S);for(var y=c(Math.pow(S,6)),I=this,A="";;){var b=D(I,y).g;I=E(I,b.j(y));var x=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=b,w(I))return x+A;for(;6>x.length;)x="0"+x;A=x+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function T(S){return S.h==-1}t.l=function(S){return S=E(this,S),T(S)?-1:w(S)?0:1};function P(S){for(var y=S.g.length,I=[],A=0;A<y;A++)I[A]=~S.g[A];return new s(I,~S.h).add(p)}t.abs=function(){return T(this)?P(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0,b=0;b<=y;b++){var x=A+(this.i(b)&65535)+(S.i(b)&65535),R=(x>>>16)+(this.i(b)>>>16)+(S.i(b)>>>16);A=R>>>16,x&=65535,R&=65535,I[b]=R<<16|x}return new s(I,I[I.length-1]&-2147483648?-1:0)};function E(S,y){return S.add(P(y))}t.j=function(S){if(w(this)||w(S))return h;if(T(this))return T(S)?P(this).j(P(S)):P(P(this).j(S));if(T(S))return P(this.j(P(S)));if(0>this.l(g)&&0>S.l(g))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,I=[],A=0;A<2*y;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var b=0;b<S.g.length;b++){var x=this.i(A)>>>16,R=this.i(A)&65535,Te=S.i(b)>>>16,$e=S.i(b)&65535;I[2*A+2*b]+=R*$e,_(I,2*A+2*b),I[2*A+2*b+1]+=x*$e,_(I,2*A+2*b+1),I[2*A+2*b+1]+=R*Te,_(I,2*A+2*b+1),I[2*A+2*b+2]+=x*Te,_(I,2*A+2*b+2)}for(A=0;A<y;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=y;A<2*y;A++)I[A]=0;return new s(I,0)};function _(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function C(S,y){this.g=S,this.h=y}function D(S,y){if(w(y))throw Error("division by zero");if(w(S))return new C(h,h);if(T(S))return y=D(P(S),y),new C(P(y.g),P(y.h));if(T(y))return y=D(S,P(y)),new C(P(y.g),y.h);if(30<S.g.length){if(T(S)||T(y))throw Error("slowDivide_ only works with positive integers.");for(var I=p,A=y;0>=A.l(S);)I=L(I),A=L(A);var b=M(I,1),x=M(A,1);for(A=M(A,2),I=M(I,2);!w(A);){var R=x.add(A);0>=R.l(S)&&(b=b.add(I),x=R),A=M(A,1),I=M(I,1)}return y=E(S,b.j(y)),new C(b,y)}for(b=h;0<=S.l(y);){for(I=Math.max(1,Math.floor(S.m()/y.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),x=c(I),R=x.j(y);T(R)||0<R.l(S);)I-=A,x=c(I),R=x.j(y);w(x)&&(x=p),b=b.add(x),S=E(S,R)}return new C(b,S)}t.A=function(S){return D(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)&S.i(A);return new s(I,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)|S.i(A);return new s(I,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)^S.i(A);return new s(I,this.h^S.h)};function L(S){for(var y=S.g.length+1,I=[],A=0;A<y;A++)I[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(I,S.h)}function M(S,y){var I=y>>5;y%=32;for(var A=S.g.length-I,b=[],x=0;x<A;x++)b[x]=0<y?S.i(x+I)>>>y|S.i(x+I+1)<<32-y:S.i(x+I);return new s(b,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,oi=s}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var wl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XI,JI,gs,ZI,Hl,kf,eT,tT,nT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof wl=="object"&&wl];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var k=l[v];if(!(k in m))break e;m=m[k]}l=l[l.length-1],v=m[l],f=f(v),f!=v&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var m=0,v=!1,k={next:function(){if(!v&&m<l.length){var O=m++;return{value:f(O,l[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(l){return l||function(){return o(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,m){return l.call.apply(l.bind,arguments)}function h(l,f,m){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,v),l.apply(f,k)}}return function(){return l.apply(f,arguments)}}function p(l,f,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function g(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function w(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(v,k,O){for(var j=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)j[ge-2]=arguments[ge];return f.prototype[k].apply(v,j)}}function T(l){const f=l.length;if(0<f){const m=Array(f);for(let v=0;v<f;v++)m[v]=l[v];return m}return[]}function P(l,f){for(let m=1;m<arguments.length;m++){const v=arguments[m];if(u(v)){const k=l.length||0,O=v.length||0;l.length=k+O;for(let j=0;j<O;j++)l[k+j]=v[j]}else l.push(v)}}class E{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function _(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var L=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function M(l,f,m){for(const v in l)f.call(m,l[v],v,l)}function S(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function y(l){const f={};for(const m in l)f[m]=l[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let m,v;for(let k=1;k<arguments.length;k++){v=arguments[k];for(m in v)l[m]=v[m];for(let O=0;O<I.length;O++)m=I[O],Object.prototype.hasOwnProperty.call(v,m)&&(l[m]=v[m])}}function b(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function x(l){a.setTimeout(()=>{throw l},0)}function R(){var l=Q;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Te{constructor(){this.h=this.g=null}add(f,m){const v=$e.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var $e=new E(()=>new Yn,l=>l.reset());class Yn{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,z=!1,Q=new Te,J=()=>{const l=a.Promise.resolve(void 0);bt=()=>{l.then(pe)}};var pe=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(m){x(m)}var f=$e;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}z=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Gt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return l}();function xt(l,f){if(me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(L){e:{try{D(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Dt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&xt.aa.h.call(this)}}w(xt,me);var Dt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ht="closure_listenable_"+(1e6*Math.random()|0),ud=0;function Si(l,f,m,v,k){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=k,this.key=++ud,this.da=this.fa=!1}function Xn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Vo(l){this.src=l,this.g={},this.h=0}Vo.prototype.add=function(l,f,m,v,k){var O=l.toString();l=this.g[O],l||(l=this.g[O]=[],this.h++);var j=Pn(l,f,v,k);return-1<j?(f=l[j],m||(f.fa=!1)):(f=new Si(f,this.src,O,!!v,k),f.fa=m,l.push(f)),f};function Et(l,f){var m=f.type;if(m in l.g){var v=l.g[m],k=Array.prototype.indexOf.call(v,f,void 0),O;(O=0<=k)&&Array.prototype.splice.call(v,k,1),O&&(Xn(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Pn(l,f,m,v){for(var k=0;k<l.length;++k){var O=l[k];if(!O.da&&O.listener==f&&O.capture==!!m&&O.ha==v)return k}return-1}var cd="closure_lm_"+(1e6*Math.random()|0),dd={};function yg(l,f,m,v,k){if(Array.isArray(f)){for(var O=0;O<f.length;O++)yg(l,f[O],m,v,k);return null}return m=wg(m),l&&l[Ht]?l.K(f,m,c(v)?!!v.capture:!!v,k):$1(l,f,m,!1,v,k)}function $1(l,f,m,v,k,O){if(!f)throw Error("Invalid event type");var j=c(k)?!!k.capture:!!k,ge=fd(l);if(ge||(l[cd]=ge=new Vo(l)),m=ge.add(f,m,v,j,O),m.proxy)return m;if(v=j1(),m.proxy=v,v.src=l,v.listener=m,l.addEventListener)Gt||(k=j),k===void 0&&(k=!1),l.addEventListener(f.toString(),v,k);else if(l.attachEvent)l.attachEvent(_g(f.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function j1(){function l(m){return f.call(l.src,l.listener,m)}const f=z1;return l}function vg(l,f,m,v,k){if(Array.isArray(f))for(var O=0;O<f.length;O++)vg(l,f[O],m,v,k);else v=c(v)?!!v.capture:!!v,m=wg(m),l&&l[Ht]?(l=l.i,f=String(f).toString(),f in l.g&&(O=l.g[f],m=Pn(O,m,v,k),-1<m&&(Xn(O[m]),Array.prototype.splice.call(O,m,1),O.length==0&&(delete l.g[f],l.h--)))):l&&(l=fd(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Pn(f,m,v,k)),(m=-1<l?f[l]:null)&&hd(m))}function hd(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ht])Et(f.i,l);else{var m=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(m,v,l.capture):f.detachEvent?f.detachEvent(_g(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=fd(f))?(Et(m,l),m.h==0&&(m.src=null,f[cd]=null)):Xn(l)}}}function _g(l){return l in dd?dd[l]:dd[l]="on"+l}function z1(l,f){if(l.da)l=!0;else{f=new xt(f,this);var m=l.listener,v=l.ha||l.src;l.fa&&hd(l),l=m.call(v,f)}return l}function fd(l){return l=l[cd],l instanceof Vo?l:null}var pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(l){return typeof l=="function"?l:(l[pd]||(l[pd]=function(f){return l.handleEvent(f)}),l[pd])}function rt(){ue.call(this),this.i=new Vo(this),this.M=this,this.F=null}w(rt,ue),rt.prototype[Ht]=!0,rt.prototype.removeEventListener=function(l,f,m,v){vg(this,l,f,m,v)};function pt(l,f){var m,v=l.F;if(v)for(m=[];v;v=v.F)m.push(v);if(l=l.M,v=f.type||f,typeof f=="string")f=new me(f,l);else if(f instanceof me)f.target=f.target||l;else{var k=f;f=new me(v,l),A(f,k)}if(k=!0,m)for(var O=m.length-1;0<=O;O--){var j=f.g=m[O];k=$a(j,v,!0,f)&&k}if(j=f.g=l,k=$a(j,v,!0,f)&&k,k=$a(j,v,!1,f)&&k,m)for(O=0;O<m.length;O++)j=f.g=m[O],k=$a(j,v,!1,f)&&k}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],v=0;v<m.length;v++)Xn(m[v]);delete l.g[f],l.h--}}this.F=null},rt.prototype.K=function(l,f,m,v){return this.i.add(String(l),f,!1,m,v)},rt.prototype.L=function(l,f,m,v){return this.i.add(String(l),f,!0,m,v)};function $a(l,f,m,v){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var k=!0,O=0;O<f.length;++O){var j=f[O];if(j&&!j.da&&j.capture==m){var ge=j.listener,Ke=j.ha||j.src;j.fa&&Et(l.i,j),k=ge.call(Ke,v)!==!1&&k}}return k&&!v.defaultPrevented}function Eg(l,f,m){if(typeof l=="function")m&&(l=p(l,m));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Ig(l){l.g=Eg(()=>{l.g=null,l.i&&(l.i=!1,Ig(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class W1 extends ue{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ig(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fo(l){ue.call(this),this.h=l,this.g={}}w(Fo,ue);var Tg=[];function Sg(l){M(l.g,function(f,m){this.g.hasOwnProperty(m)&&hd(f)},l),l.g={}}Fo.prototype.N=function(){Fo.aa.N.call(this),Sg(this)},Fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var md=a.JSON.stringify,G1=a.JSON.parse,H1=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function gd(){}gd.prototype.h=null;function Ag(l){return l.h||(l.h=l.i())}function Cg(){}var Uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yd(){me.call(this,"d")}w(yd,me);function vd(){me.call(this,"c")}w(vd,me);var jr={},Pg=null;function ja(){return Pg=Pg||new rt}jr.La="serverreachability";function Rg(l){me.call(this,jr.La,l)}w(Rg,me);function Bo(l){const f=ja();pt(f,new Rg(f))}jr.STAT_EVENT="statevent";function bg(l,f){me.call(this,jr.STAT_EVENT,l),this.stat=f}w(bg,me);function mt(l){const f=ja();pt(f,new bg(f,l))}jr.Ma="timingevent";function xg(l,f){me.call(this,jr.Ma,l),this.size=f}w(xg,me);function $o(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function jo(){this.g=!0}jo.prototype.xa=function(){this.g=!1};function q1(l,f,m,v,k,O){l.info(function(){if(l.g)if(O)for(var j="",ge=O.split("&"),Ke=0;Ke<ge.length;Ke++){var le=ge[Ke].split("=");if(1<le.length){var it=le[0];le=le[1];var ot=it.split("_");j=2<=ot.length&&ot[1]=="type"?j+(it+"="+le+"&"):j+(it+"=redacted&")}}else j=null;else j=O;return"XMLHTTP REQ ("+v+") [attempt "+k+"]: "+f+`
`+m+`
`+j})}function K1(l,f,m,v,k,O,j){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+k+"]: "+f+`
`+m+`
`+O+" "+j})}function Ai(l,f,m,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Y1(l,m)+(v?" "+v:"")})}function Q1(l,f){l.info(function(){return"TIMEOUT: "+f})}jo.prototype.info=function(){};function Y1(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var v=m[l];if(!(2>v.length)){var k=v[1];if(Array.isArray(k)&&!(1>k.length)){var O=k[0];if(O!="noop"&&O!="stop"&&O!="close")for(var j=1;j<k.length;j++)k[j]=""}}}}return md(m)}catch{return f}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_d;function Wa(){}w(Wa,gd),Wa.prototype.g=function(){return new XMLHttpRequest},Wa.prototype.i=function(){return{}},_d=new Wa;function Jn(l,f,m,v){this.j=l,this.i=f,this.l=m,this.R=v||1,this.U=new Fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kg}function kg(){this.i=null,this.g="",this.h=!1}var Ng={},wd={};function Ed(l,f,m){l.L=1,l.v=Ka(Rn(f)),l.m=m,l.P=!0,Og(l,null)}function Og(l,f){l.F=Date.now(),Ga(l),l.A=Rn(l.v);var m=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Kg(m.i,"t",v),l.C=0,m=l.j.J,l.h=new kg,l.g=hy(l.j,m?f:null,!l.m),0<l.O&&(l.M=new W1(p(l.Y,l,l.g),l.O)),f=l.U,m=l.g,v=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(Tg[0]=k.toString()),k=Tg);for(var O=0;O<k.length;O++){var j=yg(m,k[O],v||f.handleEvent,!1,f.h||f);if(!j)break;f.g[j.key]=j}f=l.H?y(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Bo(),q1(l.i,l.u,l.A,l.l,l.R,l.m)}Jn.prototype.ca=function(l){l=l.target;const f=this.M;f&&bn(l)==3?f.j():this.Y(l)},Jn.prototype.Y=function(l){try{if(l==this.g)e:{const ot=bn(this.g);var f=this.g.Ba();const Ri=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||ty(this.g)))){this.J||ot!=4||f==7||(f==8||0>=Ri?Bo(3):Bo(2)),Id(this);var m=this.g.Z();this.X=m;t:if(Lg(this)){var v=ty(this.g);l="";var k=v.length,O=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),zo(this);var j="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(O&&f==k-1)});v.length=0,this.h.g+=l,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=m==200,K1(this.i,this.u,this.A,this.l,this.R,ot,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,Ke=this.g;if((ge=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ge)){var le=ge;break t}}le=null}if(m=le)Ai(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Td(this,m);else{this.o=!1,this.s=3,mt(12),zr(this),zo(this);break e}}if(this.P){m=!0;let on;for(;!this.J&&this.C<j.length;)if(on=X1(this,j),on==wd){ot==4&&(this.s=4,mt(14),m=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Ng){this.s=4,mt(15),Ai(this.i,this.l,j,"[Invalid Chunk]"),m=!1;break}else Ai(this.i,this.l,on,null),Td(this,on);if(Lg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||j.length!=0||this.h.h||(this.s=1,mt(16),m=!1),this.o=this.o&&m,!m)Ai(this.i,this.l,j,"[Invalid Chunked Response]"),zr(this),zo(this);else if(0<j.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),bd(it),it.M=!0,mt(11))}}else Ai(this.i,this.l,j,null),Td(this,j);ot==4&&zr(this),this.o&&!this.J&&(ot==4?ly(this.j,this):(this.o=!1,Ga(this)))}else pA(this.g),m==400&&0<j.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),zr(this),zo(this)}}}catch{}finally{}};function Lg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function X1(l,f){var m=l.C,v=f.indexOf(`
`,m);return v==-1?wd:(m=Number(f.substring(m,v)),isNaN(m)?Ng:(v+=1,v+m>f.length?wd:(f=f.slice(v,v+m),l.C=v+m,f)))}Jn.prototype.cancel=function(){this.J=!0,zr(this)};function Ga(l){l.S=Date.now()+l.I,Mg(l,l.I)}function Mg(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=$o(p(l.ba,l),f)}function Id(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Jn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Q1(this.i,this.A),this.L!=2&&(Bo(),mt(17)),zr(this),this.s=2,zo(this)):Mg(this,this.S-l)};function zo(l){l.j.G==0||l.J||ly(l.j,l)}function zr(l){Id(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Sg(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Td(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Sd(m.h,l))){if(!l.K&&Sd(m.h,l)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var k=v;if(k[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Za(m),Xa(m);else break e;Rd(m),mt(18)}}else m.za=k[1],0<m.za-m.T&&37500>k[2]&&m.F&&m.v==0&&!m.C&&(m.C=$o(p(m.Za,m),6e3));if(1>=Ug(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Gr(m,11)}else if((l.K||m.g==l)&&Za(m),!_(f))for(k=m.Da.g.parse(f),f=0;f<k.length;f++){let le=k[f];if(m.T=le[0],le=le[1],m.G==2)if(le[0]=="c"){m.K=le[1],m.ia=le[2];const it=le[3];it!=null&&(m.la=it,m.j.info("VER="+m.la));const ot=le[4];ot!=null&&(m.Aa=ot,m.j.info("SVER="+m.Aa));const Ri=le[5];Ri!=null&&typeof Ri=="number"&&0<Ri&&(v=1.5*Ri,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;const on=l.g;if(on){const tl=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var O=v.h;O.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ad(O,O.h),O.h=null))}if(v.D){const xd=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;xd&&(v.ya=xd,_e(v.I,v.D,xd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var j=l;if(v.qa=dy(v,v.J?v.ia:null,v.W),j.K){Bg(v.h,j);var ge=j,Ke=v.L;Ke&&(ge.I=Ke),ge.B&&(Id(ge),Ga(ge)),v.g=j}else sy(v);0<m.i.length&&Ja(m)}else le[0]!="stop"&&le[0]!="close"||Gr(m,7);else m.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?Gr(m,7):Pd(m):le[0]!="noop"&&m.l&&m.l.ta(le),m.v=0)}}Bo(4)}catch{}}var J1=class{constructor(l,f){this.g=l,this.map=f}};function Vg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ug(l){return l.h?1:l.g?l.g.size:0}function Sd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Ad(l,f){l.g?l.g.add(f):l.h=f}function Bg(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Vg.prototype.cancel=function(){if(this.i=$g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function $g(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return T(l.i)}function Z1(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],m=l.length,v=0;v<m;v++)f.push(l[v]);return f}f=[],m=0;for(v in l)f[m++]=l[v];return f}function eA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const v in l)f[m++]=v;return f}}}function jg(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=eA(l),v=Z1(l),k=v.length,O=0;O<k;O++)f.call(void 0,v[O],m&&m[O],l)}var zg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tA(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var v=l[m].indexOf("="),k=null;if(0<=v){var O=l[m].substring(0,v);k=l[m].substring(v+1)}else O=l[m];f(O,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Wr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Wr){this.h=l.h,Ha(this,l.j),this.o=l.o,this.g=l.g,qa(this,l.s),this.l=l.l;var f=l.i,m=new Ho;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Wg(this,m),this.m=l.m}else l&&(f=String(l).match(zg))?(this.h=!1,Ha(this,f[1]||"",!0),this.o=Wo(f[2]||""),this.g=Wo(f[3]||"",!0),qa(this,f[4]),this.l=Wo(f[5]||"",!0),Wg(this,f[6]||"",!0),this.m=Wo(f[7]||"")):(this.h=!1,this.i=new Ho(null,this.h))}Wr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Go(f,Gg,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Go(f,Gg,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Go(m,m.charAt(0)=="/"?iA:rA,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Go(m,sA)),l.join("")};function Rn(l){return new Wr(l)}function Ha(l,f,m){l.j=m?Wo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function qa(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Wg(l,f,m){f instanceof Ho?(l.i=f,aA(l.i,l.h)):(m||(f=Go(f,oA)),l.i=new Ho(f,l.h))}function _e(l,f,m){l.i.set(f,m)}function Ka(l){return _e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Wo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Go(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,nA),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function nA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gg=/[#\/\?@]/g,rA=/[#\?:]/g,iA=/[#\?]/g,oA=/[#\?@]/g,sA=/#/g;function Ho(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Zn(l){l.g||(l.g=new Map,l.h=0,l.i&&tA(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Ho.prototype,t.add=function(l,f){Zn(this),this.i=null,l=Ci(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function Hg(l,f){Zn(l),f=Ci(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function qg(l,f){return Zn(l),f=Ci(l,f),l.g.has(f)}t.forEach=function(l,f){Zn(this),this.g.forEach(function(m,v){m.forEach(function(k){l.call(f,k,v,this)},this)},this)},t.na=function(){Zn(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){const k=l[v];for(let O=0;O<k.length;O++)m.push(f[v])}return m},t.V=function(l){Zn(this);let f=[];if(typeof l=="string")qg(this,l)&&(f=f.concat(this.g.get(Ci(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return Zn(this),this.i=null,l=Ci(this,l),qg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Kg(l,f,m){Hg(l,f),0<m.length&&(l.i=null,l.g.set(Ci(l,f),T(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];const O=encodeURIComponent(String(v)),j=this.V(v);for(v=0;v<j.length;v++){var k=O;j[v]!==""&&(k+="="+encodeURIComponent(String(j[v]))),l.push(k)}}return this.i=l.join("&")};function Ci(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function aA(l,f){f&&!l.j&&(Zn(l),l.i=null,l.g.forEach(function(m,v){var k=v.toLowerCase();v!=k&&(Hg(this,v),Kg(this,k,m))},l)),l.j=f}function lA(l,f){const m=new jo;if(a.Image){const v=new Image;v.onload=g(er,m,"TestLoadImage: loaded",!0,f,v),v.onerror=g(er,m,"TestLoadImage: error",!1,f,v),v.onabort=g(er,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=g(er,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}function uA(l,f){const m=new jo,v=new AbortController,k=setTimeout(()=>{v.abort(),er(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:v.signal}).then(O=>{clearTimeout(k),O.ok?er(m,"TestPingServer: ok",!0,f):er(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(k),er(m,"TestPingServer: error",!1,f)})}function er(l,f,m,v,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),v(m)}catch{}}function cA(){this.g=new H1}function dA(l,f,m){const v=m||"";try{jg(l,function(k,O){let j=k;c(k)&&(j=md(k)),f.push(v+O+"="+encodeURIComponent(j))})}catch(k){throw f.push(v+"type="+encodeURIComponent("_badmap")),k}}function qo(l){this.l=l.Ub||null,this.j=l.eb||!1}w(qo,gd),qo.prototype.g=function(){return new Qa(this.l,this.j)},qo.prototype.i=function(l){return function(){return l}}({});function Qa(l,f){rt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Qa,rt),t=Qa.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Qo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ko(this):Qo(this),this.readyState==3&&Qg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ko(this))},t.Qa=function(l){this.g&&(this.response=l,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Qo(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Qo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yg(l){let f="";return M(l,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Cd(l,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Yg(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):_e(l,f,m))}function be(l){rt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(be,rt);var hA=/^https?$/i,fA=["POST","PUT"];t=be.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_d.g(),this.v=this.o?Ag(this.o):Ag(_d),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(O){Xg(this,O);return}if(l=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var k in v)m.set(k,v[k]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())m.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(O=>O.toLowerCase()=="content-type"),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(fA,f,void 0))||v||k||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,j]of m)this.g.setRequestHeader(O,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ey(this),this.u=!0,this.g.send(l),this.u=!1}catch(O){Xg(this,O)}};function Xg(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Jg(l),Ya(l)}function Jg(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),Ya(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ya(this,!0)),be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zg(this):this.bb())},t.bb=function(){Zg(this)};function Zg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||bn(l)!=4||l.Z()!=2)){if(l.u&&bn(l)==4)Eg(l.Ea,0,l);else if(pt(l,"readystatechange"),bn(l)==4){l.h=!1;try{const j=l.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=j===0){var k=String(l.D).match(zg)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),v=!hA.test(k?k.toLowerCase():"")}m=v}if(m)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var O=2<bn(l)?l.g.statusText:""}catch{O=""}l.l=O+" ["+l.Z()+"]",Jg(l)}}finally{Ya(l)}}}}function Ya(l,f){if(l.g){ey(l);const m=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||pt(l,"ready");try{m.onreadystatechange=v}catch{}}}function ey(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function bn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),G1(f)}};function ty(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function pA(l){const f={};l=(l.g&&2<=bn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(_(l[v]))continue;var m=b(l[v]);const k=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const O=f[k]||[];f[k]=O,O.push(m)}S(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function ny(l){this.Aa=0,this.i=[],this.j=new jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,l),this.cb=Yo("retryDelaySeedMs",1e4,l),this.Wa=Yo("forwardChannelMaxRetries",2,l),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Vg(l&&l.concurrentRequestLimit),this.Da=new cA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ny.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,v){mt(0),this.W=l,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=dy(this,null,this.W),Ja(this)};function Pd(l){if(ry(l),l.G==3){var f=l.U++,m=Rn(l.I);if(_e(m,"SID",l.K),_e(m,"RID",f),_e(m,"TYPE","terminate"),Xo(l,m),f=new Jn(l,l.j,f),f.L=2,f.v=Ka(Rn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=hy(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ga(f)}cy(l)}function Xa(l){l.g&&(bd(l),l.g.cancel(),l.g=null)}function ry(l){Xa(l),l.u&&(a.clearTimeout(l.u),l.u=null),Za(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Ja(l){if(!Fg(l.h)&&!l.s){l.s=!0;var f=l.Ga;bt||J(),z||(bt(),z=!0),Q.add(f,l),l.B=0}}function mA(l,f){return Ug(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=$o(p(l.Ga,l,f),uy(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const k=new Jn(this,this.j,l);let O=this.o;if(this.S&&(O?(O=y(O),A(O,this.S)):O=this.S),this.m!==null||this.O||(k.H=O,O=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=oy(this,k,f),m=Rn(this.I),_e(m,"RID",l),_e(m,"CVER",22),this.D&&_e(m,"X-HTTP-Session-Id",this.D),Xo(this,m),O&&(this.O?f="headers="+encodeURIComponent(String(Yg(O)))+"&"+f:this.m&&Cd(m,this.m,O)),Ad(this.h,k),this.Ua&&_e(m,"TYPE","init"),this.P?(_e(m,"$req",f),_e(m,"SID","null"),k.T=!0,Ed(k,m,null)):Ed(k,m,f),this.G=2}}else this.G==3&&(l?iy(this,l):this.i.length==0||Fg(this.h)||iy(this))};function iy(l,f){var m;f?m=f.l:m=l.U++;const v=Rn(l.I);_e(v,"SID",l.K),_e(v,"RID",m),_e(v,"AID",l.T),Xo(l,v),l.m&&l.o&&Cd(v,l.m,l.o),m=new Jn(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=oy(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ad(l.h,m),Ed(m,v,f)}function Xo(l,f){l.H&&M(l.H,function(m,v){_e(f,v,m)}),l.l&&jg({},function(m,v){_e(f,v,m)})}function oy(l,f,m){m=Math.min(l.i.length,m);var v=l.l?p(l.l.Na,l.l,l):null;e:{var k=l.i;let O=-1;for(;;){const j=["count="+m];O==-1?0<m?(O=k[0].g,j.push("ofs="+O)):O=0:j.push("ofs="+O);let ge=!0;for(let Ke=0;Ke<m;Ke++){let le=k[Ke].g;const it=k[Ke].map;if(le-=O,0>le)O=Math.max(0,k[Ke].g-100),ge=!1;else try{dA(it,j,"req"+le+"_")}catch{v&&v(it)}}if(ge){v=j.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,v}function sy(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;bt||J(),z||(bt(),z=!0),Q.add(f,l),l.v=0}}function Rd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=$o(p(l.Fa,l),uy(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,ay(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=$o(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Xa(this),ay(this))};function bd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function ay(l){l.g=new Jn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Rn(l.qa);_e(f,"RID","rpc"),_e(f,"SID",l.K),_e(f,"AID",l.T),_e(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&_e(f,"TO",l.ja),_e(f,"TYPE","xmlhttp"),Xo(l,f),l.m&&l.o&&Cd(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=Ka(Rn(f)),m.m=null,m.P=!0,Og(m,l)}t.Za=function(){this.C!=null&&(this.C=null,Xa(this),Rd(this),mt(19))};function Za(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function ly(l,f){var m=null;if(l.g==f){Za(l),bd(l),l.g=null;var v=2}else if(Sd(l.h,f))m=f.D,Bg(l.h,f),v=1;else return;if(l.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var k=l.B;v=ja(),pt(v,new xg(v,m)),Ja(l)}else sy(l);else if(k=f.s,k==3||k==0&&0<f.X||!(v==1&&mA(l,f)||v==2&&Rd(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),k){case 1:Gr(l,5);break;case 4:Gr(l,10);break;case 3:Gr(l,6);break;default:Gr(l,2)}}}function uy(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Gr(l,f){if(l.j.info("Error code "+f),f==2){var m=p(l.fb,l),v=l.Xa;const k=!v;v=new Wr(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ha(v,"https"),Ka(v),k?lA(v.toString(),m):uA(v.toString(),m)}else mt(2);l.G=0,l.l&&l.l.sa(f),cy(l),ry(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function cy(l){if(l.G=0,l.ka=[],l.l){const f=$g(l.h);(f.length!=0||l.i.length!=0)&&(P(l.ka,f),P(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function dy(l,f,m){var v=m instanceof Wr?Rn(m):new Wr(m);if(v.g!="")f&&(v.g=f+"."+v.g),qa(v,v.s);else{var k=a.location;v=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var O=new Wr(null);v&&Ha(O,v),f&&(O.g=f),k&&qa(O,k),m&&(O.l=m),v=O}return m=l.D,f=l.ya,m&&f&&_e(v,m,f),_e(v,"VER",l.la),Xo(l,v),v}function hy(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new be(new qo({eb:m})):new be(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fy(){}t=fy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function el(){}el.prototype.g=function(l,f){return new kt(l,f)};function kt(l,f){rt.call(this),this.g=new ny(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!_(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!_(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Pi(this)}w(kt,rt),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Pd(this.g)},kt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=md(l),l=m);f.i.push(new J1(f.Ya++,l)),f.G==3&&Ja(f)},kt.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,kt.aa.N.call(this)};function py(l){yd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}w(py,yd);function my(){vd.call(this),this.status=1}w(my,vd);function Pi(l){this.g=l}w(Pi,fy),Pi.prototype.ua=function(){pt(this.g,"a")},Pi.prototype.ta=function(l){pt(this.g,new py(l))},Pi.prototype.sa=function(l){pt(this.g,new my)},Pi.prototype.ra=function(){pt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,nT=function(){return new el},tT=function(){return ja()},eT=jr,kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Hl=za,Dg.COMPLETE="complete",ZI=Dg,Cg.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,gs=Cg,JI=qo,be.prototype.listenOnce=be.prototype.L,be.prototype.getLastError=be.prototype.Ka,be.prototype.getLastErrorCode=be.prototype.Ba,be.prototype.getStatus=be.prototype.Z,be.prototype.getResponseJson=be.prototype.Oa,be.prototype.getResponseText=be.prototype.oa,be.prototype.send=be.prototype.ea,be.prototype.setWithCredentials=be.prototype.Ha,XI=be}).apply(typeof wl<"u"?wl:typeof self<"u"?self:typeof window<"u"?window:{});const u_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Xp("@firebase/firestore");function ss(){return mi.logLevel}function H(t,...e){if(mi.logLevel<=ie.DEBUG){const n=e.map(dm);mi.debug(`Firestore (${xo}): ${t}`,...n)}}function Gn(t,...e){if(mi.logLevel<=ie.ERROR){const n=e.map(dm);mi.error(`Firestore (${xo}): ${t}`,...n)}}function co(t,...e){if(mi.logLevel<=ie.WARN){const n=e.map(dm);mi.warn(`Firestore (${xo}): ${t}`,...n)}}function dm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+t;throw Gn(e),new Error(e)}function ve(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class Ok{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ar,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ar)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string"),new rT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string"),new ut(e)}}class Mk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Vk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Mk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uk{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ve(typeof n.token=="string"),this.R=n.token,new Fk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Bk(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function ho(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ke.fromMillis(Date.now())}static fromDate(e){return ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ke(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new ke(0,0))}static max(){return new Z(new ke(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return na.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof na?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ee extends na{construct(e,n,r){return new Ee(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ee(n)}static emptyPath(){return new Ee([])}}const $k=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends na{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return $k.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Ee.fromString(e))}static fromName(e){return new K(Ee.fromString(e).popFirst(5))}static empty(){return new K(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ee.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ee.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ee(e.slice()))}}function jk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new ke(n+1,0):new ke(n,r));return new kr(i,K.empty(),e)}function zk(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(Z.min(),K.empty(),-1)}static max(){return new kr(Z.max(),K.empty(),-1)}}function Wk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==Gk)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new U((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function qk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hm.oe=-1;function vc(t){return t==null}function Du(t){return t===0&&1/t==-1/0}function Kk(t){return typeof t=="number"&&Number.isInteger(t)&&!Du(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new El(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new El(this.root,e,this.comparator,!1)}getReverseIterator(){return new El(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new El(this.root,e,this.comparator,!0)}}class El{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=o??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new et(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sT("Invalid base64 string: "+o):o}}(e);return new ft(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const Qk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(ve(!!t),typeof t=="string"){let e=0;const n=Qk.exec(t);if(ve(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gi(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pm(t){const e=t.mapValue.fields.__previous_value__;return fm(e)?pm(e):e}function ra(t){const e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:Xk(t)?9007199254740991:10:X()}function Cn(t,e){if(t===e)return!0;const n=yi(t);if(n!==yi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ra(t).isEqual(ra(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Nr(i.timestampValue),a=Nr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return gi(i.bytesValue).isEqual(gi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Du(s)===Du(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ho(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(c_(s)!==c_(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Cn(s[u],a[u])))return!1;return!0}(t,e);default:return X()}}function oa(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function fo(t,e){if(t===e)return 0;const n=yi(t),r=yi(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return h_(t.timestampValue,e.timestampValue);case 4:return h_(ra(t),ra(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(o,s){const a=gi(o),u=gi(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ce(a[c],u[c]);if(d!==0)return d}return ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ce(Oe(o.latitude),Oe(s.latitude));return a!==0?a:ce(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=fo(a[c],u[c]);if(d)return d}return ce(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Il.mapValue&&s===Il.mapValue)return 0;if(o===Il.mapValue)return 1;if(s===Il.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=ce(u[h],d[h]);if(p!==0)return p;const g=fo(a[u[h]],c[d[h]]);if(g!==0)return g}return ce(u.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function h_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Nr(t),r=Nr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function po(t){return Nf(t)}function Nf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Nf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Nf(n.fields[s])}`;return i+"}"}(t.mapValue):X()}function f_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Of(t){return!!t&&"integerValue"in t}function mm(t){return!!t&&"arrayValue"in t}function p_(t){return!!t&&"nullValue"in t}function m_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ql(t){return!!t&&"mapValue"in t}function bs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Xk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bs(n)}setAll(e){let n=Xe.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=bs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ql(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ii(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new St(bs(this.value))}}function aT(t){const e=[];return Ii(t.fields,(n,r)=>{const i=new Xe([n]);if(ql(r)){const o=aT(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new dt(e,0,Z.min(),Z.min(),Z.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new dt(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new dt(e,2,n,Z.min(),Z.min(),St.empty(),0)}static newUnknownDocument(e,n){return new dt(e,3,n,Z.min(),Z.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.position=e,this.inclusive=n}}function g_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=fo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function y_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{}class Me extends lT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eN(e,n,r):n==="array-contains"?new rN(e,r):n==="in"?new iN(e,r):n==="not-in"?new oN(e,r):n==="array-contains-any"?new sN(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tN(e,r):new nN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fo(n,this.value)):n!==null&&yi(this.value)===yi(n)&&this.matchesComparison(fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yn extends lT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new yn(e,n)}matches(e){return uT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function uT(t){return t.op==="and"}function cT(t){return Zk(t)&&uT(t)}function Zk(t){for(const e of t.filters)if(e instanceof yn)return!1;return!0}function Lf(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+po(t.value);if(cT(t))return t.filters.map(e=>Lf(e)).join(",");{const e=t.filters.map(n=>Lf(n)).join(",");return`${t.op}(${e})`}}function dT(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Cn(r.value,i.value)}(t,e):t instanceof yn?function(r,i){return i instanceof yn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&dT(s,i.filters[a]),!0):!1}(t,e):void X()}function hT(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${po(n.value)}`}(t):t instanceof yn?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(t):"Filter"}class eN extends Me{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class tN extends Me{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nN extends Me{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class rN extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mm(n)&&oa(n.arrayValue,this.value)}}class iN extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}}class oN extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!oa(this.value.arrayValue,n)}}class sN extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function v_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new aN(t,e,n,r,i,o,s)}function gm(t){const e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),vc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>po(r)).join(",")),e.ue=n}return e.ue}function ym(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!y_(t.startAt,e.startAt)&&y_(t.endAt,e.endAt)}function Mf(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lN(t,e,n,r,i,o,s,a){return new Da(t,e,n,r,i,o,s,a)}function pT(t){return new Da(t)}function __(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mT(t){return t.collectionGroup!==null}function xs(t){const e=ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new et(Xe.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Nu(o,r))}),n.has(Xe.keyField().canonicalString())||e.ce.push(new Nu(Xe.keyField(),r))}return e.ce}function Sn(t){const e=ee(t);return e.le||(e.le=uN(e,xs(t))),e.le}function uN(t,e){if(t.limitType==="F")return v_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Nu(i.field,o)});const n=t.endAt?new ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ku(t.startAt.position,t.startAt.inclusive):null;return v_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vf(t,e){const n=t.filters.concat([e]);return new Da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ff(t,e,n){return new Da(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _c(t,e){return ym(Sn(t),Sn(e))&&t.limitType===e.limitType}function gT(t){return`${gm(Sn(t))}|lt:${t.limitType}`}function xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>hT(i)).join(", ")}]`),vc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>po(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>po(i)).join(",")),`Target(${r})`}(Sn(t))}; limitType=${t.limitType})`}function wc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of xs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=g_(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,xs(r),i)||r.endAt&&!function(s,a,u){const c=g_(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,xs(r),i))}(t,e)}function cN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yT(t){return(e,n)=>{let r=!1;for(const i of xs(t)){const o=dN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dN(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?fo(u,c):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Re(K.comparator);function Hn(){return hN}const vT=new Re(K.comparator);function ys(...t){let e=vT;for(const n of t)e=e.insert(n.key,n);return e}function _T(t){let e=vT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ti(){return Ds()}function wT(){return Ds()}function Ds(){return new Do(t=>t.toString(),(t,e)=>t.isEqual(e))}const fN=new Re(K.comparator),pN=new et(K.comparator);function re(...t){let e=pN;for(const n of t)e=e.add(n);return e}const mN=new et(ce);function gN(){return mN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function IT(t){return{integerValue:""+t}}function yN(t,e){return Kk(e)?IT(e):ET(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function vN(t,e,n){return t instanceof sa?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&fm(o)&&(o=pm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof aa?ST(t,e):t instanceof la?AT(t,e):function(i,o){const s=TT(i,o),a=w_(s)+w_(i.Pe);return Of(s)&&Of(i.Pe)?IT(a):ET(i.serializer,a)}(t,e)}function _N(t,e,n){return t instanceof aa?ST(t,e):t instanceof la?AT(t,e):n}function TT(t,e){return t instanceof Ou?function(r){return Of(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sa extends Ec{}class aa extends Ec{constructor(e){super(),this.elements=e}}function ST(t,e){const n=CT(e);for(const r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class la extends Ec{constructor(e){super(),this.elements=e}}function AT(t,e){let n=CT(e);for(const r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}class Ou extends Ec{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function w_(t){return Oe(t.integerValue||t.doubleValue)}function CT(t){return mm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n){this.field=e,this.transform=n}}function EN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof aa&&i instanceof aa||r instanceof la&&i instanceof la?ho(r.elements,i.elements,Cn):r instanceof Ou&&i instanceof Ou?Cn(r.Pe,i.Pe):r instanceof sa&&i instanceof sa}(t.transform,e.transform)}class IN{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ic{}function PT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vm(t.key,mn.none()):new ka(t.key,t.data,mn.none());{const n=t.data,r=St.empty();let i=new et(Xe.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new $r(t.key,r,new Lt(i.toArray()),mn.none())}}function TN(t,e,n){t instanceof ka?function(i,o,s){const a=i.value.clone(),u=I_(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(i,o,s){if(!Kl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=I_(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(RT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ks(t,e,n,r){return t instanceof ka?function(o,s,a,u){if(!Kl(o.precondition,s))return a;const c=o.value.clone(),d=T_(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(o,s,a,u){if(!Kl(o.precondition,s))return a;const c=T_(o.fieldTransforms,u,s),d=s.data;return d.setAll(RT(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Kl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function SN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=TT(r.transform,i||null);o!=null&&(n===null&&(n=St.empty()),n.set(r.field,o))}return n||null}function E_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ho(r,i,(o,s)=>EN(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ka extends Ic{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $r extends Ic{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function RT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function I_(t,e,n){const r=new Map;ve(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_N(s,a,n[i]))}return r}function T_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,vN(o,s,e))}return r}class vm extends Ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AN extends Ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&TN(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ks(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ks(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wT();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=PT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(n,r)=>E_(n,r))&&ho(this.baseMutations,e.baseMutations,(n,r)=>E_(n,r))}}class _m{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ve(e.mutations.length===r.length);let i=function(){return fN}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _m(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,se;function bN(t){switch(t){default:return X();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function bT(t){if(t===void 0)return Gn("GRPC error has no .code"),V.UNKNOWN;switch(t){case Ne.OK:return V.OK;case Ne.CANCELLED:return V.CANCELLED;case Ne.UNKNOWN:return V.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return V.INTERNAL;case Ne.UNAVAILABLE:return V.UNAVAILABLE;case Ne.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Ne.NOT_FOUND:return V.NOT_FOUND;case Ne.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Ne.ABORTED:return V.ABORTED;case Ne.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Ne.DATA_LOSS:return V.DATA_LOSS;default:return X()}}(se=Ne||(Ne={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=new oi([4294967295,4294967295],0);function S_(t){const e=xN().encode(t),n=new YI;return n.update(e),new Uint8Array(n.digest())}function A_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oi([n,r],0),new oi([i,o],0)]}class wm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vs(`Invalid padding: ${n}`);if(r<0)throw new vs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vs(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=oi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(oi.fromNumber(r)));return i.compare(DN)===1&&(i=new oi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=S_(e),[r,i]=A_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new wm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=S_(e),[r,i]=A_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Na.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tc(Z.min(),i,new Re(ce),Hn(),re())}}class Na{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Na(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class xT{constructor(e,n){this.targetId=e,this.me=n}}class DT{constructor(e,n,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class C_{constructor(){this.fe=0,this.ge=R_(),this.pe=ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=re(),n=re(),r=re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new Na(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=R_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hn(),this.qe=P_(),this.Qe=new Re(ce)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Mf(o))if(r===0){const s=new K(o.path);this.Ue(n,s,dt.newNoDocument(s,Z.min()))}else ve(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=gi(r).toUint8Array()}catch(u){if(u instanceof sT)return co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wm(s,i,o)}catch(u){return co(u instanceof vs?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Mf(a.target)){const u=new K(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,dt.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=re();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Tc(e,n,this.Qe,this.ke,r);return this.ke=Hn(),this.qe=P_(),this.Qe=new Re(ce),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new C_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new et(ce),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new C_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function P_(){return new Re(K.comparator)}function R_(){return new Re(K.comparator)}const NN={asc:"ASCENDING",desc:"DESCENDING"},ON={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LN={and:"AND",or:"OR"};class MN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uf(t,e){return t.useProto3Json||vc(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VN(t,e){return Lu(t,e.toTimestamp())}function An(t){return ve(!!t),Z.fromTimestamp(function(n){const r=Nr(n);return new ke(r.seconds,r.nanos)}(t))}function Em(t,e){return Bf(t,e).canonicalString()}function Bf(t,e){const n=function(i){return new Ee(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function NT(t){const e=Ee.fromString(t);return ve(FT(e)),e}function $f(t,e){return Em(t.databaseId,e.path)}function dh(t,e){const n=NT(e);if(n.get(1)!==t.databaseId.projectId)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(LT(n))}function OT(t,e){return Em(t.databaseId,e)}function FN(t){const e=NT(t);return e.length===4?Ee.emptyPath():LT(e)}function jf(t){return new Ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LT(t){return ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function b_(t,e,n){return{name:$f(t,e),fields:n.value.mapValue.fields}}function UN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(ve(d===void 0||typeof d=="string"),ft.fromBase64String(d||"")):(ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?V.UNKNOWN:bT(c.code);return new G(d,c.message||"")}(s);n=new DT(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dh(t,r.document.name),o=An(r.document.updateTime),s=r.document.createTime?An(r.document.createTime):Z.min(),a=new St({mapValue:{fields:r.document.fields}}),u=dt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Ql(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dh(t,r.document),o=r.readTime?An(r.readTime):Z.min(),s=dt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ql([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dh(t,r.document),o=r.removedTargetIds||[];n=new Ql([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new RN(i,o),a=r.targetId;n=new xT(a,s)}}return n}function BN(t,e){let n;if(e instanceof ka)n={update:b_(t,e.key,e.value)};else if(e instanceof vm)n={delete:$f(t,e.key)};else if(e instanceof $r)n={update:b_(t,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof AN))return X();n={verify:$f(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof sa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof aa)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof la)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ou)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:VN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(t,e.precondition)),n}function $N(t,e){return t&&t.length>0?(ve(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?An(i.updateTime):An(o);return s.isEqual(Z.min())&&(s=An(o)),new IN(s,i.transformResults||[])}(n,e))):[]}function jN(t,e){return{documents:[OT(t,e.path)]}}function zN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=OT(t,i);const o=function(c){if(c.length!==0)return VT(yn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Di(p.field),direction:HN(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Uf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function WN(t){let e=FN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ve(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=MT(h);return p instanceof yn&&cT(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(w){return new Nu(ki(w.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,vc(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,g=h.values||[];return new ku(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,g=h.values||[];return new ku(g,p)}(n.endAt)),lN(e,i,s,o,a,"F",u,c)}function GN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ki(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ki(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ki(n.unaryFilter.field);return Me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ki(n.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Me.create(ki(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yn.create(n.compositeFilter.filters.map(r=>MT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function HN(t){return NN[t]}function qN(t){return ON[t]}function KN(t){return LN[t]}function Di(t){return{fieldPath:t.canonicalString()}}function ki(t){return Xe.fromServerFormat(t.fieldPath)}function VT(t){return t instanceof Me?function(n){if(n.op==="=="){if(m_(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NAN"}};if(p_(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m_(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NAN"}};if(p_(n.value))return{unaryFilter:{field:Di(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Di(n.field),op:qN(n.op),value:n.value}}}(t):t instanceof yn?function(n){const r=n.getFilters().map(i=>VT(i));return r.length===1?r[0]:{compositeFilter:{op:KN(n.op),filters:r}}}(t):X()}function QN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r,i,o=Z.min(),s=Z.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new fr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.ct=e}}function XN(t){const e=WN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ff(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this._n=new ZN}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(kr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class ZN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new et(Ee.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new et(Ee.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new mo(0)}static Ln(){return new mo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.changes=new Do(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ks(r.mutation,i,Lt.empty(),ke.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=ti();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ys();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Hn();const s=Ds(),a=function(){return Ds()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof $r)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),ks(d.mutation,c,d.mutation.getFieldMask(),ke.now())):s.set(c.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new tO(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ds();let i=new Re((s,a)=>s-a),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Lt.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||re()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=wT();d.forEach(p=>{if(!o.has(p)){const g=PT(n.get(p),r.get(p));g!==null&&h.set(p,g),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return U.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):U.resolve(ti());let a=-1,u=o;return s.next(c=>U.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(d=>({batchId:a,changes:_T(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=ys();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ys();return this.indexManager.getCollectionParents(e,o).next(a=>U.forEach(a,u=>{const c=function(h,p){return new Da(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,dt.newInvalidDocument(d)))});let a=ys();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&ks(d.mutation,c,Lt.empty(),ke.now()),wc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:An(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:XN(i.bundledQuery),readTime:An(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.overlays=new Re(K.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ti();return U.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=ti(),o=n.length+1,s=new K(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Re((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=ti(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ti(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new PN(n,r));let o=this.hr.get(n);o===void 0&&(o=re(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.Pr=new et(je.Ir),this.Tr=new et(je.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new je(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new je(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new K(new Ee([])),r=new je(n,e),i=new je(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new K(new Ee([])),r=new je(n,e),i=new je(n,e+1);let o=re();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new je(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return K.comparator(e.key,n.key)||ce(e.pr,n.pr)}static Er(e,n){return ce(e.pr,n.pr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new et(je.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new CN(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new je(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(s)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return U.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),U.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(ce);return n.forEach(i=>{const o=new je(i,0),s=new je(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const s=new je(new K(o),0);let a=new et(ce);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const o=new je(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new je(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.vr=e,this.docs=function(){return new Re(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():dt.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hn();const s=n.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Wk(zk(d),r)<=0||(i.has(d.key)||wc(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return U.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aO(this)}getSize(e){return U.resolve(this.size)}}class aO extends eO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.persistence=e,this.Mr=new Do(n=>gm(n),ym),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Im,this.targetCount=0,this.Lr=mo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(o).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),U.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n){this.Br={},this.overlays={},this.kr=new hm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new lO(this),this.indexManager=new JN,this.remoteDocumentCache=function(i){return new sO(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new YN(n),this.$r=new rO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new oO(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new cO(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class cO extends Hk{constructor(e){super(),this.currentSequenceNumber=e}}class Tm{constructor(e){this.persistence=e,this.zr=new Im,this.jr=null}static Hr(e){return new Tm(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=K.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Sm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return XR()?8:qk(nt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new dO;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ss()<=ie.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(ss()<=ie.DEBUG&&H("QueryEngine","Query:",xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ss()<=ie.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(n))):U.resolve())}ji(e,n){if(__(n))return U.resolve(null);let r=Sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ff(n,null,"F"),r=Sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,s,u.readTime)?this.ji(e,Ff(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return __(n)||i.isEqual(Z.min())?U.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?U.resolve(null):(ss()<=ie.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xi(n)),this.es(e,s,n,jk(i,-1)).next(a=>a))})}Zi(e,n){let r=new et(yT(e));return n.forEach((i,o)=>{wc(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return ss()<=ie.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",xi(n)),this.zi.getDocumentsMatchingQuery(e,n,kr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Re(ce),this.rs=new Do(o=>gm(o),ym),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nO(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function pO(t,e,n,r){return new fO(t,e,n,r)}async function UT(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=re();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}function mO(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let g=U.resolve();return p.forEach(w=>{g=g.next(()=>d.getEntry(u,w)).next(T=>{const P=c.docVersions.get(w);ve(P!==null),T.version.compareTo(P)<0&&(h.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function BT(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function gO(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,h)));let g=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ft.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(h,g),function(T,P,E){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(o,g))});let u=Hn(),c=re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(yO(o,s,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(Z.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return U.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.ns=i,o))}function yO(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}function vO(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _O(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,U.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new fr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function zf(t,e,n){const r=ee(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xa(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function x_(t,e,n){const r=ee(t);let i=Z.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=ee(u),p=h.rs.get(d);return p!==void 0?U.resolve(h.ns.get(p)):h.Qr.getTargetData(c,d)}(r,s,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:Z.min(),n?o:re())).next(a=>(wO(r,cN(e),a),{documents:a,hs:o})))}function wO(t,e,n){let r=t.ss.get(e)||Z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class D_{constructor(){this.activeTargetIds=gN()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EO{constructor(){this.no=new D_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new D_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=null;function hh(){return Tl===null?Tl=function(){return 268435456+Math.round(2147483648*Math.random())}():Tl++,"0x"+Tl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class AO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const a=hh(),u=this.vo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(n,u,c,i).then(d=>(H("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw co("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,o,s,a){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=TO[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=hh();return new Promise((s,a)=>{const u=new XI;u.setWithCredentials(!0),u.listenOnce(ZI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Hl.NO_ERROR:const d=u.getResponseJson();H(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Hl.TIMEOUT:H(lt,`RPC '${e}' ${o} timed out`),a(new G(V.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const h=u.getStatus();if(H(lt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const w=function(P){const E=P.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(E)>=0?E:V.UNKNOWN}(g.status);a(new G(w,g.message))}else a(new G(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(V.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{H(lt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);H(lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=hh(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nT(),a=tT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new JI({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");H(lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,g=!1;const w=new SO({lo:P=>{g?H(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(p||(H(lt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),H(lt,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},ho:()=>h.close()}),T=(P,E,_)=>{P.listen(E,C=>{try{_(C)}catch(D){setTimeout(()=>{throw D},0)}})};return T(h,gs.EventType.OPEN,()=>{g||(H(lt,`RPC '${e}' stream ${i} transport opened.`),w.mo())}),T(h,gs.EventType.CLOSE,()=>{g||(g=!0,H(lt,`RPC '${e}' stream ${i} transport closed`),w.po())}),T(h,gs.EventType.ERROR,P=>{g||(g=!0,co(lt,`RPC '${e}' stream ${i} transport errored:`,P),w.po(new G(V.UNAVAILABLE,"The operation could not be completed")))}),T(h,gs.EventType.MESSAGE,P=>{var E;if(!g){const _=P.data[0];ve(!!_);const C=_,D=C.error||((E=C[0])===null||E===void 0?void 0:E.error);if(D){H(lt,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let M=function(I){const A=Ne[I];if(A!==void 0)return bT(A)}(L),S=D.message;M===void 0&&(M=V.INTERNAL,S="Unknown error status: "+L+" with message "+D.message),g=!0,w.po(new G(M,S)),h.close()}else H(lt,`RPC '${e}' stream ${i} received:`,_),w.yo(_)}}),T(a,eT.STAT_EVENT,P=>{P.stat===kf.PROXY?H(lt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===kf.NOPROXY&&H(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.fo()},0),w}}function fh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){return new MN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new $T(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Gn(n.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new G(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CO extends jT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=UN(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?An(s.readTime):Z.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=jf(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Mf(u)?{documents:jN(o,u)}:{query:zN(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=kT(o,s.resumeToken);const c=Uf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=Lu(o,s.snapshotVersion.toTimestamp());const c=Uf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=GN(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=jf(this.serializer),n.removeTarget=e,this.i_(n)}}class PO extends jT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=$N(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.A_(r,n)}return ve(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=jf(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BN(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Bf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(V.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Bf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(V.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class bO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Gn(n),this.y_=!1):H("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{Ti(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ee(u);c.M_.add(4),await Oa(c),c.N_.set("Unknown"),c.M_.delete(4),await Ac(c)}(this))})}),this.N_=new bO(r,i)}}async function Ac(t){if(Ti(t))for(const e of t.x_)await e(!0)}async function Oa(t){for(const e of t.x_)await e(!1)}function zT(t,e){const n=ee(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Rm(n)?Pm(n):ko(n).Xo()&&Cm(n,e))}function Am(t,e){const n=ee(t),r=ko(n);n.F_.delete(e),r.Xo()&&WT(n,e),n.F_.size===0&&(r.Xo()?r.n_():Ti(n)&&n.N_.set("Unknown"))}function Cm(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(t).P_(e)}function WT(t,e){t.L_.xe(e),ko(t).I_(e)}function Pm(t){t.L_=new kN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ko(t).start(),t.N_.w_()}function Rm(t){return Ti(t)&&!ko(t).Zo()&&t.F_.size>0}function Ti(t){return ee(t).M_.size===0}function GT(t){t.L_=void 0}async function DO(t){t.N_.set("Online")}async function kO(t){t.F_.forEach((e,n)=>{Cm(t,e)})}async function NO(t,e){GT(t),Rm(t)?(t.N_.D_(e),Pm(t)):t.N_.set("Unknown")}async function OO(t,e,n){if(t.N_.set("Online"),e instanceof DT&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Mu(t,r)}else if(e instanceof Ql?t.L_.Ke(e):e instanceof xT?t.L_.He(e):t.L_.We(e),!n.isEqual(Z.min()))try{const r=await BT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(c);d&&o.F_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),WT(o,u);const h=new fr(d.target,u,c,d.sequenceNumber);Cm(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await Mu(t,r)}}async function Mu(t,e,n){if(!xa(e))throw e;t.M_.add(1),await Oa(t),t.N_.set("Offline"),n||(n=()=>BT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Ac(t)})}function HT(t,e){return e().catch(n=>Mu(t,n,e))}async function Cc(t){const e=ee(t),n=Or(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;LO(e);)try{const i=await vO(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,MO(e,i)}catch(i){await Mu(e,i)}qT(e)&&KT(e)}function LO(t){return Ti(t)&&t.v_.length<10}function MO(t,e){t.v_.push(e);const n=Or(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function qT(t){return Ti(t)&&!Or(t).Zo()&&t.v_.length>0}function KT(t){Or(t).start()}async function VO(t){Or(t).V_()}async function FO(t){const e=Or(t);for(const n of t.v_)e.d_(n.mutations)}async function UO(t,e,n){const r=t.v_.shift(),i=_m.from(r,e,n);await HT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Cc(t)}async function BO(t,e){e&&Or(t).E_&&await async function(r,i){if(function(s){return bN(s)&&s!==V.ABORTED}(i.code)){const o=r.v_.shift();Or(r).t_(),await HT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Cc(r)}}(t,e),qT(t)&&KT(t)}async function N_(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ti(n);n.M_.add(3),await Oa(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Ac(n)}async function $O(t,e){const n=ee(t);e?(n.M_.delete(2),await Ac(n)):e||(n.M_.add(2),await Oa(n),n.N_.set("Unknown"))}function ko(t){return t.B_||(t.B_=function(n,r,i){const o=ee(n);return o.f_(),new CO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:DO.bind(null,t),To:kO.bind(null,t),Ao:NO.bind(null,t),h_:OO.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Rm(t)?Pm(t):t.N_.set("Unknown")):(await t.B_.stop(),GT(t))})),t.B_}function Or(t){return t.k_||(t.k_=function(n,r,i){const o=ee(n);return o.f_(),new PO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:VO.bind(null,t),Ao:BO.bind(null,t),R_:FO.bind(null,t),A_:UO.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Cc(t)):(await t.k_.stop(),t.v_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new bm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xm(t,e){if(Gn("AsyncQueue",`${e}: ${t}`),xa(t))return new G(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=ys(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(){this.q_=new Re(K.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):X():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class go{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new go(e,n,eo.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class zO{constructor(){this.queries=new Do(e=>gT(e),_c),this.onlineState="Unknown",this.z_=new Set}}async function WO(t,e){const n=ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new jO,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=xm(s,`Initialization of query '${xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Dm(n)}async function GO(t,e){const n=ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function HO(t,e){const n=ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&Dm(n)}function qO(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Dm(t){t.z_.forEach(e=>{e.next()})}var Wf,L_;(L_=Wf||(Wf={})).J_="default",L_.Cache="cache";class KO{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Wf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.key=e}}class YT{constructor(e){this.key=e}}class QO{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=re(),this.mutatedKeys=re(),this.Ia=yT(e),this.Ta=new eo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new O_,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),g=wc(this.query,h)?h:null,w=!!p&&this.mutatedKeys.has(p.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;p&&g?p.data.isEqual(g.data)?w!==T&&(r.track({type:3,doc:g}),P=!0):this.Ra(p,g)||(r.track({type:2,doc:g}),P=!0,(u&&this.Ia(g,u)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),P=!0):p&&!g&&(r.track({type:1,doc:p}),P=!0,(u||c)&&(a=!0)),P&&(g?(s=s.add(g),o=T?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,h)=>function(g,w){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return T(g)-T(w)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,s.length!==0||c?{snapshot:new go(this.query,e.Ta,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new O_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=re(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new YT(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new QT(r))}),n}pa(e){this.la=e.hs,this.Pa=re();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return go.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class YO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XO{constructor(e){this.key=e,this.wa=!1}}class JO{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Do(a=>gT(a),_c),this.Da=new Map,this.Ca=new Set,this.va=new Re(K.comparator),this.Fa=new Map,this.Ma=new Im,this.xa={},this.Oa=new Map,this.Na=mo.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function ZO(t,e,n=!0){const r=nS(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await XT(r,e,n,!0),i}async function eL(t,e){const n=nS(t);await XT(n,e,!0,!1)}async function XT(t,e,n,r){const i=await _O(t.localStore,Sn(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await tL(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&zT(t.remoteStore,i),a}async function tL(t,e,n,r,i){t.Ba=(h,p,g)=>async function(T,P,E,_){let C=P.view.da(E);C.Xi&&(C=await x_(T.localStore,P.query,!1).then(({documents:S})=>P.view.da(S,C)));const D=_&&_.targetChanges.get(P.targetId),L=_&&_.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(C,T.isPrimaryClient,D,L);return V_(T,P.targetId,M.fa),M.snapshot}(t,h,p,g);const o=await x_(t.localStore,e,!0),s=new QO(e,o.hs),a=s.da(o.documents),u=Na.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);V_(t,n,c.fa);const d=new YO(e,n,s);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function nL(t,e,n){const r=ee(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!_c(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Am(r.remoteStore,i.targetId),Gf(r,i.targetId)}).catch(ba)):(Gf(r,i.targetId),await zf(r.localStore,i.targetId,!0))}async function rL(t,e){const n=ee(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Am(n.remoteStore,r.targetId))}async function iL(t,e,n){const r=dL(t);try{const i=await function(s,a){const u=ee(s),c=ke.now(),d=a.reduce((g,w)=>g.add(w.key),re());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Hn(),T=re();return u.os.getEntries(g,d).next(P=>{w=P,w.forEach((E,_)=>{_.isValidDocument()||(T=T.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(P=>{h=P;const E=[];for(const _ of a){const C=SN(_,h.get(_.key).overlayedDocument);C!=null&&E.push(new $r(_.key,C,aT(C.value.mapValue),mn.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,E,a)}).next(P=>{p=P;const E=P.applyToLocalDocumentSet(h,T);return u.documentOverlayCache.saveOverlays(g,P.batchId,E)})}).then(()=>({batchId:p.batchId,changes:_T(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.xa[s.currentUser.toKey()];c||(c=new Re(ce)),c=c.insert(a,u),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,n),await La(r,i.changes),await Cc(r.remoteStore)}catch(i){const o=xm(i,"Failed to persist write");n.reject(o)}}async function JT(t,e){const n=ee(t);try{const r=await gO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?ve(s.wa):i.removedDocuments.size>0&&(ve(s.wa),s.wa=!1))}),await La(n,r,e)}catch(r){await ba(r)}}function M_(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=ee(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(c=!0)}),c&&Dm(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oL(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new Re(K.comparator);s=s.insert(o,dt.newNoDocument(o,Z.min()));const a=re().add(o),u=new Tc(Z.min(),new Map,new Re(ce),s,a);await JT(r,u),r.va=r.va.remove(o),r.Fa.delete(e),km(r)}else await zf(r.localStore,e,!1).then(()=>Gf(r,e,n)).catch(ba)}async function sL(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await mO(n.localStore,e);eS(n,r,null),ZT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await La(n,i)}catch(i){await ba(i)}}async function aL(t,e,n){const r=ee(t);try{const i=await function(s,a){const u=ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(ve(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);eS(r,e,n),ZT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await La(r,i)}catch(i){await ba(i)}}function ZT(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function eS(t,e,n){const r=ee(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||tS(t,r)})}function tS(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Am(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),km(t))}function V_(t,e,n){for(const r of n)r instanceof QT?(t.Ma.addReference(r.key,e),lL(t,r)):r instanceof YT?(H("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||tS(t,r.key)):X()}function lL(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(H("SyncEngine","New document in limbo: "+n),t.Ca.add(r),km(t))}function km(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new K(Ee.fromString(e)),r=t.Na.next();t.Fa.set(r,new XO(n)),t.va=t.va.insert(n,r),zT(t.remoteStore,new fr(Sn(pT(n.path)),r,"TargetPurposeLimboResolution",hm.oe))}}async function La(t,e,n){const r=ee(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Sm.Ki(u.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,c){const d=ee(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(c,p=>U.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(h,p.targetId,g)).next(()=>U.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(h,p.targetId,g)))))}catch(h){if(!xa(h))throw h;H("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const g=d.ns.get(p),w=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(w);d.ns=d.ns.insert(p,T)}}}(r.localStore,o))}async function uL(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await UT(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(u=>{u.reject(new G(V.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await La(n,r.us)}}function cL(t,e){const n=ee(t),r=n.Fa.get(e);if(r&&r.wa)return re().add(r.key);{let i=re();const o=n.Da.get(e);if(!o)return i;for(const s of o){const a=n.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function nS(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oL.bind(null,e),e.Sa.h_=HO.bind(null,e.eventManager),e.Sa.ka=qO.bind(null,e.eventManager),e}function dL(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aL.bind(null,e),e}class F_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return pO(this.persistence,new hO,e.initialUser,this.serializer)}createPersistence(e){return new uO(Tm.Hr,this.serializer)}createSharedClientState(e){return new EO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class hL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uL.bind(null,this.syncEngine),await $O(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zO}()}createDatastore(e){const n=Sc(e.databaseInfo.databaseId),r=function(o){return new AO(o)}(e.databaseInfo);return function(o,s,a,u){return new RO(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new xO(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>M_(this.syncEngine,n,0),function(){return k_.D()?new k_:new IO}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,d){const h=new JO(i,o,s,a,u,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ee(r);H("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Oa(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Gn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=iT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{H("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ph(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await UT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function U_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gL(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>N_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>N_(e.remoteStore,i)),t._onlineComponents=e}function mL(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await ph(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!mL(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await ph(t,new F_)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await ph(t,new F_);return t._offlineComponents}async function rS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await U_(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await U_(t,new hL))),t._onlineComponents}function yL(t){return rS(t).then(e=>e.syncEngine)}async function vL(t){const e=await rS(t),n=e.eventManager;return n.onListen=ZO.bind(null,e.syncEngine),n.onUnlisten=nL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rL.bind(null,e.syncEngine),n}function _L(t,e,n={}){const r=new Ar;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new fL({next:p=>{s.enqueueAndForget(()=>GO(o,h)),p.fromCache&&u.source==="server"?c.reject(new G(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new KO(a,d,{includeMetadataChanges:!0,ra:!0});return WO(o,h)}(await vL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t,e,n){if(!n)throw new G(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,r){if(e===!0&&r===!0)throw new G(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $_(t){if(!K.isDocumentKey(t))throw new G(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j_(t){if(K.isDocumentKey(t))throw new G(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Pc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pc(t);throw new G(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nk;switch(r.type){case"firstParty":return new Vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=B_.get(n);r&&(H("ComponentProvider","Removing Datastore"),B_.delete(n),r.terminate())}(this),Promise.resolve()}}function EL(t,e,n,r={}){var i;const o=(t=vi(t,Rc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ut.MOCK_USER;else{a=GR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new Ok(new rT(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Cr extends No{constructor(e,n,r){super(e,n,pT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new K(e))}withConverter(e){return new Cr(this.firestore,e,this._path)}}function sS(t,e,...n){if(t=Be(t),oS("collection","path",e),t instanceof Rc){const r=Ee.fromString(e,...n);return j_(r),new Cr(t,null,r)}{if(!(t instanceof Ft||t instanceof Cr))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return j_(r),new Cr(t.firestore,null,r)}}function bc(t,e,...n){if(t=Be(t),arguments.length===1&&(e=iT.newId()),oS("doc","path",e),t instanceof Rc){const r=Ee.fromString(e,...n);return $_(r),new Ft(t,null,new K(r))}{if(!(t instanceof Ft||t instanceof Cr))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ee.fromString(e,...n));return $_(r),new Ft(t.firestore,t instanceof Cr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new $T(this,"async_queue_retry"),this.hu=()=>{const n=fh();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=fh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=fh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new Ar;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!xa(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Gn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=bm.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&X()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class Ma extends Rc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new IL}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lS(this),this._firestoreClient.terminate()}}function TL(t,e){const n=typeof t=="object"?t:mI(),r=typeof t=="string"?t:"(default)",i=Zp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zR("firestore");o&&EL(i,...o)}return i}function aS(t){return t._firestoreClient||lS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lS(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,d){return new Yk(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,iS(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pL(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(ft.fromBase64String(e))}catch(n){throw new G(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^__.*__$/;class AL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new ka(e,this.data,n,this.fieldTransforms)}}class uS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new $r(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Om{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Vu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(cS(this.fu)&&SL.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class CL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sc(e)}Fu(e,n,r,i=!1){return new Om({fu:e,methodName:n,vu:r,path:Xe.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(t){const e=t._freezeSettings(),n=Sc(t._databaseId);return new CL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PL(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Vm("Data must be an object, but it was:",s,r);const a=dS(r,s);let u,c;if(o.merge)u=new Lt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Hf(e,h,n);if(!s.contains(p))throw new G(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);fS(d,p)||d.push(p)}u=new Lt(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new AL(new St(a),u,c)}class kc extends Dc{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}class Mm extends Dc{_toFieldTransform(e){return new wN(e.path,new sa)}isEqual(e){return e instanceof Mm}}function RL(t,e,n,r){const i=t.Fu(1,e,n);Vm("Data must be an object, but it was:",i,r);const o=[],s=St.empty();Ii(r,(u,c)=>{const d=Fm(e,u,n);c=Be(c);const h=i.Su(d);if(c instanceof kc)o.push(d);else{const p=Va(c,h);p!=null&&(o.push(d),s.set(d,p))}});const a=new Lt(o);return new uS(s,a,i.fieldTransforms)}function bL(t,e,n,r,i,o){const s=t.Fu(1,e,n),a=[Hf(e,r,n)],u=[i];if(o.length%2!=0)throw new G(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(Hf(e,o[p])),u.push(o[p+1]);const c=[],d=St.empty();for(let p=a.length-1;p>=0;--p)if(!fS(c,a[p])){const g=a[p];let w=u[p];w=Be(w);const T=s.Su(g);if(w instanceof kc)c.push(g);else{const P=Va(w,T);P!=null&&(c.push(g),d.set(g,P))}}const h=new Lt(c);return new uS(d,h,s.fieldTransforms)}function xL(t,e,n,r=!1){return Va(n,t.Fu(r?4:3,e))}function Va(t,e){if(hS(t=Be(t)))return Vm("Unsupported field value:",e,t),dS(t,e);if(t instanceof Dc)return function(r,i){if(!cS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=Va(a,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ke.fromDate(r);return{timestampValue:Lu(i.serializer,o)}}if(r instanceof ke){const o=new ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lu(i.serializer,o)}}if(r instanceof Nm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yo)return{bytesValue:kT(i.serializer,r._byteString)};if(r instanceof Ft){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Em(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Pc(r)}`)}(t,e)}function dS(t,e){const n={};return oT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(t,(r,i)=>{const o=Va(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function hS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ke||t instanceof Nm||t instanceof yo||t instanceof Ft||t instanceof Dc)}function Vm(t,e,n){if(!hS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Pc(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Hf(t,e,n){if((e=Be(e))instanceof xc)return e._internalPath;if(typeof e=="string")return Fm(t,e);throw Vu("Field path arguments must be of type string or ",t,!1,void 0,n)}const DL=new RegExp("[~\\*/\\[\\]]");function Fm(t,e,n){if(e.search(DL)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xc(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(V.INVALID_ARGUMENT,a+t+u)}function fS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Um("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kL extends pS{data(){return super.data()}}function Um(t,e){return typeof e=="string"?Fm(t,e):e instanceof xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class OL extends Bm{}function LL(t,e,...n){let r=[];e instanceof Bm&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof $m).length,a=o.filter(u=>u instanceof Nc).length;if(s>1||s>0&&a>0)throw new G(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nc extends OL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nc(e,n,r)}_apply(e){const n=this._parse(e);return mS(e._query,n),new No(e.firestore,e.converter,Vf(e._query,n))}_parse(e){const n=Lm(e.firestore);return function(o,s,a,u,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){G_(h,d);const g=[];for(const w of h)g.push(W_(u,o,w));p={arrayValue:{values:g}}}else p=W_(u,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||G_(h,d),p=xL(a,s,h,d==="in"||d==="not-in");return Me.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ML(t,e,n){const r=e,i=Um("where",t);return Nc._create(i,r,n)}class $m extends Bm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $m(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)mS(s,u),s=Vf(s,u)}(e._query,n),new No(e.firestore,e.converter,Vf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W_(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new G(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mT(e)&&n.indexOf("/")!==-1)throw new G(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ee.fromString(n));if(!K.isDocumentKey(r))throw new G(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return f_(t,new K(r))}if(n instanceof Ft)return f_(t,n._key);throw new G(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pc(n)}.`)}function G_(t,e){if(!Array.isArray(t)||t.length===0)throw new G(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mS(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VL{convertValue(e,n="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ii(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Nm(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ra(e));default:return null}}convertTimestamp(e){const n=Nr(e);return new ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ee.fromString(e);ve(FT(r));const i=new ia(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||Gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class UL extends pS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Um("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yl extends UL{data(e={}){return super.data(e)}}class BL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yl(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Yl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Sl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:$L(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $L(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class jL extends VL{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function zL(t){t=vi(t,No);const e=vi(t.firestore,Ma),n=aS(e),r=new jL(e);return NL(t._query),_L(n,t._query).then(i=>new BL(e,r,t,i))}function gS(t,e,n,...r){t=vi(t,Ft);const i=vi(t.firestore,Ma),o=Lm(i);let s;return s=typeof(e=Be(e))=="string"||e instanceof xc?bL(o,"updateDoc",t._key,e,n,r):RL(o,"updateDoc",t._key,e),jm(i,[s.toMutation(t._key,mn.exists(!0))])}function WL(t){return jm(vi(t.firestore,Ma),[new vm(t._key,mn.none())])}function GL(t,e){const n=vi(t.firestore,Ma),r=bc(t),i=FL(t.converter,e);return jm(n,[PL(Lm(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function jm(t,e){return function(r,i){const o=new Ar;return r.asyncQueue.enqueueAndForget(async()=>iL(await yL(r),i,o)),o.promise}(aS(t),e)}function HL(){return new Mm("serverTimestamp")}(function(e,n=!0){(function(i){xo=i})(Ro),lo(new di("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ma(new Lk(r.getProvider("auth-internal")),new Uk(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ia(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Sr(u_,"4.6.4",e),Sr(u_,"4.6.4","esm2017")})();const qL={apiKey:"AIzaSyBali2zQJ5LIIISP0px06vp9rMKYvTiWAo",authDomain:"todo-list-6b24f.firebaseapp.com",projectId:"todo-list-6b24f",storageBucket:"todo-list-6b24f.appspot.com",messagingSenderId:"618119615878",appId:"1:618119615878:web:1eb586993331d07e304807"},yS=pI(qL),vo=Dk(yS),KL=new kn,Fa=TL(yS),QL=async(t,e)=>{try{const n=vo.currentUser;if(!n)throw new Error("User is not logged in");const r={...t,userId:n.uid,createdAt:HL(),deadline:e?ke.fromDate(new Date(e)):null},i=await GL(sS(Fa,"tasks"),r);console.log("Document written with ID: ",i.id)}catch(n){console.error("Error adding document: ",n)}},YL=async t=>{try{if(!t)throw new Error("User is not logged in");const e=LL(sS(Fa,"tasks"),ML("userId","==",t.uid)),r=(await zL(e)).docs.map(i=>({id:i.id,...i.data()}));return console.log(r),r}catch(e){return console.error("Error fetching tasks: ",e),[]}},H_=async(t,e)=>{try{const n=bc(Fa,"tasks",t);await gS(n,{...e,deadline:e.deadline?ke.fromDate(new Date(e.deadline)):null})}catch(n){console.error("Error updating document: ",n)}},XL=async(t,e)=>{try{const n=bc(Fa,"tasks",t);await gS(n,{...e})}catch(n){console.error("Error updating document: ",n)}},JL=async t=>{try{const e=bc(Fa,"tasks",t);await WL(e)}catch(e){console.error("Error deleting document: ",e)}},ZL=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,o]=N.useState(""),s=Yp(),a=async()=>{try{await BD(vo,KL),s("/todolist/tasks")}catch(c){o(c.message)}},u=async()=>{try{await fD(vo,t,n),s("/todolist/tasks")}catch(c){o(c.message)}};return F.jsxs("div",{className:"flex min-h-screen",children:[F.jsx("div",{className:"flex flex-1 items-center justify-center bg-blue-500 text-white",children:F.jsxs("div",{className:"p-8 max-w-md text-center",children:[F.jsx("h1",{className:"text-3xl font-bold mb-4",children:"To Do List App"}),F.jsx("p",{children:"Get exclusive access to our To Do List app. Stay organized and manage your tasks efficiently with our user-friendly platform."})]})}),F.jsx("div",{className:"flex flex-1 items-center justify-center bg-gray-100",children:F.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[F.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),i&&F.jsx("p",{className:"mb-4 text-red-500",children:i}),F.jsx("div",{className:"mb-4",children:F.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:c=>e(c.target.value),className:"w-full p-3 border border-gray-300 rounded-md"})}),F.jsx("div",{className:"mb-4",children:F.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:c=>r(c.target.value),className:"w-full p-3 border border-gray-300 rounded-md"})}),F.jsx("div",{className:"mb-6",children:F.jsx("button",{onClick:u,className:"w-full bg-blue-500 text-white p-3 rounded-md hover:bg-blue-600",children:"Login"})}),F.jsx("div",{className:"text-center mb-4",children:F.jsx("button",{onClick:a,className:"w-full bg-red-500 text-white p-3 rounded-md hover:bg-red-600",children:"Sign in with Google"})}),F.jsx("div",{className:"text-center",children:F.jsxs("p",{className:"mb-4",children:["Don't have an account?"," ",F.jsx("a",{onClick:()=>s("/todolist/register"),className:"text-blue cursor-pointer",children:"Create Profile"})]})})]})})]})},e2=()=>{const[t,e]=N.useState(""),[n,r]=N.useState(""),[i,o]=N.useState(""),[s,a]=N.useState(""),u=Yp(),c=async()=>{try{const h=(await hD(vo,t,n)).user;await mD(h,{displayName:i}),u("/todolist")}catch(d){a(d.message)}};return F.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:F.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[F.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Profile"}),s&&F.jsx("p",{className:"mb-4 text-red-500",children:s}),F.jsx("div",{className:"mb-4",children:F.jsx("input",{type:"text",placeholder:"Display Name",value:i,onChange:d=>o(d.target.value),className:"w-full p-3 border border-gray-300 rounded-md"})}),F.jsx("div",{className:"mb-4",children:F.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:d=>e(d.target.value),className:"w-full p-3 border border-gray-300 rounded-md"})}),F.jsx("div",{className:"mb-4",children:F.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:d=>r(d.target.value),className:"w-full p-3 border border-gray-300 rounded-md"})}),F.jsx("div",{className:"mb-6",children:F.jsx("button",{onClick:c,className:"w-full bg-green-500 text-white p-3 rounded-md hover:bg-green-600",children:"Register"})}),F.jsxs("div",{className:"text-center",children:[F.jsx("p",{className:"mb-4",children:"Already have an account?"}),F.jsx("button",{onClick:()=>u("/todolist"),className:"w-full bg-blue-500 text-white p-3 rounded-md hover:bg-blue-600",children:"Login"})]})]})})};function ua(t){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(t)}function t2(t,e){if(ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n2(t){var e=t2(t,"string");return ua(e)=="symbol"?e:e+""}function r2(t,e,n){return(e=n2(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){r2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function It(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Q_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),mh=function(){return Math.random().toString(36).substring(7).split("").join(".")},Y_={INIT:"@@redux/INIT"+mh(),REPLACE:"@@redux/REPLACE"+mh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+mh()}};function i2(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function vS(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(It(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(It(1));return n(vS)(t,e)}if(typeof t!="function")throw new Error(It(2));var i=t,o=e,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function d(){if(u)throw new Error(It(3));return o}function h(T){if(typeof T!="function")throw new Error(It(4));if(u)throw new Error(It(5));var P=!0;return c(),a.push(T),function(){if(P){if(u)throw new Error(It(6));P=!1,c();var _=a.indexOf(T);a.splice(_,1),s=null}}}function p(T){if(!i2(T))throw new Error(It(7));if(typeof T.type>"u")throw new Error(It(8));if(u)throw new Error(It(9));try{u=!0,o=i(o,T)}finally{u=!1}for(var P=s=a,E=0;E<P.length;E++){var _=P[E];_()}return T}function g(T){if(typeof T!="function")throw new Error(It(10));i=T,p({type:Y_.REPLACE})}function w(){var T,P=h;return T={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(It(11));function C(){_.next&&_.next(d())}C();var D=P(C);return{unsubscribe:D}}},T[Q_]=function(){return this},T}return p({type:Y_.INIT}),r={dispatch:p,subscribe:h,getState:d,replaceReducer:g},r[Q_]=w,r}function X_(t,e){return function(){return e(t.apply(this,arguments))}}function J_(t,e){if(typeof t=="function")return X_(t,e);if(typeof t!="object"||t===null)throw new Error(It(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=X_(i,e))}return n}function _S(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function o2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(It(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(u){return u(s)});return o=_S.apply(void 0,a)(i.dispatch),K_(K_({},i),{},{dispatch:o})}}}var wS={exports:{}},ES={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=N;function s2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var a2=typeof Object.is=="function"?Object.is:s2,l2=_o.useState,u2=_o.useEffect,c2=_o.useLayoutEffect,d2=_o.useDebugValue;function h2(t,e){var n=e(),r=l2({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return c2(function(){i.value=n,i.getSnapshot=e,gh(i)&&o({inst:i})},[t,n,e]),u2(function(){return gh(i)&&o({inst:i}),t(function(){gh(i)&&o({inst:i})})},[t]),d2(n),n}function gh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!a2(t,n)}catch{return!0}}function f2(t,e){return e()}var p2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f2:h2;ES.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:p2;wS.exports=ES;var IS=wS.exports,m2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=N,g2=IS;function y2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var v2=typeof Object.is=="function"?Object.is:y2,_2=g2.useSyncExternalStore,w2=Oc.useRef,E2=Oc.useEffect,I2=Oc.useMemo,T2=Oc.useDebugValue;m2.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=w2(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=I2(function(){function u(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&s.hasValue){var w=s.value;if(i(w,g))return h=w}return h=g}if(w=h,v2(d,g))return w;var T=r(g);return i!==void 0&&i(w,T)?w:(d=g,h=T)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return u(e())},p===null?void 0:function(){return u(p())}]},[e,n,r,i]);var a=_2(t,o[0],o[1]);return E2(function(){s.hasValue=!0,s.value=a},[a]),T2(a),a};function S2(t){t()}let TS=S2;const A2=t=>TS=t,C2=()=>TS,Z_=Symbol.for("react-redux-context"),e0=typeof globalThis<"u"?globalThis:{};function P2(){var t;if(!N.createContext)return{};const e=(t=e0[Z_])!=null?t:e0[Z_]=new Map;let n=e.get(N.createContext);return n||(n=N.createContext(null),e.set(N.createContext,n)),n}const SS=P2(),R2=()=>{throw new Error("uSES not initialized!")};function Pr(){return Pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pr.apply(null,arguments)}function AS(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var CS={exports:{}},he={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qe=typeof Symbol=="function"&&Symbol.for,zm=qe?Symbol.for("react.element"):60103,Wm=qe?Symbol.for("react.portal"):60106,Lc=qe?Symbol.for("react.fragment"):60107,Mc=qe?Symbol.for("react.strict_mode"):60108,Vc=qe?Symbol.for("react.profiler"):60114,Fc=qe?Symbol.for("react.provider"):60109,Uc=qe?Symbol.for("react.context"):60110,Gm=qe?Symbol.for("react.async_mode"):60111,Bc=qe?Symbol.for("react.concurrent_mode"):60111,$c=qe?Symbol.for("react.forward_ref"):60112,jc=qe?Symbol.for("react.suspense"):60113,b2=qe?Symbol.for("react.suspense_list"):60120,zc=qe?Symbol.for("react.memo"):60115,Wc=qe?Symbol.for("react.lazy"):60116,x2=qe?Symbol.for("react.block"):60121,D2=qe?Symbol.for("react.fundamental"):60117,k2=qe?Symbol.for("react.responder"):60118,N2=qe?Symbol.for("react.scope"):60119;function Wt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case zm:switch(t=t.type,t){case Gm:case Bc:case Lc:case Vc:case Mc:case jc:return t;default:switch(t=t&&t.$$typeof,t){case Uc:case $c:case Wc:case zc:case Fc:return t;default:return e}}case Wm:return e}}}function PS(t){return Wt(t)===Bc}he.AsyncMode=Gm;he.ConcurrentMode=Bc;he.ContextConsumer=Uc;he.ContextProvider=Fc;he.Element=zm;he.ForwardRef=$c;he.Fragment=Lc;he.Lazy=Wc;he.Memo=zc;he.Portal=Wm;he.Profiler=Vc;he.StrictMode=Mc;he.Suspense=jc;he.isAsyncMode=function(t){return PS(t)||Wt(t)===Gm};he.isConcurrentMode=PS;he.isContextConsumer=function(t){return Wt(t)===Uc};he.isContextProvider=function(t){return Wt(t)===Fc};he.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===zm};he.isForwardRef=function(t){return Wt(t)===$c};he.isFragment=function(t){return Wt(t)===Lc};he.isLazy=function(t){return Wt(t)===Wc};he.isMemo=function(t){return Wt(t)===zc};he.isPortal=function(t){return Wt(t)===Wm};he.isProfiler=function(t){return Wt(t)===Vc};he.isStrictMode=function(t){return Wt(t)===Mc};he.isSuspense=function(t){return Wt(t)===jc};he.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Lc||t===Bc||t===Vc||t===Mc||t===jc||t===b2||typeof t=="object"&&t!==null&&(t.$$typeof===Wc||t.$$typeof===zc||t.$$typeof===Fc||t.$$typeof===Uc||t.$$typeof===$c||t.$$typeof===D2||t.$$typeof===k2||t.$$typeof===N2||t.$$typeof===x2)};he.typeOf=Wt;CS.exports=he;var O2=CS.exports,Hm=O2,L2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},M2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},V2={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},RS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qm={};qm[Hm.ForwardRef]=V2;qm[Hm.Memo]=RS;function t0(t){return Hm.isMemo(t)?RS:qm[t.$$typeof]||L2}var F2=Object.defineProperty,U2=Object.getOwnPropertyNames,n0=Object.getOwnPropertySymbols,B2=Object.getOwnPropertyDescriptor,$2=Object.getPrototypeOf,r0=Object.prototype;function bS(t,e,n){if(typeof e!="string"){if(r0){var r=$2(e);r&&r!==r0&&bS(t,r,n)}var i=U2(e);n0&&(i=i.concat(n0(e)));for(var o=t0(t),s=t0(e),a=0;a<i.length;++a){var u=i[a];if(!M2[u]&&!(n&&n[u])&&!(s&&s[u])&&!(o&&o[u])){var c=B2(e,u);try{F2(t,u,c)}catch{}}}}return t}var j2=bS;const i0=ep(j2);var xS={exports:{}},fe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km=Symbol.for("react.element"),Qm=Symbol.for("react.portal"),Gc=Symbol.for("react.fragment"),Hc=Symbol.for("react.strict_mode"),qc=Symbol.for("react.profiler"),Kc=Symbol.for("react.provider"),Qc=Symbol.for("react.context"),z2=Symbol.for("react.server_context"),Yc=Symbol.for("react.forward_ref"),Xc=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),Zc=Symbol.for("react.memo"),ed=Symbol.for("react.lazy"),W2=Symbol.for("react.offscreen"),DS;DS=Symbol.for("react.module.reference");function rn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Km:switch(t=t.type,t){case Gc:case qc:case Hc:case Xc:case Jc:return t;default:switch(t=t&&t.$$typeof,t){case z2:case Qc:case Yc:case ed:case Zc:case Kc:return t;default:return e}}case Qm:return e}}}fe.ContextConsumer=Qc;fe.ContextProvider=Kc;fe.Element=Km;fe.ForwardRef=Yc;fe.Fragment=Gc;fe.Lazy=ed;fe.Memo=Zc;fe.Portal=Qm;fe.Profiler=qc;fe.StrictMode=Hc;fe.Suspense=Xc;fe.SuspenseList=Jc;fe.isAsyncMode=function(){return!1};fe.isConcurrentMode=function(){return!1};fe.isContextConsumer=function(t){return rn(t)===Qc};fe.isContextProvider=function(t){return rn(t)===Kc};fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Km};fe.isForwardRef=function(t){return rn(t)===Yc};fe.isFragment=function(t){return rn(t)===Gc};fe.isLazy=function(t){return rn(t)===ed};fe.isMemo=function(t){return rn(t)===Zc};fe.isPortal=function(t){return rn(t)===Qm};fe.isProfiler=function(t){return rn(t)===qc};fe.isStrictMode=function(t){return rn(t)===Hc};fe.isSuspense=function(t){return rn(t)===Xc};fe.isSuspenseList=function(t){return rn(t)===Jc};fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gc||t===qc||t===Hc||t===Xc||t===Jc||t===W2||typeof t=="object"&&t!==null&&(t.$$typeof===ed||t.$$typeof===Zc||t.$$typeof===Kc||t.$$typeof===Qc||t.$$typeof===Yc||t.$$typeof===DS||t.getModuleId!==void 0)};fe.typeOf=rn;xS.exports=fe;var G2=xS.exports;const H2=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function q2(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,u,c,d,h,p;function g(_,C){return u=_,c=C,d=t(u,c),h=e(r,c),p=n(d,h,c),a=!0,p}function w(){return d=t(u,c),e.dependsOnOwnProps&&(h=e(r,c)),p=n(d,h,c),p}function T(){return t.dependsOnOwnProps&&(d=t(u,c)),e.dependsOnOwnProps&&(h=e(r,c)),p=n(d,h,c),p}function P(){const _=t(u,c),C=!s(_,d);return d=_,C&&(p=n(d,h,c)),p}function E(_,C){const D=!o(C,c),L=!i(_,u,C,c);return u=_,c=C,D&&L?w():D?T():L?P():p}return function(C,D){return a?E(C,D):g(C,D)}}function K2(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=AS(e,H2);const s=n(t,o),a=r(t,o),u=i(t,o);return q2(s,a,u,t,o)}function Q2(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function qf(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function o0(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function kS(t,e){return function(r,{displayName:i}){const o=function(a,u){return o.dependsOnOwnProps?o.mapToProps(a,u):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,u){o.mapToProps=t,o.dependsOnOwnProps=o0(t);let c=o(a,u);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=o0(c),c=o(a,u)),c},o}}function Ym(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Y2(t){return t&&typeof t=="object"?qf(e=>Q2(t,e)):t?typeof t=="function"?kS(t):Ym(t,"mapDispatchToProps"):qf(e=>({dispatch:e}))}function X2(t){return t?typeof t=="function"?kS(t):Ym(t,"mapStateToProps"):qf(()=>({}))}function J2(t,e,n){return Pr({},n,t,e)}function Z2(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(u,c,d){const h=t(u,c,d);return o?i(h,s)||(s=h):(o=!0,s=h),s}}}function eM(t){return t?typeof t=="function"?Z2(t):Ym(t,"mergeProps"):()=>J2}function tM(){const t=C2();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const s0={notify(){},get:()=>[]};function NS(t,e){let n,r=s0,i=0,o=!1;function s(T){d();const P=r.subscribe(T);let E=!1;return()=>{E||(E=!0,P(),h())}}function a(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function c(){return o}function d(){i++,n||(n=e?e.addNestedSub(u):t.subscribe(u),r=tM())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=s0)}function p(){o||(o=!0,d())}function g(){o&&(o=!1,h())}const w={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return w}const nM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fu=nM?N.useLayoutEffect:N.useEffect;function a0(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function yh(t,e){if(a0(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!a0(t[n[i]],e[n[i]]))return!1;return!0}const rM=["reactReduxForwardedRef"];let OS=R2;const iM=t=>{OS=t},oM=[null,null];function sM(t,e,n){Fu(()=>t(...e),n)}function aM(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function lM(t,e,n,r,i,o,s,a,u,c,d){if(!t)return()=>{};let h=!1,p=null;const g=()=>{if(h||!a.current)return;const T=e.getState();let P,E;try{P=r(T,i.current)}catch(_){E=_,p=_}E||(p=null),P===o.current?s.current||c():(o.current=P,u.current=P,s.current=!0,d())};return n.onStateChange=g,n.trySubscribe(),g(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function uM(t,e){return t===e}function LS(t,e,n,{pure:r,areStatesEqual:i=uM,areOwnPropsEqual:o=yh,areStatePropsEqual:s=yh,areMergedPropsEqual:a=yh,forwardRef:u=!1,context:c=SS}={}){const d=c,h=X2(t),p=Y2(e),g=eM(n),w=!!t;return P=>{const E=P.displayName||P.name||"Component",_=`Connect(${E})`,C={shouldHandleStateChanges:w,displayName:_,wrappedComponentName:E,WrappedComponent:P,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:g,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function D(S){const[y,I,A]=N.useMemo(()=>{const{reactReduxForwardedRef:Et}=S,Pn=AS(S,rM);return[S.context,Et,Pn]},[S]),b=N.useMemo(()=>y&&y.Consumer&&G2.isContextConsumer(N.createElement(y.Consumer,null))?y:d,[y,d]),x=N.useContext(b),R=!!S.store&&!!S.store.getState&&!!S.store.dispatch,Te=!!x&&!!x.store,$e=R?S.store:x.store,Yn=Te?x.getServerState:$e.getState,bt=N.useMemo(()=>K2($e.dispatch,C),[$e]),[z,Q]=N.useMemo(()=>{if(!w)return oM;const Et=NS($e,R?void 0:x.subscription),Pn=Et.notifyNestedSubs.bind(Et);return[Et,Pn]},[$e,R,x]),J=N.useMemo(()=>R?x:Pr({},x,{subscription:z}),[R,x,z]),pe=N.useRef(),ue=N.useRef(A),me=N.useRef(),Gt=N.useRef(!1);N.useRef(!1);const xt=N.useRef(!1),Dt=N.useRef();Fu(()=>(xt.current=!0,()=>{xt.current=!1}),[]);const Ht=N.useMemo(()=>()=>me.current&&A===ue.current?me.current:bt($e.getState(),A),[$e,A]),ud=N.useMemo(()=>Pn=>z?lM(w,$e,z,bt,ue,pe,Gt,xt,me,Q,Pn):()=>{},[z]);sM(aM,[ue,pe,Gt,A,me,Q]);let Si;try{Si=OS(ud,Ht,Yn?()=>bt(Yn(),A):Ht)}catch(Et){throw Dt.current&&(Et.message+=`
The error may be correlated with this previous error:
${Dt.current.stack}

`),Et}Fu(()=>{Dt.current=void 0,me.current=void 0,pe.current=Si});const Xn=N.useMemo(()=>N.createElement(P,Pr({},Si,{ref:I})),[I,P,Si]);return N.useMemo(()=>w?N.createElement(b.Provider,{value:J},Xn):Xn,[b,Xn,J])}const M=N.memo(D);if(M.WrappedComponent=P,M.displayName=D.displayName=_,u){const y=N.forwardRef(function(A,b){return N.createElement(M,Pr({},A,{reactReduxForwardedRef:b}))});return y.displayName=_,y.WrappedComponent=P,i0(y,P)}return i0(M,P)}}function cM({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=N.useMemo(()=>{const c=NS(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),a=N.useMemo(()=>t.getState(),[t]);Fu(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const u=e||SS;return N.createElement(u.Provider,{value:s},n)}iM(IS.useSyncExternalStore);A2(Ia.unstable_batchedUpdates);function dM(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function MS(t,e){var n=N.useState(function(){return{inputs:e,result:t()}})[0],r=N.useRef(!0),i=N.useRef(n),o=r.current||!!(e&&i.current.inputs&&dM(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return N.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function hM(t,e){return MS(function(){return t},e)}var oe=MS,q=hM,fM="Invariant failed";function pM(t,e){throw new Error(fM)}var dn=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,u={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return u},Xm=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},l0=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},mM=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},vh={top:0,right:0,bottom:0,left:0},Jm=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?vh:r,o=e.border,s=o===void 0?vh:o,a=e.padding,u=a===void 0?vh:a,c=dn(Xm(n,i)),d=dn(l0(n,s)),h=dn(l0(d,u));return{marginBox:c,borderBox:dn(n),paddingBox:d,contentBox:h,margin:i,border:s,padding:u}},qt=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&pM(),i},gM=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Uu=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=mM(r,n);return Jm({borderBox:a,border:i,margin:o,padding:s})},Bu=function(e,n){return n===void 0&&(n=gM()),Uu(e,n)},VS=function(e,n){var r={top:qt(n.marginTop),right:qt(n.marginRight),bottom:qt(n.marginBottom),left:qt(n.marginLeft)},i={top:qt(n.paddingTop),right:qt(n.paddingRight),bottom:qt(n.paddingBottom),left:qt(n.paddingLeft)},o={top:qt(n.borderTopWidth),right:qt(n.borderRightWidth),bottom:qt(n.borderBottomWidth),left:qt(n.borderLeftWidth)};return Jm({borderBox:e,margin:r,padding:i,border:o})},FS=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return VS(n,r)},u0=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function yM(t,e){return!!(t===e||u0(t)&&u0(e))}function vM(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!yM(t[n],e[n]))return!1;return!0}function Ge(t,e){e===void 0&&(e=vM);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var ca=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function US(t,e){}US.bind(null,"warn");US.bind(null,"error");function Rr(){}function _M(t,e){return{...t,...e}}function Xt(t,e,n){const r=e.map(i=>{const o=_M(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const wM="Invariant failed";class $u extends Error{}$u.prototype.toString=function(){return this.message};function $(t,e){throw new $u(wM)}class EM extends te.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Rr,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof $u&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Xt(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof $u){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const IM=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ju=t=>t+1,TM=t=>`
  You have lifted an item in position ${ju(t.source.index)}
`,BS=(t,e)=>{const n=t.droppableId===e.droppableId,r=ju(t.index),i=ju(e.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${t.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},$S=(t,e,n)=>e.droppableId===n.droppableId?`
      The item ${t}
      has been combined with ${n.draggableId}`:`
      The item ${t}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,SM=t=>{const e=t.destination;if(e)return BS(t.source,e);const n=t.combine;return n?$S(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},c0=t=>`
  The item has returned to its starting position
  of ${ju(t.index)}
`,AM=t=>{if(t.reason==="CANCEL")return`
      Movement cancelled.
      ${c0(t.source)}
    `;const e=t.destination,n=t.combine;return e?`
      You have dropped the item.
      ${BS(t.source,e)}
    `:n?`
      You have dropped the item.
      ${$S(t.draggableId,t.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${c0(t.source)}
  `},CM={dragHandleUsageInstructions:IM,onDragStart:TM,onDragUpdate:SM,onDragEnd:AM};var Xl=CM;const He={x:0,y:0},Je=(t,e)=>({x:t.x+e.x,y:t.y+e.y}),Mt=(t,e)=>({x:t.x-e.x,y:t.y-e.y}),br=(t,e)=>t.x===e.x&&t.y===e.y,Oo=t=>({x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}),_i=(t,e,n=0)=>t==="x"?{x:e,y:n}:{x:n,y:e},da=(t,e)=>Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2),d0=(t,e)=>Math.min(...e.map(n=>da(t,n))),jS=t=>e=>({x:t(e.x),y:t(e.y)});var PM=(t,e)=>{const n=dn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n};const Ua=(t,e)=>({top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}),h0=t=>[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}],RM={top:0,right:0,bottom:0,left:0},bM=(t,e)=>e?Ua(t,e.scroll.diff.displacement):t,xM=(t,e,n)=>n&&n.increasedBy?{...t,[e.end]:t[e.end]+n.increasedBy[e.line]}:t,DM=(t,e)=>e&&e.shouldClipSubject?PM(e.pageMarginBox,t):dn(t);var wo=({page:t,withPlaceholder:e,axis:n,frame:r})=>{const i=bM(t.marginBox,r),o=xM(i,n,e),s=DM(o,r);return{page:t,withPlaceholder:e,active:s}},Zm=(t,e)=>{t.frame||$();const n=t.frame,r=Mt(e,n.scroll.initial),i=Oo(r),o={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}},s=wo({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o});return{...t,frame:o,subject:s}};const zS=Ge(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),WS=Ge(t=>t.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),td=Ge(t=>Object.values(t)),kM=Ge(t=>Object.values(t));var Lo=Ge((t,e)=>kM(e).filter(r=>t===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function eg(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function nd(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var rd=Ge((t,e)=>e.filter(n=>n.descriptor.id!==t.descriptor.id)),NM=({isMovingForward:t,draggable:e,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!eg(i))return null;function s(g){const w={type:"COMBINE",combine:{draggableId:g,droppableId:n.descriptor.id}};return{...i,at:w}}const a=i.displaced.all,u=a.length?a[0]:null;if(t)return u?s(u):null;const c=rd(e,r);if(!u){if(!c.length)return null;const g=c[c.length-1];return s(g.descriptor.id)}const d=c.findIndex(g=>g.descriptor.id===u);d===-1&&$();const h=d-1;if(h<0)return null;const p=c[h];return s(p.descriptor.id)},Mo=(t,e)=>t.descriptor.droppableId===e.descriptor.id;const GS={point:He,value:0},ha={invisible:{},visible:{},all:[]},OM={displaced:ha,displacedBy:GS,at:null};var LM=OM,Zt=(t,e)=>n=>t<=n&&n<=e,HS=t=>{const e=Zt(t.top,t.bottom),n=Zt(t.left,t.right);return r=>{if(e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const u=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right;return u&&c?!0:u&&s||c&&o}},MM=t=>{const e=Zt(t.top,t.bottom),n=Zt(t.left,t.right);return r=>e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right)};const tg={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},qS={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var VM=t=>e=>{const n=Zt(e.top,e.bottom),r=Zt(e.left,e.right);return i=>t===tg?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const FM=(t,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:He;return Ua(t,n)},UM=(t,e,n)=>e.subject.active?n(e.subject.active)(t):!1,BM=(t,e,n)=>n(e)(t),ng=({target:t,destination:e,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?FM(t,e):t;return UM(o,e,i)&&BM(o,n,i)},$M=t=>ng({...t,isVisibleThroughFrameFn:HS}),KS=t=>ng({...t,isVisibleThroughFrameFn:MM}),jM=t=>ng({...t,isVisibleThroughFrameFn:VM(t.destination.axis)}),zM=(t,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:r,visible:i}=e;if(r[t])return!1;const o=i[t];return o?o.shouldAnimate:!0};function WM(t,e){const n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return dn(Xm(n,r))}function fa({afterDragging:t,destination:e,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return t.reduce(function(a,u){const c=WM(u,n),d=u.descriptor.id;if(a.all.push(d),!$M({target:c,destination:e,viewport:r,withDroppableDisplacement:!0}))return a.invisible[u.descriptor.id]=!0,a;const p=zM(d,o,i),g={draggableId:d,shouldAnimate:p};return a.visible[d]=g,a},{all:[],visible:{},invisible:{}})}function GM(t,e){if(!t.length)return 0;const n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function f0({insideDestination:t,inHomeList:e,displacedBy:n,destination:r}){const i=GM(t,{inHomeList:e});return{displaced:ha,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function zu({draggable:t,insideDestination:e,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const u=Mo(t,n);if(s==null)return f0({insideDestination:e,inHomeList:u,displacedBy:i,destination:n});const c=e.find(w=>w.descriptor.index===s);if(!c)return f0({insideDestination:e,inHomeList:u,displacedBy:i,destination:n});const d=rd(t,e),h=e.indexOf(c),p=d.slice(h);return{displaced:fa({afterDragging:p,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Lr(t,e){return!!e.effected[t]}var HM=({isMovingForward:t,destination:e,draggables:n,combine:r,afterCritical:i})=>{if(!e.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return Lr(o,i)?t?a:a-1:t?a+1:a},qM=({isMovingForward:t,isInHomeList:e,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=t?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,u=e?a:a+1;return o<s||o>u?null:o},KM=({isMovingForward:t,isInHomeList:e,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:u})=>{const c=s.at;if(c||$(),c.type==="REORDER"){const h=qM({isMovingForward:t,isInHomeList:e,location:c.destination,insideDestination:o});return h==null?null:zu({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:h})}const d=HM({isMovingForward:t,destination:i,displaced:s.displaced,draggables:r,combine:c.combine,afterCritical:u});return d==null?null:zu({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})},QM=({displaced:t,afterCritical:e,combineWith:n,displacedBy:r})=>{const i=!!(t.visible[n]||t.invisible[n]);return Lr(n,e)?i?He:Oo(r.point):i?r.point:He},YM=({afterCritical:t,impact:e,draggables:n})=>{const r=nd(e);r||$();const i=r.draggableId,o=n[i].page.borderBox.center,s=QM({displaced:e.displaced,afterCritical:t,combineWith:i,displacedBy:e.displacedBy});return Je(o,s)};const QS=(t,e)=>e.margin[t.start]+e.borderBox[t.size]/2,XM=(t,e)=>e.margin[t.end]+e.borderBox[t.size]/2,rg=(t,e,n)=>e[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2,p0=({axis:t,moveRelativeTo:e,isMoving:n})=>_i(t.line,e.marginBox[t.end]+QS(t,n),rg(t,e.marginBox,n)),m0=({axis:t,moveRelativeTo:e,isMoving:n})=>_i(t.line,e.marginBox[t.start]-XM(t,n),rg(t,e.marginBox,n)),JM=({axis:t,moveInto:e,isMoving:n})=>_i(t.line,e.contentBox[t.start]+QS(t,n),rg(t,e.contentBox,n));var ZM=({impact:t,draggable:e,draggables:n,droppable:r,afterCritical:i})=>{const o=Lo(r.descriptor.id,n),s=e.page,a=r.axis;if(!o.length)return JM({axis:a,moveInto:r.page,isMoving:s});const{displaced:u,displacedBy:c}=t,d=u.all[0];if(d){const p=n[d];if(Lr(d,i))return m0({axis:a,moveRelativeTo:p.page,isMoving:s});const g=Uu(p.page,c.point);return m0({axis:a,moveRelativeTo:g,isMoving:s})}const h=o[o.length-1];if(h.descriptor.id===e.descriptor.id)return s.borderBox.center;if(Lr(h.descriptor.id,i)){const p=Uu(h.page,Oo(i.displacedBy.point));return p0({axis:a,moveRelativeTo:p,isMoving:s})}return p0({axis:a,moveRelativeTo:h.page,isMoving:s})},Kf=(t,e)=>{const n=t.frame;return n?Je(e,n.scroll.diff.displacement):e};const eV=({impact:t,draggable:e,droppable:n,draggables:r,afterCritical:i})=>{const o=e.page.borderBox.center,s=t.at;return!n||!s?o:s.type==="REORDER"?ZM({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:i}):YM({impact:t,draggables:r,afterCritical:i})};var id=t=>{const e=eV(t),n=t.droppable;return n?Kf(n,e):e},YS=(t,e)=>{const n=Mt(e,t.scroll.initial),r=Oo(n);return{frame:dn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}}};function g0(t,e){return t.map(n=>e[n])}function tV(t,e){for(let n=0;n<e.length;n++){const r=e[n].visible[t];if(r)return r}return null}var nV=({impact:t,viewport:e,destination:n,draggables:r,maxScrollChange:i})=>{const o=YS(e,Je(e.scroll.current,i)),s=n.frame?Zm(n,Je(n.frame.scroll.current,i)):n,a=t.displaced,u=fa({afterDragging:g0(a.all,r),destination:n,displacedBy:t.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),c=fa({afterDragging:g0(a.all,r),destination:s,displacedBy:t.displacedBy,viewport:e.frame,last:a,forceShouldAnimate:!1}),d={},h={},p=[a,u,c];return a.all.forEach(w=>{const T=tV(w,p);if(T){h[w]=T;return}d[w]=!0}),{...t,displaced:{all:a.all,invisible:d,visible:h}}},rV=(t,e)=>Je(t.scroll.diff.displacement,e),ig=({pageBorderBoxCenter:t,draggable:e,viewport:n})=>{const r=rV(n,t),i=Mt(r,e.page.borderBox.center);return Je(e.client.borderBox.center,i)},XS=({draggable:t,destination:e,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Mt(n,t.page.borderBox.center),u={target:Ua(t.page.borderBox,s),destination:e,withDroppableDisplacement:i,viewport:r};return o?jM(u):KS(u)},iV=({isMovingForward:t,draggable:e,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:u})=>{if(!n.isEnabled)return null;const c=Lo(n.descriptor.id,r),d=Mo(e,n),h=NM({isMovingForward:t,draggable:e,destination:n,insideDestination:c,previousImpact:i})||KM({isMovingForward:t,isInHomeList:d,draggable:e,draggables:r,destination:n,insideDestination:c,previousImpact:i,viewport:o,afterCritical:u});if(!h)return null;const p=id({impact:h,draggable:e,droppable:n,draggables:r,afterCritical:u});if(XS({draggable:e,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:ig({pageBorderBoxCenter:p,draggable:e,viewport:o}),impact:h,scrollJumpRequest:null};const w=Mt(p,s),T=nV({impact:h,viewport:o,destination:n,draggables:r,maxScrollChange:w});return{clientSelection:a,impact:T,scrollJumpRequest:w}};const gt=t=>{const e=t.subject.active;return e||$(),e};var oV=({isMovingForward:t,pageBorderBoxCenter:e,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=Zt(o[s.start],o[s.end]),u=td(r).filter(d=>d!==n).filter(d=>d.isEnabled).filter(d=>!!d.subject.active).filter(d=>HS(i.frame)(gt(d))).filter(d=>{const h=gt(d);return t?o[s.crossAxisEnd]<h[s.crossAxisEnd]:h[s.crossAxisStart]<o[s.crossAxisStart]}).filter(d=>{const h=gt(d),p=Zt(h[s.start],h[s.end]);return a(h[s.start])||a(h[s.end])||p(o[s.start])||p(o[s.end])}).sort((d,h)=>{const p=gt(d)[s.crossAxisStart],g=gt(h)[s.crossAxisStart];return t?p-g:g-p}).filter((d,h,p)=>gt(d)[s.crossAxisStart]===gt(p[0])[s.crossAxisStart]);if(!u.length)return null;if(u.length===1)return u[0];const c=u.filter(d=>Zt(gt(d)[s.start],gt(d)[s.end])(e[s.line]));return c.length===1?c[0]:c.length>1?c.sort((d,h)=>gt(d)[s.start]-gt(h)[s.start])[0]:u.sort((d,h)=>{const p=d0(e,h0(gt(d))),g=d0(e,h0(gt(h)));return p!==g?p-g:gt(d)[s.start]-gt(h)[s.start]})[0]};const y0=(t,e)=>{const n=t.page.borderBox.center;return Lr(t.descriptor.id,e)?Mt(n,e.displacedBy.point):n},sV=(t,e)=>{const n=t.page.borderBox;return Lr(t.descriptor.id,e)?Ua(n,Oo(e.displacedBy.point)):n};var aV=({pageBorderBoxCenter:t,viewport:e,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>KS({target:sV(s,i),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const u=da(t,Kf(n,y0(s,i))),c=da(t,Kf(n,y0(a,i)));return u<c?-1:c<u?1:s.descriptor.index-a.descriptor.index})[0]||null,Ba=Ge(function(e,n){const r=n[e.line];return{value:r,point:_i(e.line,r)}});const lV=(t,e,n)=>{const r=t.axis;if(t.descriptor.mode==="virtual")return _i(r.line,e[r.line]);const i=t.subject.page.contentBox[r.size],u=Lo(t.descriptor.id,n).reduce((c,d)=>c+d.client.marginBox[r.size],0)+e[r.line]-i;return u<=0?null:_i(r.line,u)},JS=(t,e)=>({...t,scroll:{...t.scroll,max:e}}),ZS=(t,e,n)=>{const r=t.frame;Mo(e,t)&&$(),t.subject.withPlaceholder&&$();const i=Ba(t.axis,e.displaceBy).point,o=lV(t,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!r){const d=wo({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:t.frame});return{...t,subject:d}}const a=o?Je(r.scroll.max,o):r.scroll.max,u=JS(r,a),c=wo({page:t.subject.page,withPlaceholder:s,axis:t.axis,frame:u});return{...t,subject:c,frame:u}},uV=t=>{const e=t.subject.withPlaceholder;e||$();const n=t.frame;if(!n){const s=wo({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return{...t,subject:s}}const r=e.oldFrameMaxScroll;r||$();const i=JS(n,r),o=wo({page:t.subject.page,axis:t.axis,frame:i,withPlaceholder:null});return{...t,subject:o,frame:i}};var cV=({previousPageBorderBoxCenter:t,moveRelativeTo:e,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!e){if(n.length)return null;const h={displaced:ha,displacedBy:GS,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=id({impact:h,draggable:r,droppable:o,draggables:i,afterCritical:a}),g=Mo(r,o)?o:ZS(o,r,i);return XS({draggable:r,destination:g,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const u=t[o.axis.line]<=e.page.borderBox.center[o.axis.line],c=(()=>{const h=e.descriptor.index;return e.descriptor.id===r.descriptor.id||u?h:h+1})(),d=Ba(o.axis,r.displaceBy);return zu({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:d,last:ha,index:c})},dV=({isMovingForward:t,previousPageBorderBoxCenter:e,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const u=oV({isMovingForward:t,pageBorderBoxCenter:e,source:r,droppables:o,viewport:s});if(!u)return null;const c=Lo(u.descriptor.id,i),d=aV({pageBorderBoxCenter:e,viewport:s,destination:u,insideDestination:c,afterCritical:a}),h=cV({previousPageBorderBoxCenter:e,destination:u,draggable:n,draggables:i,moveRelativeTo:d,insideDestination:c,viewport:s,afterCritical:a});if(!h)return null;const p=id({impact:h,draggable:n,droppable:u,draggables:i,afterCritical:a});return{clientSelection:ig({pageBorderBoxCenter:p,draggable:n,viewport:s}),impact:h,scrollJumpRequest:null}},Ut=t=>{const e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const hV=(t,e)=>{const n=Ut(t);return n?e[n]:null};var fV=({state:t,type:e})=>{const n=hV(t.impact,t.dimensions.droppables),r=!!n,i=t.dimensions.droppables[t.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||s==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(a&&!r)return null;const u=e==="MOVE_DOWN"||e==="MOVE_RIGHT",c=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,{draggables:h,droppables:p}=t.dimensions;return a?iV({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,destination:o,draggables:h,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):dV({isMovingForward:u,previousPageBorderBoxCenter:d,draggable:c,isOver:o,draggables:h,droppables:p,viewport:t.viewport,afterCritical:t.afterCritical})};function Yr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function e1(t){const e=Zt(t.top,t.bottom),n=Zt(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function pV(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function mV({pageBorderBox:t,draggable:e,candidates:n}){const r=e.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=_i(o.axis.line,t.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:da(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function gV({pageBorderBox:t,draggable:e,droppables:n}){const r=td(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!pV(t,o))return!1;if(e1(o)(t.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],u=t[s.crossAxisStart],c=t[s.crossAxisEnd],d=Zt(o[s.crossAxisStart],o[s.crossAxisEnd]),h=d(u),p=d(c);return!h&&!p?!0:h?u<a:c>a});return r.length?r.length===1?r[0].descriptor.id:mV({pageBorderBox:t,draggable:e,candidates:r}):null}const t1=(t,e)=>dn(Ua(t,e));var yV=(t,e)=>{const n=t.frame;return n?t1(e,n.scroll.diff.value):e};function n1({displaced:t,id:e}){return!!(t.visible[e]||t.invisible[e])}function vV({draggable:t,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>t.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var _V=({pageBorderBoxWithDroppableScroll:t,draggable:e,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,u=Ba(n.axis,e.displaceBy),c=u.value,d=t[a.start],h=t[a.end],g=rd(e,r).find(T=>{const P=T.descriptor.id,E=T.page.borderBox.center[a.line],_=Lr(P,s),C=n1({displaced:i,id:P});return _?C?h<=E:d<E-c:C?h<=E+c:d<E})||null,w=vV({draggable:e,closest:g,inHomeList:Mo(e,n)});return zu({draggable:e,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:u,index:w})};const wV=4;var EV=({draggable:t,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=Ba(r.axis,t.displaceBy),u=a.value,c=e[s.start],d=e[s.end],p=rd(t,i).find(w=>{const T=w.descriptor.id,P=w.page.borderBox,_=P[s.size]/wV,C=Lr(T,o),D=n1({displaced:n.displaced,id:T});return C?D?d>P[s.start]+_&&d<P[s.end]-_:c>P[s.start]-u+_&&c<P[s.end]-u-_:D?d>P[s.start]+u+_&&d<P[s.end]+u-_:c>P[s.start]+_&&c<P[s.end]-_});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},r1=({pageOffset:t,draggable:e,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=t1(e.page.borderBox,t),u=gV({pageBorderBox:a,draggable:e,droppables:r});if(!u)return LM;const c=r[u],d=Lo(c.descriptor.id,n),h=yV(c,a);return EV({pageBorderBoxWithDroppableScroll:h,draggable:e,previousImpact:i,destination:c,insideDestination:d,afterCritical:s})||_V({pageBorderBoxWithDroppableScroll:h,draggable:e,destination:c,insideDestination:d,last:i.displaced,viewport:o,afterCritical:s})},og=(t,e)=>({...t,[e.descriptor.id]:e});const IV=({previousImpact:t,impact:e,droppables:n})=>{const r=Ut(t),i=Ut(e);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=uV(o);return og(n,s)};var TV=({draggable:t,draggables:e,droppables:n,previousImpact:r,impact:i})=>{const o=IV({previousImpact:r,impact:i,droppables:n}),s=Ut(i);if(!s)return o;const a=n[s];if(Mo(t,a)||a.subject.withPlaceholder)return o;const u=ZS(a,t,e);return og(o,u)},Ns=({state:t,clientSelection:e,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||t.viewport,a=n||t.dimensions,u=e||t.current.client.selection,c=Mt(u,t.initial.client.selection),d={offset:c,selection:u,borderBoxCenter:Je(t.initial.client.borderBoxCenter,c)},h={selection:Je(d.selection,s.scroll.current),borderBoxCenter:Je(d.borderBoxCenter,s.scroll.current),offset:Je(d.offset,s.scroll.diff.value)},p={client:d,page:h};if(t.phase==="COLLECTING")return{...t,dimensions:a,viewport:s,current:p};const g=a.draggables[t.critical.draggable.id],w=i||r1({pageOffset:h.offset,draggable:g,draggables:a.draggables,droppables:a.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),T=TV({draggable:g,impact:w,previousImpact:t.impact,draggables:a.draggables,droppables:a.droppables});return{...t,current:p,dimensions:{draggables:a.draggables,droppables:T},impact:w,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function SV(t,e){return t.map(n=>e[n])}var i1=({impact:t,viewport:e,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=t.displaced,s=SV(o.all,n),a=fa({afterDragging:s,destination:r,displacedBy:t.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...t,displaced:a}},o1=({impact:t,draggable:e,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=id({impact:t,draggable:e,draggables:r,droppable:n,afterCritical:o});return ig({pageBorderBoxCenter:s,draggable:e,viewport:i})},s1=({state:t,dimensions:e,viewport:n})=>{t.movementMode!=="SNAP"&&$();const r=t.impact,i=n||t.viewport,o=e||t.dimensions,{draggables:s,droppables:a}=o,u=s[t.critical.draggable.id],c=Ut(r);c||$();const d=a[c],h=i1({impact:r,viewport:i,destination:d,draggables:s}),p=o1({impact:h,draggable:u,droppable:d,draggables:s,viewport:i,afterCritical:t.afterCritical});return Ns({impact:h,clientSelection:p,state:t,dimensions:o,viewport:i})},AV=t=>({index:t.index,droppableId:t.droppableId}),a1=({draggable:t,home:e,draggables:n,viewport:r})=>{const i=Ba(e.axis,t.displaceBy),o=Lo(e.descriptor.id,n),s=o.indexOf(t);s===-1&&$();const a=o.slice(s+1),u=a.reduce((p,g)=>(p[g.descriptor.id]=!0,p),{}),c={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:u};return{impact:{displaced:fa({afterDragging:a,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:AV(t.descriptor)}},afterCritical:c}},CV=(t,e)=>({draggables:t.draggables,droppables:og(t.droppables,e)}),PV=({draggable:t,offset:e,initialWindowScroll:n})=>{const r=Uu(t.client,e),i=Bu(r,n);return{...t,placeholder:{...t.placeholder,client:r},client:r,page:i}},RV=t=>{const e=t.frame;return e||$(),e},bV=({additions:t,updatedDroppables:e,viewport:n})=>{const r=n.scroll.diff.value;return t.map(i=>{const o=i.descriptor.droppableId,s=e[o],u=RV(s).scroll.diff.value,c=Je(r,u);return PV({draggable:i,offset:c,initialWindowScroll:n.scroll.initial})})},xV=({state:t,published:e})=>{const n=e.modified.map(E=>{const _=t.dimensions.droppables[E.droppableId];return Zm(_,E.scroll)}),r={...t.dimensions.droppables,...zS(n)},i=WS(bV({additions:e.additions,updatedDroppables:r,viewport:t.viewport})),o={...t.dimensions.draggables,...i};e.removals.forEach(E=>{delete o[E]});const s={droppables:r,draggables:o},a=Ut(t.impact),u=a?s.droppables[a]:null,c=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],{impact:h,afterCritical:p}=a1({draggable:c,home:d,draggables:o,viewport:t.viewport}),g=u&&u.isCombineEnabled?t.impact:h,w=r1({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:g,viewport:t.viewport,afterCritical:p}),T={...t,phase:"DRAGGING",impact:w,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1};return t.phase==="COLLECTING"?T:{...T,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}};const Qf=t=>t.movementMode==="SNAP",_h=(t,e,n)=>{const r=CV(t.dimensions,e);return!Qf(t)||n?Ns({state:t,dimensions:r}):s1({state:t,dimensions:r})};function wh(t){return t.isDragging&&t.movementMode==="SNAP"?{...t,scrollJumpRequest:null}:t}const v0={phase:"IDLE",completed:null,shouldFlush:!1};var DV=(t=v0,e)=>{if(e.type==="FLUSH")return{...v0,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&$();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=e.payload,a=o.draggables[n.draggable.id],u=o.droppables[n.droppable.id],c={selection:r,borderBoxCenter:a.client.borderBox.center,offset:He},d={client:c,page:{selection:Je(c.selection,i.scroll.initial),borderBoxCenter:Je(c.selection,i.scroll.initial),offset:Je(c.selection,i.scroll.diff.value)}},h=td(o.droppables).every(T=>!T.isFixedOnPage),{impact:p,afterCritical:g}=a1({draggable:a,home:u,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:d,current:d,isWindowScrollAllowed:h,impact:p,afterCritical:g,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"?t:(t.phase!=="DRAGGING"&&$(),{...t,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||$(),xV({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Yr(t)||$();const{client:n}=e.payload;return br(n,t.current.client.selection)?t:Ns({state:t,clientSelection:n,impact:Qf(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return wh(t);Yr(t)||$();const{id:n,newScroll:r}=e.payload,i=t.dimensions.droppables[n];if(!i)return t;const o=Zm(i,r);return _h(t,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yr(t)||$();const{id:n,isEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||$(),i.isEnabled===r&&$();const o={...i,isEnabled:r};return _h(t,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Yr(t)||$();const{id:n,isCombineEnabled:r}=e.payload,i=t.dimensions.droppables[n];i||$(),i.isCombineEnabled===r&&$();const o={...i,isCombineEnabled:r};return _h(t,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Yr(t)||$(),t.isWindowScrollAllowed||$();const n=e.payload.newScroll;if(br(t.viewport.scroll.current,n))return wh(t);const r=YS(t.viewport,n);return Qf(t)?s1({state:t,viewport:r}):Ns({state:t,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Yr(t))return t;const n=e.payload.maxScroll;if(br(n,t.viewport.scroll.max))return t;const r={...t.viewport,scroll:{...t.viewport.scroll,max:n}};return{...t,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&$();const n=fV({state:t,type:e.type});return n?Ns({state:t,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return t.phase!=="COLLECTING"&&$(),{...t,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=e.payload;return t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||$(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:t.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return t};const kV=t=>({type:"BEFORE_INITIAL_CAPTURE",payload:t}),NV=t=>({type:"LIFT",payload:t}),OV=t=>({type:"INITIAL_PUBLISH",payload:t}),LV=t=>({type:"PUBLISH_WHILE_DRAGGING",payload:t}),MV=()=>({type:"COLLECTION_STARTING",payload:null}),VV=t=>({type:"UPDATE_DROPPABLE_SCROLL",payload:t}),FV=t=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}),UV=t=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}),l1=t=>({type:"MOVE",payload:t}),BV=t=>({type:"MOVE_BY_WINDOW_SCROLL",payload:t}),$V=t=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}),jV=()=>({type:"MOVE_UP",payload:null}),zV=()=>({type:"MOVE_DOWN",payload:null}),WV=()=>({type:"MOVE_RIGHT",payload:null}),GV=()=>({type:"MOVE_LEFT",payload:null}),sg=()=>({type:"FLUSH",payload:null}),HV=t=>({type:"DROP_ANIMATE",payload:t}),ag=t=>({type:"DROP_COMPLETE",payload:t}),u1=t=>({type:"DROP",payload:t}),qV=t=>({type:"DROP_PENDING",payload:t}),c1=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var KV=t=>({getState:e,dispatch:n})=>r=>i=>{if(i.type!=="LIFT"){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,u=e();u.phase==="DROP_ANIMATING"&&n(ag({completed:u.completed})),e().phase!=="IDLE"&&$(),n(sg()),n(kV({draggableId:o,movementMode:a}));const d={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:p,viewport:g}=t.startPublishing(d);n(OV({critical:h,dimensions:p,clientSelection:s,movementMode:a,viewport:g}))},QV=t=>()=>e=>n=>{n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)};const lg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},pa={opacity:{drop:0,combining:.7},scale:{drop:.75}},d1={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Hr=`${d1.outOfTheWay}s ${lg.outOfTheWay}`,Os={fluid:`opacity ${Hr}`,snap:`transform ${Hr}, opacity ${Hr}`,drop:t=>{const e=`${t}s ${lg.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Hr}`,placeholder:`height ${Hr}, width ${Hr}, margin ${Hr}`},_0=t=>br(t,He)?void 0:`translate(${t.x}px, ${t.y}px)`,Yf={moveTo:_0,drop:(t,e)=>{const n=_0(t);if(n)return e?`${n} scale(${pa.scale.drop})`:n}},{minDropTime:Xf,maxDropTime:h1}=d1,YV=h1-Xf,w0=1500,XV=.6;var JV=({current:t,destination:e,reason:n})=>{const r=da(t,e);if(r<=0)return Xf;if(r>=w0)return h1;const i=r/w0,o=Xf+YV*i,s=n==="CANCEL"?o*XV:o;return Number(s.toFixed(2))},ZV=({impact:t,draggable:e,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=Ut(t),u=a?s[a]:null,c=s[e.descriptor.droppableId],d=o1({impact:t,draggable:e,draggables:o,afterCritical:i,droppable:u||c,viewport:r});return Mt(d,e.client.borderBox.center)},eF=({draggables:t,reason:e,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||e!=="DROP"?{impact:i1({draggables:t,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ha},didDropInsideDroppable:!0};const tF=({getState:t,dispatch:e})=>n=>r=>{if(r.type!=="DROP"){n(r);return}const i=t(),o=r.payload.reason;if(i.phase==="COLLECTING"){e(qV({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&$(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||$();const a=i.critical,u=i.dimensions,c=u.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=eF({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=h?eg(d):null,g=h?nd(d):null,w={index:a.draggable.index,droppableId:a.droppable.id},T={draggableId:c.descriptor.id,type:c.descriptor.type,source:w,reason:o,mode:i.movementMode,destination:p,combine:g},P=ZV({impact:d,draggable:c,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),E={critical:i.critical,afterCritical:i.afterCritical,result:T,impact:d};if(!(!br(i.current.client.offset,P)||!!T.combine)){e(ag({completed:E}));return}const C=JV({current:i.current.client.offset,destination:P,reason:o});e(HV({newHomeClientOffset:P,dropDuration:C,completed:E}))};var nF=tF,f1=()=>({x:window.pageXOffset,y:window.pageYOffset});function rF(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||t()}}}function iF({onWindowScroll:t}){function e(){t(f1())}const n=ca(e),r=rF(n);let i=Rr;function o(){return i!==Rr}function s(){o()&&$(),i=Xt(window,[r])}function a(){o()||$(),n.cancel(),i(),i=Rr}return{start:s,stop:a,isActive:o}}const oF=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH",sF=t=>{const e=iF({onWindowScroll:n=>{t.dispatch(BV({newScroll:n}))}});return n=>r=>{!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&oF(r)&&e.stop(),n(r)}};var aF=sF,lF=t=>{let e=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{e||n||(e=!0,t(o),clearTimeout(r))};return i.wasCalled=()=>e,i},uF=()=>{const t=[],e=i=>{const o=t.findIndex(a=>a.timerId===i);o===-1&&$();const[s]=t.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>e(o)),s={timerId:o,callback:i};t.push(s)},flush:()=>{if(!t.length)return;const i=[...t];t.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const cF=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.droppableId===e.droppableId&&t.index===e.index,dF=(t,e)=>t==null&&e==null?!0:t==null||e==null?!1:t.draggableId===e.draggableId&&t.droppableId===e.droppableId,hF=(t,e)=>{if(t===e)return!0;const n=t.draggable.id===e.draggable.id&&t.draggable.droppableId===e.draggable.droppableId&&t.draggable.type===e.draggable.type&&t.draggable.index===e.draggable.index,r=t.droppable.id===e.droppable.id&&t.droppable.type===e.droppable.type;return n&&r},as=(t,e)=>{e()},Al=(t,e)=>({draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:e});function Eh(t,e,n,r){if(!t){n(r(e));return}const i=lF(n);t(e,{announce:i}),i.wasCalled()||n(r(e))}var fF=(t,e)=>{const n=uF();let r=null;const i=(h,p)=>{r&&$(),as("onBeforeCapture",()=>{const g=t().onBeforeCapture;g&&g({draggableId:h,mode:p})})},o=(h,p)=>{r&&$(),as("onBeforeDragStart",()=>{const g=t().onBeforeDragStart;g&&g(Al(h,p))})},s=(h,p)=>{r&&$();const g=Al(h,p);r={mode:p,lastCritical:h,lastLocation:g.source,lastCombine:null},n.add(()=>{as("onDragStart",()=>Eh(t().onDragStart,g,e,Xl.onDragStart))})},a=(h,p)=>{const g=eg(p),w=nd(p);r||$();const T=!hF(h,r.lastCritical);T&&(r.lastCritical=h);const P=!cF(r.lastLocation,g);P&&(r.lastLocation=g);const E=!dF(r.lastCombine,w);if(E&&(r.lastCombine=w),!T&&!P&&!E)return;const _={...Al(h,r.mode),combine:w,destination:g};n.add(()=>{as("onDragUpdate",()=>Eh(t().onDragUpdate,_,e,Xl.onDragUpdate))})},u=()=>{r||$(),n.flush()},c=h=>{r||$(),r=null,as("onDragEnd",()=>Eh(t().onDragEnd,h,e,Xl.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:u,drop:c,abort:()=>{if(!r)return;const h={...Al(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};c(h)}}},pF=(t,e)=>{const n=fF(t,e);return r=>i=>o=>{if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const mF=t=>e=>n=>{if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}const r=t.getState();r.phase!=="DROP_ANIMATING"&&$(),t.dispatch(ag({completed:r.completed}))};var gF=mF;const yF=t=>{let e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return i=>o=>{if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type!=="DROP_ANIMATE")return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){t.getState().phase==="DROP_ANIMATING"&&t.dispatch(c1())}};n=requestAnimationFrame(()=>{n=null,e=Xt(window,[s])})}};var vF=yF,_F=t=>()=>e=>n=>{(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)},wF=t=>{let e=!1;return()=>n=>r=>{if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;const i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}};const EF=t=>t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH";var IF=t=>e=>n=>r=>{if(EF(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);const i=e.getState();i.phase!=="DRAGGING"&&$(),t.start(i);return}n(r),t.scroll(e.getState())};const TF=t=>e=>n=>{if(e(n),n.type!=="PUBLISH_WHILE_DRAGGING")return;const r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(u1({reason:r.reason})))};var SF=TF;const AF=_S;var CF=({dimensionMarshal:t,focusMarshal:e,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>vS(DV,AF(o2(QV(n),_F(t),KV(t),nF,gF,vF,SF,IF(o),aF,wF(e),pF(r,i))));const Ih=()=>({additions:{},removals:{},modified:{}});function PF({registry:t,callbacks:e}){let n=Ih(),r=null;const i=()=>{r||(e.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:u,removals:c,modified:d}=n,h=Object.keys(u).map(w=>t.draggable.getById(w).getDimension(He)).sort((w,T)=>w.descriptor.index-T.descriptor.index),p=Object.keys(d).map(w=>{const P=t.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:P}}),g={additions:h,removals:Object.keys(c),modified:p};n=Ih(),e.publish(g)}))};return{add:u=>{const c=u.descriptor.id;n.additions[c]=u,n.modified[u.descriptor.droppableId]=!0,n.removals[c]&&delete n.removals[c],i()},remove:u=>{const c=u.descriptor;n.removals[c.id]=!0,n.modified[c.droppableId]=!0,n.additions[c.id]&&delete n.additions[c.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=Ih())}}}var p1=({scrollHeight:t,scrollWidth:e,height:n,width:r})=>{const i=Mt({x:e,y:t},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},m1=()=>{const t=document.documentElement;return t||$(),t},g1=()=>{const t=m1();return p1({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight})},RF=()=>{const t=f1(),e=g1(),n=t.y,r=t.x,i=m1(),o=i.clientWidth,s=i.clientHeight,a=r+o,u=n+s;return{frame:dn({top:n,left:r,right:a,bottom:u}),scroll:{initial:t,current:t,max:e,diff:{value:He,displacement:He}}}},bF=({critical:t,scrollOptions:e,registry:n})=>{const r=RF(),i=r.scroll.current,o=t.droppable,s=n.droppable.getAllByType(o.type).map(d=>d.callbacks.getDimensionAndWatchScroll(i,e)),a=n.draggable.getAllByType(t.draggable.type).map(d=>d.getDimension(i));return{dimensions:{draggables:WS(a),droppables:zS(s)},critical:t,viewport:r}};function E0(t,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||t.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var xF=(t,e)=>{let n=null;const r=PF({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=(p,g)=>{t.droppable.exists(p)||$(),n&&e.updateDroppableIsEnabled({id:p,isEnabled:g})},o=(p,g)=>{n&&(t.droppable.exists(p)||$(),e.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:g}))},s=(p,g)=>{n&&(t.droppable.exists(p)||$(),e.updateDroppableScroll({id:p,newScroll:g}))},a=(p,g)=>{n&&t.droppable.getById(p).callbacks.scroll(g)},u=()=>{if(!n)return;r.stop();const p=n.critical.droppable;t.droppable.getAllByType(p.type).forEach(g=>g.callbacks.dragStopped()),n.unsubscribe(),n=null},c=p=>{n||$();const g=n.critical.draggable;p.type==="ADDITION"&&E0(t,g,p.value)&&r.add(p.value),p.type==="REMOVAL"&&E0(t,g,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:p=>{n&&$();const g=t.draggable.getById(p.draggableId),w=t.droppable.getById(g.descriptor.droppableId),T={draggable:g.descriptor,droppable:w.descriptor},P=t.subscribe(c);return n={critical:T,unsubscribe:P},bF({critical:T,registry:t,scrollOptions:p.scrollOptions})},stopPublishing:u}},y1=(t,e)=>t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP",DF=t=>{window.scrollBy(t.x,t.y)};const kF=Ge(t=>td(t).filter(e=>!(!e.isEnabled||!e.frame))),NF=(t,e)=>kF(e).find(r=>(r.frame||$(),e1(r.frame.pageMarginBox)(t)))||null;var OF=({center:t,destination:e,droppables:n})=>{if(e){const i=n[e];return i.frame?i:null}return NF(t,n)};const ma={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:t=>t**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var LF=(t,e,n=()=>ma)=>{const r=n(),i=t[e.size]*r.startFromPercentage,o=t[e.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},v1=({startOfRange:t,endOfRange:e,current:n})=>{const r=e-t;return r===0?0:(n-t)/r},ug=1,MF=(t,e,n=()=>ma)=>{const r=n();if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return r.maxPixelScroll;if(t===e.startScrollingFrom)return ug;const o=1-v1({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},VF=(t,e,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=e,a=o,c=Date.now()-s;if(c>=o)return t;if(c<i)return ug;const d=v1({startOfRange:i,endOfRange:a,current:c}),h=t*r.ease(d);return Math.ceil(h)},I0=({distanceToEdge:t,thresholds:e,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=MF(t,e,i);return o===0?0:r?Math.max(VF(o,n,i),ug):o},T0=({container:t,distanceToEdges:e,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=LF(t,r,o);return e[r.end]<e[r.start]?I0({distanceToEdge:e[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*I0({distanceToEdge:e[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},FF=({container:t,subject:e,proposedScroll:n})=>{const r=e.height>t.height,i=e.width>t.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const UF=jS(t=>t===0?0:t);var _1=({dragStartTime:t,container:e,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},a=T0({container:e,distanceToEdges:s,dragStartTime:t,axis:tg,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=T0({container:e,distanceToEdges:s,dragStartTime:t,axis:qS,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=UF({x:u,y:a});if(br(c,He))return null;const d=FF({container:e,subject:n,proposedScroll:c});return d?br(d,He)?null:d:null};const BF=jS(t=>t===0?0:t>0?1:-1),cg=(()=>{const t=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:r})=>{const i=Je(e,r),o={x:t(i.x,n.x),y:t(i.y,n.y)};return br(o,He)?null:o}})(),w1=({max:t,current:e,change:n})=>{const r={x:Math.max(e.x,t.x),y:Math.max(e.y,t.y)},i=BF(n),o=cg({max:r,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},dg=(t,e)=>w1({current:t.scroll.current,max:t.scroll.max,change:e}),$F=(t,e)=>{if(!dg(t,e))return null;const n=t.scroll.max,r=t.scroll.current;return cg({current:r,max:n,change:e})},hg=(t,e)=>{const n=t.frame;return n?w1({current:n.scroll.current,max:n.scroll.max,change:e}):!1},jF=(t,e)=>{const n=t.frame;return!n||!hg(t,e)?null:cg({current:n.scroll.current,max:n.scroll.max,change:e})};var zF=({viewport:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=_1({dragStartTime:r,container:t.frame,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&dg(t,s)?s:null},WF=({droppable:t,subject:e,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=t.frame;if(!s)return null;const a=_1({dragStartTime:r,container:s.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&hg(t,a)?a:null},S0=({state:t,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=t.current.page.borderBoxCenter,u=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){const h=t.viewport,p=zF({dragStartTime:e,viewport:h,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(p){r(p);return}}const c=OF({center:s,destination:Ut(t.impact),droppables:t.dimensions.droppables});if(!c)return;const d=WF({dragStartTime:e,droppable:c,subject:u,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});d&&i(c.descriptor.id,d)},GF=({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n=()=>ma})=>{const r=ca(t),i=ca(e);let o=null;const s=c=>{o||$();const{shouldUseTimeDampening:d,dragStartTime:h}=o;S0({state:c,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:d,getAutoScrollerOptions:n})};return{start:c=>{o&&$();const d=Date.now();let h=!1;const p=()=>{h=!0};S0({state:c,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),o={dragStartTime:d,shouldUseTimeDampening:h},h&&s(c)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},HF=({move:t,scrollDroppable:e,scrollWindow:n})=>{const r=(a,u)=>{const c=Je(a.current.client.selection,u);t({client:c})},i=(a,u)=>{if(!hg(a,u))return u;const c=jF(a,u);if(!c)return e(a.descriptor.id,u),null;const d=Mt(u,c);return e(a.descriptor.id,d),Mt(u,d)},o=(a,u,c)=>{if(!a||!dg(u,c))return c;const d=$F(u,c);if(!d)return n(c),null;const h=Mt(c,d);return n(h),Mt(c,h)};return a=>{const u=a.scrollJumpRequest;if(!u)return;const c=Ut(a.impact);c||$();const d=i(a.dimensions.droppables[c],u);if(!d)return;const h=a.viewport,p=o(a.isWindowScrollAllowed,h,d);p&&r(a,p)}},qF=({scrollDroppable:t,scrollWindow:e,move:n,getAutoScrollerOptions:r})=>{const i=GF({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r}),o=HF({move:n,scrollWindow:e,scrollDroppable:t});return{scroll:u=>{if(!(r().disabled||u.phase!=="DRAGGING")){if(u.movementMode==="FLUID"){i.scroll(u);return}u.scrollJumpRequest&&o(u)}},start:i.start,stop:i.stop}};const Eo="data-rfd",Io=(()=>{const t=`${Eo}-drag-handle`;return{base:t,draggableId:`${t}-draggable-id`,contextId:`${t}-context-id`}})(),Jf=(()=>{const t=`${Eo}-draggable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),KF=(()=>{const t=`${Eo}-droppable`;return{base:t,contextId:`${t}-context-id`,id:`${t}-id`}})(),A0={contextId:`${Eo}-scroll-container-context-id`},QF=t=>e=>`[${e}="${t}"]`,ls=(t,e)=>t.map(n=>{const r=n.styles[e];return r?`${n.selector} { ${r} }`:""}).join(" "),YF="pointer-events: none;";var XF=t=>{const e=QF(t),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Io.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:YF,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${Os.outOfTheWay};
    `;return{selector:e(Jf.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:e(KF.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ls(s,"always"),resting:ls(s,"resting"),dragging:ls(s,"dragging"),dropAnimating:ls(s,"dropAnimating"),userCancel:ls(s,"userCancel")}};const JF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;var Bt=JF;const Th=()=>{const t=document.querySelector("head");return t||$(),t},C0=t=>{const e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.type="text/css",e};function ZF(t,e){const n=oe(()=>XF(t),[t]),r=N.useRef(null),i=N.useRef(null),o=q(Ge(h=>{const p=i.current;p||$(),p.textContent=h}),[]),s=q(h=>{const p=r.current;p||$(),p.textContent=h},[]);Bt(()=>{!r.current&&!i.current||$();const h=C0(e),p=C0(e);return r.current=h,i.current=p,h.setAttribute(`${Eo}-always`,t),p.setAttribute(`${Eo}-dynamic`,t),Th().appendChild(h),Th().appendChild(p),s(n.always),o(n.resting),()=>{const g=w=>{const T=w.current;T||$(),Th().removeChild(T),w.current=null};g(r),g(i)}},[e,s,o,n.always,n.resting,t]);const a=q(()=>o(n.dragging),[o,n.dragging]),u=q(h=>{if(h==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=q(()=>{i.current&&o(n.resting)},[o,n.resting]);return oe(()=>({dragging:a,dropping:u,resting:c}),[a,u,c])}function E1(t,e){return Array.from(t.querySelectorAll(e))}var I1=t=>t&&t.ownerDocument&&t.ownerDocument.defaultView?t.ownerDocument.defaultView:window;function od(t){return t instanceof I1(t).HTMLElement}function eU(t,e){const n=`[${Io.contextId}="${t}"]`,r=E1(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(Io.draggableId)===e);return!i||!od(i)?null:i}function tU(t){const e=N.useRef({}),n=N.useRef(null),r=N.useRef(null),i=N.useRef(!1),o=q(function(p,g){const w={id:p,focus:g};return e.current[p]=w,function(){const P=e.current;P[p]!==w&&delete P[p]}},[]),s=q(function(p){const g=eU(t,p);g&&g!==document.activeElement&&g.focus()},[t]),a=q(function(p,g){n.current===p&&(n.current=g)},[]),u=q(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&s(p)}))},[s]),c=q(function(p){n.current=null;const g=document.activeElement;g&&g.getAttribute(Io.draggableId)===p&&(n.current=p)},[]);return Bt(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),oe(()=>({register:o,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:a}),[o,c,u,a])}function nU(){const t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){const g=e.indexOf(h);g!==-1&&e.splice(g,1)}}function r(h){e.length&&e.forEach(p=>p(h))}function i(h){return t.draggables[h]||null}function o(h){const p=i(h);return p||$(),p}const s={register:h=>{t.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,p)=>{const g=t.draggables[p.descriptor.id];g&&g.uniqueId===h.uniqueId&&(delete t.draggables[p.descriptor.id],t.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,g=i(p);g&&h.uniqueId===g.uniqueId&&(delete t.draggables[p],t.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:o,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(t.draggables).filter(p=>p.descriptor.type===h)};function a(h){return t.droppables[h]||null}function u(h){const p=a(h);return p||$(),p}const c={register:h=>{t.droppables[h.descriptor.id]=h},unregister:h=>{const p=a(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete t.droppables[h.descriptor.id]},getById:u,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(t.droppables).filter(p=>p.descriptor.type===h)};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:c,subscribe:n,clean:d}}function rU(){const t=oe(nU,[]);return N.useEffect(()=>function(){te.version.startsWith("16")||te.version.startsWith("17")?requestAnimationFrame(t.clean):t.clean()},[t]),t}var fg=te.createContext(null),Wu=()=>{const t=document.body;return t||$(),t};const iU={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"};var oU=iU;const sU=t=>`rfd-announcement-${t}`;function aU(t){const e=oe(()=>sU(t),[t]),n=N.useRef(null);return N.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Pr(o.style,oU),Wu().appendChild(o),function(){setTimeout(function(){const u=Wu();u.contains(o)&&u.removeChild(o),o===n.current&&(n.current=null)})}},[e]),q(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}let lU=0;const T1={separator:"::"};function uU(t,e=T1){return oe(()=>`${t}${e.separator}${lU++}`,[e.separator,t])}function cU(t,e=T1){const n=te.useId();return oe(()=>`${t}${e.separator}${n}`,[e.separator,t,n])}var pg="useId"in te?cU:uU;function dU({contextId:t,uniqueId:e}){return`rfd-hidden-text-${t}-${e}`}function hU({contextId:t,text:e}){const n=pg("hidden-text",{separator:"-"}),r=oe(()=>dU({contextId:t,uniqueId:n}),[n,t]);return N.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=e,o.style.display="none",Wu().appendChild(o),function(){const a=Wu();a.contains(o)&&a.removeChild(o)}},[r,e]),r}var sd=te.createContext(null);function S1(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),e}function fU(){let t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&$();const a={abandon:s};return t=a,a}function i(){t||$(),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}function ga(t){return t.phase==="IDLE"||t.phase==="DROP_ANIMATING"?!1:t.isDragging}const pU=9,mU=13,mg=27,A1=32,gU=33,yU=34,vU=35,_U=36,wU=37,EU=38,IU=39,TU=40,SU={[mU]:!0,[pU]:!0};var C1=t=>{SU[t.keyCode]&&t.preventDefault()};const AU=(()=>{const t="visibilitychange";return typeof document>"u"?t:[t,`ms${t}`,`webkit${t}`,`moz${t}`,`o${t}`].find(r=>`on${r}`in document)||t})();var ad=AU;const P1=0,P0=5;function CU(t,e){return Math.abs(e.x-t.x)>=P0||Math.abs(e.y-t.y)>=P0}const R0={type:"IDLE"};function PU({cancel:t,completed:e,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==P1)return;const u={x:s,y:a},c=n();if(c.type==="DRAGGING"){i.preventDefault(),c.actions.move(u);return}c.type!=="PENDING"&&$();const d=c.point;if(!CU(d,u))return;i.preventDefault();const h=c.actions.fluidLift(u);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){t();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),t()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){t();return}if(i.keyCode===mg){i.preventDefault(),t();return}C1(i)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&$(),o.actions.shouldRespectForcePress()){t();return}i.preventDefault()}},{eventName:ad,fn:t}]}function RU(t){const e=N.useRef(R0),n=N.useRef(Rr),r=oe(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==P1||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=t.findClosestDraggableId(h);if(!p)return;const g=t.tryGetLock(p,s,{sourceEvent:h});if(!g)return;h.preventDefault();const w={x:h.clientX,y:h.clientY};n.current(),c(g,w)}}),[t]),i=oe(()=>({eventName:"webkitmouseforcewillbegin",fn:d=>{if(d.defaultPrevented)return;const h=t.findClosestDraggableId(d);if(!h)return;const p=t.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||t.canGetLock(h)&&d.preventDefault())}}),[t]),o=q(function(){const h={passive:!1,capture:!0};n.current=Xt(window,[i,r],h)},[i,r]),s=q(()=>{e.current.type!=="IDLE"&&(e.current=R0,n.current(),o())},[o]),a=q(()=>{const d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),u=q(function(){const h={capture:!0,passive:!1},p=PU({cancel:a,completed:s,getPhase:()=>e.current,setPhase:g=>{e.current=g}});n.current=Xt(window,p,h)},[a,s]),c=q(function(h,p){e.current.type!=="IDLE"&&$(),e.current={type:"PENDING",point:p,actions:h},u()},[u]);Bt(function(){return o(),function(){n.current()}},[o])}function bU(){}const xU={[yU]:!0,[gU]:!0,[_U]:!0,[vU]:!0};function DU(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===mg){i.preventDefault(),n();return}if(i.keyCode===A1){i.preventDefault(),r();return}if(i.keyCode===TU){i.preventDefault(),t.moveDown();return}if(i.keyCode===EU){i.preventDefault(),t.moveUp();return}if(i.keyCode===IU){i.preventDefault(),t.moveRight();return}if(i.keyCode===wU){i.preventDefault(),t.moveLeft();return}if(xU[i.keyCode]){i.preventDefault();return}C1(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:ad,fn:n}]}function kU(t){const e=N.useRef(bU),n=oe(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==A1)return;const s=t.findClosestDraggableId(o);if(!s)return;const a=t.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();let u=!0;const c=a.snapLift();e.current();function d(){u||$(),u=!1,e.current(),r()}e.current=Xt(window,DU(c,d),{capture:!0,passive:!1})}}),[t]),r=q(function(){const o={passive:!1,capture:!0};e.current=Xt(window,[n],o)},[n]);Bt(function(){return r(),function(){e.current()}},[r])}const Sh={type:"IDLE"},NU=120,OU=.15;function LU({cancel:t,getPhase:e}){return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){t();return}n.keyCode===mg&&n.preventDefault(),t()}},{eventName:ad,fn:t}]}function MU({cancel:t,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){t();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){t();return}r.preventDefault(),t()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&$();const o=r.touches[0];if(!o||!(o.force>=OU))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&t();return}if(a){if(i.hasMoved){r.preventDefault();return}t();return}r.preventDefault()}},{eventName:ad,fn:t}]}function VU(t){const e=N.useRef(Sh),n=N.useRef(Rr),r=q(function(){return e.current},[]),i=q(function(g){e.current=g},[]),o=oe(()=>({eventName:"touchstart",fn:function(g){if(g.defaultPrevented)return;const w=t.findClosestDraggableId(g);if(!w)return;const T=t.tryGetLock(w,a,{sourceEvent:g});if(!T)return;const P=g.touches[0],{clientX:E,clientY:_}=P,C={x:E,y:_};n.current(),h(T,C)}}),[t]),s=q(function(){const g={capture:!0,passive:!1};n.current=Xt(window,[o],g)},[o]),a=q(()=>{const p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(Sh),n.current(),s())},[s,i]),u=q(()=>{const p=e.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=q(function(){const g={capture:!0,passive:!1},w={cancel:u,completed:a,getPhase:r},T=Xt(window,MU(w),g),P=Xt(window,LU(w),g);n.current=function(){T(),P()}},[u,r,a]),d=q(function(){const g=r();g.type!=="PENDING"&&$();const w=g.actions.fluidLift(g.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),h=q(function(g,w){r().type!=="IDLE"&&$();const T=setTimeout(d,NU);i({type:"PENDING",point:w,actions:g,longPressTimerId:T}),c()},[c,r,i,d]);Bt(function(){return s(),function(){n.current();const w=r();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),i(Sh))}},[r,s,i]),Bt(function(){return Xt(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const FU=["input","button","textarea","select","option","optgroup","video","audio"];function R1(t,e){if(e==null)return!1;if(FU.includes(e.tagName.toLowerCase()))return!0;const r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:R1(t,e.parentElement)}function UU(t,e){const n=e.target;return od(n)?R1(t,n):!1}var BU=t=>dn(t.getBoundingClientRect()).center;function $U(t){return t instanceof I1(t).Element}const jU=(()=>{const t="matches";return typeof document>"u"?t:[t,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||t})();function b1(t,e){return t==null?null:t[jU](e)?t:b1(t.parentElement,e)}function zU(t,e){return t.closest?t.closest(e):b1(t,e)}function WU(t){return`[${Io.contextId}="${t}"]`}function GU(t,e){const n=e.target;if(!$U(n))return null;const r=WU(t),i=zU(n,r);return!i||!od(i)?null:i}function HU(t,e){const n=GU(t,e);return n?n.getAttribute(Io.draggableId):null}function qU(t,e){const n=`[${Jf.contextId}="${t}"]`,i=E1(document,n).find(o=>o.getAttribute(Jf.id)===e);return!i||!od(i)?null:i}function KU(t){t.preventDefault()}function Cl({expected:t,phase:e,isLockActive:n,shouldWarn:r}){return!(!n()||t!==e)}function x1({lockAPI:t,store:e,registry:n,draggableId:r}){if(t.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!y1(e.getState(),r))}function QU({lockAPI:t,contextId:e,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!x1({lockAPI:t,store:n,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),c=qU(e,u.descriptor.id);if(!c||s&&!u.options.canDragInteractiveElements&&UU(c,s))return null;const d=t.claim(o||Rr);let h="PRE_DRAG";function p(){return u.options.shouldRespectForcePress}function g(){return t.isActive(d)}function w(L,M){Cl({expected:L,phase:h,isLockActive:g,shouldWarn:!0})&&n.dispatch(M())}const T=w.bind(null,"DRAGGING");function P(L){function M(){t.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(M(),$()),n.dispatch(NV(L.liftActionArgs)),h="DRAGGING";function S(y,I={shouldBlockNextClick:!1}){if(L.cleanup(),I.shouldBlockNextClick){const A=Xt(window,[{eventName:"click",fn:KU,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(A)}M(),n.dispatch(u1({reason:y}))}return{isActive:()=>Cl({expected:"DRAGGING",phase:h,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:p,drop:y=>S("DROP",y),cancel:y=>S("CANCEL",y),...L.actions}}function E(L){const M=ca(y=>{T(()=>l1({client:y}))});return{...P({liftActionArgs:{id:i,clientSelection:L,movementMode:"FLUID"},cleanup:()=>M.cancel(),actions:{move:M}}),move:M}}function _(){const L={moveUp:()=>T(jV),moveRight:()=>T(WV),moveDown:()=>T(zV),moveLeft:()=>T(GV)};return P({liftActionArgs:{id:i,clientSelection:BU(c),movementMode:"SNAP"},cleanup:Rr,actions:L})}function C(){Cl({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!0})&&t.release()}return{isActive:()=>Cl({expected:"PRE_DRAG",phase:h,isLockActive:g,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:E,snapLift:_,abort:C}}const YU=[RU,kU,VU];function XU({contextId:t,store:e,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?YU:[],...r||[]],s=N.useState(()=>fU())[0],a=q(function(P,E){ga(P)&&!ga(E)&&s.tryAbandon()},[s]);Bt(function(){let P=e.getState();return e.subscribe(()=>{const _=e.getState();a(P,_),P=_})},[s,e,a]),Bt(()=>s.tryAbandon,[s.tryAbandon]);const u=q(T=>x1({lockAPI:s,registry:n,store:e,draggableId:T}),[s,n,e]),c=q((T,P,E)=>QU({lockAPI:s,registry:n,contextId:t,store:e,draggableId:T,forceSensorStop:P||null,sourceEvent:E&&E.sourceEvent?E.sourceEvent:null}),[t,s,n,e]),d=q(T=>HU(t,T),[t]),h=q(T=>{const P=n.draggable.findById(T);return P?P.options:null},[n.draggable]),p=q(function(){s.isClaimed()&&(s.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(sg()))},[s,e]),g=q(()=>s.isClaimed(),[s]),w=oe(()=>({canGetLock:u,tryGetLock:c,findClosestDraggableId:d,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:g}),[u,c,d,h,p,g]);for(let T=0;T<o.length;T++)o[T](w)}const JU=t=>({onBeforeCapture:e=>{const n=()=>{t.onBeforeCapture&&t.onBeforeCapture(e)};te.version.startsWith("16")||te.version.startsWith("17")?n():Ia.flushSync(n)},onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}),ZU=t=>({...ma,...t.autoScrollerOptions,durationDampening:{...ma.durationDampening,...t.autoScrollerOptions}});function us(t){return t.current||$(),t.current}function e4(t){const{contextId:e,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=t,s=N.useRef(null),a=S1(t),u=q(()=>JU(a.current),[a]),c=q(()=>ZU(a.current),[a]),d=aU(e),h=hU({contextId:e,text:o}),p=ZF(e,i),g=q(A=>{us(s).dispatch(A)},[]),w=oe(()=>J_({publishWhileDragging:LV,updateDroppableScroll:VV,updateDroppableIsEnabled:FV,updateDroppableIsCombineEnabled:UV,collectionStarting:MV},g),[g]),T=rU(),P=oe(()=>xF(T,w),[T,w]),E=oe(()=>qF({scrollWindow:DF,scrollDroppable:P.scrollDroppable,getAutoScrollerOptions:c,...J_({move:l1},g)}),[P.scrollDroppable,g,c]),_=tU(e),C=oe(()=>CF({announce:d,autoScroller:E,dimensionMarshal:P,focusMarshal:_,getResponders:u,styleMarshal:p}),[d,E,P,_,u,p]);s.current=C;const D=q(()=>{const A=us(s);A.getState().phase!=="IDLE"&&A.dispatch(sg())},[]),L=q(()=>{const A=us(s).getState();return A.phase==="DROP_ANIMATING"?!0:A.phase==="IDLE"?!1:A.isDragging},[]),M=oe(()=>({isDragging:L,tryAbort:D}),[L,D]);n(M);const S=q(A=>y1(us(s).getState(),A),[]),y=q(()=>Yr(us(s).getState()),[]),I=oe(()=>({marshal:P,focus:_,contextId:e,canLift:S,isMovementAllowed:y,dragHandleUsageInstructionsId:h,registry:T}),[e,P,h,_,S,y,T]);return XU({contextId:e,store:C,registry:T,customSensors:r||null,enableDefaultSensors:t.enableDefaultSensors!==!1}),N.useEffect(()=>D,[D]),te.createElement(sd.Provider,{value:I},te.createElement(cM,{context:fg,store:C},t.children))}let t4=0;function n4(){return oe(()=>`${t4++}`,[])}function r4(){return te.useId()}var i4="useId"in te?r4:n4;function o4(t){const e=i4(),n=t.dragHandleUsageInstructions||Xl.dragHandleUsageInstructions;return te.createElement(EM,null,r=>te.createElement(e4,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd,autoScrollerOptions:t.autoScrollerOptions},t.children))}const b0={dragging:5e3,dropAnimating:4500},s4=(t,e)=>e?Os.drop(e.duration):t?Os.snap:Os.fluid,a4=(t,e)=>{if(t)return e?pa.opacity.drop:pa.opacity.combining},l4=t=>t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP";function u4(t){const n=t.dimension.client,{offset:r,combineWith:i,dropping:o}=t,s=!!i,a=l4(t),u=!!o,c=u?Yf.drop(r,s):Yf.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:s4(a,o),transform:c,opacity:a4(s,u),zIndex:u?b0.dropAnimating:b0.dragging,pointerEvents:"none"}}function c4(t){return{transform:Yf.moveTo(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}function d4(t){return t.type==="DRAGGING"?u4(t):c4(t)}function h4(t,e,n=He){const r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=VS(i,r),s=Bu(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},u={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:t,placeholder:a,displaceBy:u,client:o,page:s}}function f4(t){const e=pg("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=t,u=oe(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),c=q(g=>{const w=i();return w||$(),h4(n,w,g)},[n,i]),d=oe(()=>({uniqueId:e,descriptor:n,options:u,getDimension:c}),[n,c,u,e]),h=N.useRef(d),p=N.useRef(!0);Bt(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),Bt(()=>{if(p.current){p.current=!1;return}const g=h.current;h.current=d,r.draggable.update(d,g)},[d,r.draggable])}var gg=te.createContext(null);function Gu(t){const e=N.useContext(t);return e||$(),e}function p4(t){t.preventDefault()}const m4=t=>{const e=N.useRef(null),n=q((M=null)=>{e.current=M},[]),r=q(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=Gu(sd),{type:a,droppableId:u}=Gu(gg),c=oe(()=>({id:t.draggableId,index:t.index,type:a,droppableId:u}),[t.draggableId,t.index,a,u]),{children:d,draggableId:h,isEnabled:p,shouldRespectForcePress:g,canDragInteractiveElements:w,isClone:T,mapped:P,dropAnimationFinished:E}=t;if(!T){const M=oe(()=>({descriptor:c,registry:s,getDraggableRef:r,canDragInteractiveElements:w,shouldRespectForcePress:g,isEnabled:p}),[c,s,r,w,g,p]);f4(M)}const _=oe(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:p4}:null,[i,o,h,p]),C=q(M=>{P.type==="DRAGGING"&&P.dropping&&M.propertyName==="transform"&&(te.version.startsWith("16")||te.version.startsWith("17")?E():Ia.flushSync(E))},[E,P]),D=oe(()=>{const M=d4(P),S=P.type==="DRAGGING"&&P.dropping?C:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:M,onTransitionEnd:S},dragHandleProps:_}},[i,_,h,P,C,n]),L=oe(()=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}}),[c.droppableId,c.id,c.index,c.type]);return te.createElement(te.Fragment,null,d(D,P.snapshot,L))};var g4=m4,D1=(t,e)=>t===e,k1=t=>{const{combine:e,destination:n}=t;return n?n.droppableId:e?e.droppableId:null};const y4=t=>t.combine?t.combine.draggableId:null,v4=t=>t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null;function _4(){const t=Ge((i,o)=>({x:i,y:o})),e=Ge((i,o,s=null,a=null,u=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=Ge((i,o,s,a,u=null,c=null,d=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:e(o,a,u,c,null)}}));return(i,o)=>{if(ga(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],u=Ut(i.impact),c=v4(i.impact),d=i.forceShouldAnimate;return n(t(s.x,s.y),i.movementMode,a,o.isClone,u,c,d)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,u=i.dimensions.draggables[o.draggableId],c=s.result,d=c.mode,h=k1(c),p=y4(c),w={duration:i.dropDuration,curve:lg.drop,moveTo:i.newHomeClientOffset,opacity:p?pa.opacity.drop:null,scale:p?pa.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:u,dropping:w,draggingOver:h,combineWith:p,mode:d,forceShouldAnimate:null,snapshot:e(d,a,h,p,w)}}}return null}}function N1(t=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}const w4={mapped:{type:"SECONDARY",offset:He,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:N1(null)}};function E4(){const t=Ge((s,a)=>({x:s,y:a})),e=Ge(N1),n=Ge((s,a=null,u)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:u,snapshot:e(a)}})),r=s=>s?n(He,s,!0):null,i=(s,a,u,c)=>{const d=u.displaced.visible[s],h=!!(c.inVirtualList&&c.effected[s]),p=nd(u),g=p&&p.draggableId===s?a:null;if(!d){if(!h)return r(g);if(u.displaced.invisible[s])return null;const P=Oo(c.displacedBy.point),E=t(P.x,P.y);return n(E,g,!0)}if(h)return r(g);const w=u.displacedBy.point,T=t(w.x,w.y);return n(T,g,d.shouldAnimate)};return(s,a)=>{if(ga(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const u=s.completed;return u.result.draggableId===a.draggableId?null:i(a.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null}}const I4=()=>{const t=_4(),e=E4();return(r,i)=>t(r,i)||e(r,i)||w4},T4={dropAnimationFinished:c1},S4=LS(I4,T4,null,{context:fg,areStatePropsEqual:D1})(g4);var A4=S4;function O1(t){return Gu(gg).isUsingCloneFor===t.draggableId&&!t.isClone?null:te.createElement(A4,t)}function C4(t){const e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return te.createElement(O1,Pr({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const L1=t=>e=>t===e,P4=L1("scroll"),R4=L1("auto"),x0=(t,e)=>e(t.overflowX)||e(t.overflowY),b4=t=>{const e=window.getComputedStyle(t),n={overflowX:e.overflowX,overflowY:e.overflowY};return x0(n,P4)||x0(n,R4)},x4=()=>!1,M1=t=>t==null?null:t===document.body?x4()?t:null:t===document.documentElement?null:b4(t)?t:M1(t.parentElement);var Zf=t=>({x:t.scrollLeft,y:t.scrollTop});const V1=t=>t?window.getComputedStyle(t).position==="fixed"?!0:V1(t.parentElement):!1;var D4=t=>{const e=M1(t),n=V1(t);return{closestScrollable:e,isFixedOnPage:n}},k4=({descriptor:t,isEnabled:e,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const u=(()=>{if(!a)return null;const{scrollSize:p,client:g}=a,w=p1({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:g.paddingBox.height,width:g.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:g,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:w,diff:{value:He,displacement:He}}}})(),c=i==="vertical"?tg:qS,d=wo({page:s,withPlaceholder:null,axis:c,frame:u});return{descriptor:t,isCombineEnabled:n,isFixedOnPage:r,axis:c,isEnabled:e,client:o,page:s,frame:u,subject:d}};const N4=(t,e)=>{const n=FS(t);if(!e||t!==e)return n;const r=n.paddingBox.top-e.scrollTop,i=n.paddingBox.left-e.scrollLeft,o=r+e.scrollHeight,s=i+e.scrollWidth,u=Xm({top:r,right:s,bottom:o,left:i},n.border);return Jm({borderBox:u,margin:n.margin,border:n.border,padding:n.padding})};var O4=({ref:t,descriptor:e,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const u=n.closestScrollable,c=N4(t,u),d=Bu(c,r),h=(()=>{if(!u)return null;const g=FS(u),w={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:g,page:Bu(g,r),scroll:Zf(u),scrollSize:w,shouldClipSubject:a}})();return k4({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:c,page:d,closest:h})};const L4={passive:!1},M4={passive:!0};var D0=t=>t.shouldPublishImmediately?L4:M4;const Pl=t=>t&&t.env.closestScrollable||null;function V4(t){const e=N.useRef(null),n=Gu(sd),r=pg("droppable"),{registry:i,marshal:o}=n,s=S1(t),a=oe(()=>({id:t.droppableId,type:t.type,mode:t.mode}),[t.droppableId,t.mode,t.type]),u=N.useRef(a),c=oe(()=>Ge((D,L)=>{e.current||$();const M={x:D,y:L};o.updateDroppableScroll(a.id,M)}),[a.id,o]),d=q(()=>{const D=e.current;return!D||!D.env.closestScrollable?He:Zf(D.env.closestScrollable)},[]),h=q(()=>{const D=d();c(D.x,D.y)},[d,c]),p=oe(()=>ca(h),[h]),g=q(()=>{const D=e.current,L=Pl(D);if(D&&L||$(),D.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),w=q((D,L)=>{e.current&&$();const M=s.current,S=M.getDroppableRef();S||$();const y=D4(S),I={ref:S,descriptor:a,env:y,scrollOptions:L};e.current=I;const A=O4({ref:S,descriptor:a,env:y,windowScroll:D,direction:M.direction,isDropDisabled:M.isDropDisabled,isCombineEnabled:M.isCombineEnabled,shouldClipSubject:!M.ignoreContainerClipping}),b=y.closestScrollable;return b&&(b.setAttribute(A0.contextId,n.contextId),b.addEventListener("scroll",g,D0(I.scrollOptions))),A},[n.contextId,a,g,s]),T=q(()=>{const D=e.current,L=Pl(D);return D&&L||$(),Zf(L)},[]),P=q(()=>{const D=e.current;D||$();const L=Pl(D);e.current=null,L&&(p.cancel(),L.removeAttribute(A0.contextId),L.removeEventListener("scroll",g,D0(D.scrollOptions)))},[g,p]),E=q(D=>{const L=e.current;L||$();const M=Pl(L);M||$(),M.scrollTop+=D.y,M.scrollLeft+=D.x},[]),_=oe(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:T,dragStopped:P,scroll:E}),[P,w,T,E]),C=oe(()=>({uniqueId:r,descriptor:a,callbacks:_}),[_,a,r]);Bt(()=>(u.current=C.descriptor,i.droppable.register(C),()=>{e.current&&P(),i.droppable.unregister(C)}),[_,a,P,C,o,i.droppable]),Bt(()=>{e.current&&o.updateDroppableIsEnabled(u.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),Bt(()=>{e.current&&o.updateDroppableIsCombineEnabled(u.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function Ah(){}const k0={width:0,height:0,margin:RM},F4=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>t||n==="close"?k0:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},U4=({isAnimatingOpenOnMount:t,placeholder:e,animate:n})=>{const r=F4({isAnimatingOpenOnMount:t,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?Os.placeholder:null}},B4=t=>{const e=N.useRef(null),n=q(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=t,[a,u]=N.useState(t.animate==="open");N.useEffect(()=>a?r!=="open"?(n(),u(!1),Ah):e.current?Ah:(e.current=setTimeout(()=>{e.current=null,u(!1)}),n):Ah,[r,a,n]);const c=q(h=>{h.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),d=U4({isAnimatingOpenOnMount:a,animate:t.animate,placeholder:t.placeholder});return te.createElement(t.placeholder.tagName,{style:d,"data-rfd-placeholder-context-id":s,onTransitionEnd:c,ref:t.innerRef})};var $4=te.memo(B4);class j4 extends te.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const z4=t=>{const e=N.useContext(sd);e||$();const{contextId:n,isMovementAllowed:r}=e,i=N.useRef(null),o=N.useRef(null),{children:s,droppableId:a,type:u,mode:c,direction:d,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:g,snapshot:w,useClone:T,updateViewportMaxScroll:P,getContainerForClone:E}=t,_=q(()=>i.current,[]),C=q((b=null)=>{i.current=b},[]);q(()=>o.current,[]);const D=q((b=null)=>{o.current=b},[]),L=q(()=>{r()&&P({maxScroll:g1()})},[r,P]);V4({droppableId:a,type:u,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:g,ignoreContainerClipping:h,getDroppableRef:_});const M=oe(()=>te.createElement(j4,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},({onClose:b,data:x,animate:R})=>te.createElement($4,{placeholder:x,onClose:b,innerRef:D,animate:R,contextId:n,onTransitionEnd:L})),[n,L,t.placeholder,t.shouldAnimatePlaceholder,D]),S=oe(()=>({innerRef:C,placeholder:M,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,M,C]),y=T?T.dragging.draggableId:null,I=oe(()=>({droppableId:a,type:u,isUsingCloneFor:y}),[a,y,u]);function A(){if(!T)return null;const{dragging:b,render:x}=T,R=te.createElement(O1,{draggableId:b.draggableId,index:b.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Te,$e)=>x(Te,$e,b));return zP.createPortal(R,E())}return te.createElement(gg.Provider,{value:I},s(S,w),A())};var W4=z4;function G4(){return document.body||$(),document.body}const N0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:G4},F1=t=>{let e={...t},n;for(n in N0)t[n]===void 0&&(e={...e,[n]:N0[n]});return e},Ch=(t,e)=>t===e.droppable.type,O0=(t,e)=>e.draggables[t.draggable.id],H4=()=>{const t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...t,shouldAnimatePlaceholder:!1},n=Ge(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=Ge((o,s,a,u,c,d)=>{const h=c.descriptor.id;if(c.descriptor.droppableId===o){const w=d?{render:d,dragging:n(c.descriptor)}:null,T={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:T,useClone:w}}if(!s)return e;if(!u)return t;const g={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(o,s)=>{const a=F1(s),u=a.droppableId,c=a.type,d=!a.isDropDisabled,h=a.renderClone;if(ga(o)){const p=o.critical;if(!Ch(c,p))return e;const g=O0(p,o.dimensions),w=Ut(o.impact)===u;return r(u,d,w,w,g,h)}if(o.phase==="DROP_ANIMATING"){const p=o.completed;if(!Ch(c,p.critical))return e;const g=O0(p.critical,o.dimensions);return r(u,d,k1(p.result)===u,Ut(p.impact)===u,g,h)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const p=o.completed;if(!Ch(c,p.critical))return e;const g=Ut(p.impact)===u,w=!!(p.impact.at&&p.impact.at.type==="COMBINE"),T=p.critical.droppable.id===u;return g?w?t:e:T?t:e}return e}},q4={updateViewportMaxScroll:$V},K4=LS(H4,q4,(t,e,n)=>({...F1(n),...t,...e}),{context:fg,areStatePropsEqual:D1})(W4);var Q4=K4,U1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},L0=te.createContext&&te.createContext(U1),Y4=["attr","size","title"];function X4(t,e){if(t==null)return{};var n=J4(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J4(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(this,arguments)}function M0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M0(Object(n),!0).forEach(function(r){Z4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Z4(t,e,n){return e=eB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eB(t){var e=tB(t,"string");return typeof e=="symbol"?e:e+""}function tB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B1(t){return t&&t.map((e,n)=>te.createElement(e.tag,qu({key:n},e.attr),B1(e.child)))}function ld(t){return e=>te.createElement(nB,Hu({attr:qu({},t.attr)},e),B1(t.child))}function nB(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=X4(t,Y4),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),te.createElement("svg",Hu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:qu(qu({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&te.createElement("title",null,o),t.children)};return L0!==void 0?te.createElement(L0.Consumer,null,n=>e(n)):e(U1)}function rB(t){return ld({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function iB(t){return ld({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function oB(t){return ld({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function sB(t){return ld({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}const aB=t=>{const e=new Date,r=new Date(t.seconds*1e3)-e;if(r<=0)return"Deadline passed";const i=Math.floor(r/(1e3*60*60)),o=Math.floor(r%(1e3*60*60)/(1e3*60));return`${i} hour${i!==1?"s":""} and ${o} minute${o!==1?"s":""} left`},Rl=({title:t="",status:e="",tasks:n=[],color:r="#FFFFFF",handleEditTask:i=()=>{},handleDeleteTask:o=()=>{},handleToggleComplete:s=()=>{}})=>{const a=n.filter(d=>d.status===e),[u,c]=N.useState({});return N.useEffect(()=>{const d=()=>{const p={};n.forEach(g=>{g.deadline&&(p[g.id]=aB(g.deadline))}),c(p)};d();const h=setInterval(d,6e4);return()=>clearInterval(h)},[n]),F.jsx(Q4,{droppableId:e,children:(d,h)=>F.jsxs("div",{className:`bg-white shadow-lg rounded-lg  mb-4 w-full ${h.isDraggingOver?"bg-blue-100":""}`,...d.droppableProps,ref:d.innerRef,children:[F.jsx("div",{className:"rounded-t-lg p-2 mb-2",style:{backgroundColor:r},children:F.jsx("h2",{className:"text-lg font-bold text-center",children:t})}),F.jsxs("ul",{children:[a.map((p,g)=>F.jsx(C4,{draggableId:p.id,index:g,children:(w,T)=>F.jsxs("li",{ref:w.innerRef,...w.draggableProps,...w.dragHandleProps,className:`p-1 border-b last:border-none flex justify-between items-center ${T.isDragging?"bg-gray-100":""}`,children:[F.jsxs("div",{className:p.completed?"line-through text-gray-500":"",children:[F.jsx("span",{children:p.name}),F.jsx("br",{}),F.jsx("small",{className:"text-gray-500",children:p.deadline?u[p.id]||"Calculating...":"No deadline"})]}),F.jsxs("div",{className:"flex space-x-2",children:[F.jsx("button",{onClick:()=>s(p.id,p.completed),className:`py-1 px-2 rounded shadow-sm focus:outline-none focus:ring-2 ${p.completed?"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-500":"bg-green-500 text-white hover:bg-green-600 focus:ring-green-500"}`,children:p.completed?F.jsx(oB,{}):F.jsx(rB,{})}),F.jsx("button",{onClick:()=>i(p),className:"bg-yellow-500 text-white py-1 px-2 rounded shadow-sm hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-yellow-500",children:F.jsx(iB,{})}),F.jsx("button",{onClick:()=>o(p.id),className:"bg-red-500 text-white py-1 px-2 rounded shadow-sm hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500",children:F.jsx(sB,{})})]})]})},p.id)),d.placeholder]})]})})},lB=({isOpen:t,onClose:e,task:n,setTask:r,status:i,setStatus:o,deadline:s,setDeadline:a,handleSaveTask:u,editTask:c})=>t?F.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-gray-900 bg-opacity-50",children:F.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md",children:[F.jsx("h2",{className:"text-xl font-bold mb-4",children:c?"Edit Task":"Add Task"}),F.jsx("input",{type:"text",value:n,onChange:d=>r(d.target.value),placeholder:"Enter task",className:"w-full px-3 py-2 mb-4 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),F.jsx("input",{type:"datetime-local",value:s,onChange:d=>a(d.target.value),placeholder:"Enter deadline",className:"w-full px-3 py-2 mb-4 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),F.jsxs("select",{value:i,onChange:d=>o(d.target.value),className:"w-full px-3 py-2 mb-4 border rounded shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[F.jsx("option",{value:"mandatory-urgent",children:"Mandatory & Urgent"}),F.jsx("option",{value:"mandatory-not-urgent",children:"Mandatory & Not Urgent"}),F.jsx("option",{value:"unmandatory-urgent",children:"Unmandatory & Urgent"}),F.jsx("option",{value:"unmandatory-not-urgent",children:"Unmandatory & Not Urgent"})]}),F.jsxs("div",{className:"flex justify-end",children:[F.jsx("button",{onClick:e,className:"mr-4 bg-gray-300 text-gray-800 px-4 py-2 rounded hover:bg-gray-400",children:"Cancel"}),F.jsx("button",{onClick:()=>{u(),e()},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:c?"Update Task":"Add Task"})]})]})}):null,uB=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(""),[i,o]=N.useState(null),[s,a]=N.useState("mandatory-urgent"),[u,c]=N.useState(null),[d,h]=N.useState(null),[p,g]=N.useState(!1),[w,T]=N.useState(""),P=Yp(),E=async()=>{try{await _D(vo),P("/todolist")}catch(y){console.error("Error signing out: ",y)}};N.useEffect(()=>{const y=vD(vo,I=>{I?(h(I),_(I)):(h(null),e([]))});return()=>y()},[]);const _=async y=>{try{const I=await YL(y);e(I)}catch(I){c(I.message)}},C=async()=>{if(!(!n.trim()||!d))try{i?(await H_(i.id,{name:n,status:s,deadline:w}),o(null)):await QL({name:n,status:s,completed:!1},w),r(""),a("mandatory-urgent"),T(""),_(d)}catch(y){c(y.message)}},D=y=>{r(y.name),a(y.status),o(y),g(!0)},L=async y=>{try{await JL(y),_(d)}catch(I){c(I.message)}},M=async(y,I)=>{try{await H_(y,{completed:!I}),_(d)}catch(A){c(A.message)}},S=async y=>{const{destination:I,source:A,draggableId:b}=y;if(!I||I.droppableId===A.droppableId&&I.index===A.index)return;const x=t.find(Te=>Te.id===b);if(!x)return;const R=t.map(Te=>Te.id===b?{...Te,status:I.droppableId}:Te);e(R);try{await XL(x.id,{status:I.droppableId}),_(d)}catch(Te){c(Te.message),e(t)}};return u?F.jsxs("div",{className:"text-center text-red-500 mt-4",children:["Error: ",u]}):F.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-1 bg-gray-200",children:F.jsxs("div",{className:"rounded-lg p-6 w-full max-w-full",children:[F.jsx("div",{className:"text-center mb-2",children:F.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Welcome, ",(d==null?void 0:d.displayName)||(d==null?void 0:d.email)]})}),F.jsx("div",{className:"max-w-8xl mx-auto p-2",children:d?F.jsxs(F.Fragment,{children:[F.jsxs("div",{className:"text-center mb-4 ",children:[F.jsx("button",{onClick:()=>g(!0),className:"bg-blue-500 text-white py-2 px-4 mx-2 rounded shadow-sm hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Add Task"}),F.jsx("button",{onClick:E,className:"bg-red-500 text-white p-2  mx-2 rounded-md hover:bg-red-600",children:"Sign out"})]}),F.jsx(o4,{onDragEnd:S,children:F.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-x-5 gap-y-20 mt-4",children:[F.jsx(Rl,{title:"Mandatory and Urgent",status:"mandatory-urgent",tasks:t,color:"#FF6961",handleEditTask:D,handleDeleteTask:L,handleToggleComplete:M}),F.jsx(Rl,{title:"Mandatory, But Not Urgent",status:"mandatory-not-urgent",tasks:t,color:"#FDFD96",handleEditTask:D,handleDeleteTask:L,handleToggleComplete:M}),F.jsx(Rl,{title:"Unmandatory and Urgent",status:"unmandatory-urgent",tasks:t,color:"#FFB347",handleEditTask:D,handleDeleteTask:L,handleToggleComplete:M}),F.jsx(Rl,{title:"Unmandatory and Not Urgent",status:"unmandatory-not-urgent",tasks:t,color:"#77DD77",handleEditTask:D,handleDeleteTask:L,handleToggleComplete:M})]})}),F.jsx(lB,{isOpen:p,onClose:()=>g(!1),task:n,setTask:r,status:s,setStatus:a,deadline:w,setDeadline:T,handleSaveTask:C,editTask:i})]}):F.jsx("div",{className:"text-center text-red-500 mt-4",children:"Please log in to see your tasks."})})]})})},cB=()=>F.jsx(LR,{children:F.jsx("div",{className:"App",children:F.jsxs(kR,{children:[F.jsx($l,{path:"/todolist/register",element:F.jsx(e2,{})}),F.jsx($l,{path:"/todolist",element:F.jsx(ZL,{})}),F.jsx($l,{path:"/todolist/tasks",element:F.jsx(uB,{})})]})})});Ph.createRoot(document.getElementById("root")).render(F.jsx(te.StrictMode,{children:F.jsx(cB,{})}));
